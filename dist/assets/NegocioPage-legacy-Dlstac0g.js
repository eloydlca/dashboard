System.register(["./index-legacy-CkFq69po.js","./SparkLine-legacy-DjnEjjdF.js"],(function(e,t){"use strict";var i,n,a,o,r,l,s,c,u,d,p,h,g,f,v,y,m,x,b,S,M,_,w,I,C,A,L,D,T,k,V,O,z,R,B,P,G,E,N,F,H,W,U,K,Z,Y,q,X,$,j,J,Q,ee,te,ie,ne,ae,oe,re,le,se,ce,ue,de,pe,he,ge,fe,ve,ye,me,xe,be,Se,Me,_e,we,Ie,Ce,Ae,Le,De,Te,ke,Ve,Oe,ze,Re,Be,Pe,Ge,Ee,Ne,Fe,He,We,Ue,Ke,Ze,Ye,qe,Xe,$e,je,Je,Qe,et,tt,it,nt,at,ot,rt,lt,st,ct,ut,dt,pt,ht,gt,ft,vt,yt,mt,xt,bt,St,Mt,_t,wt,It,Ct,At,Lt,Dt,Tt,kt,Vt,Ot,zt,Rt,Bt,Pt,Gt,Et,Nt,Ft,Ht,Wt,Ut,Kt,Zt,Yt,qt,Xt,$t,jt,Jt,Qt,ei,ti,ii,ni,ai,oi,ri,li;return{setters:[e=>{i=e._,n=e.r,a=e.o,o=e.a,r=e.c,l=e.b,s=e.d,c=e.e,u=e.u,d=e.m,p=e.f,h=e.g,g=e.w,f=e.I,v=e.h,y=e.i,m=e.j,x=e.k,b=e.l,S=e.n,M=e.p},e=>{_=e.C,w=e.B,I=e.a,C=e.L,A=e.P,L=e.p,D=e.b,T=e.e,k=e.S,V=e.c,O=e.d,z=e.i,R=e.f,B=e.m,P=e.g,G=e.h,E=e.j,N=e.k,F=e.l,H=e.n,W=e.o,U=e.q,K=e.r,Z=e.s,Y=e.t,q=e.u,X=e.v,$=e.w,j=e.x,J=e.y,Q=e.z,ee=e.A,te=e.D,ie=e.E,ne=e.F,ae=e.G,oe=e.H,re=e.I,le=e.J,se=e.K,ce=e.M,ue=e.N,de=e.O,pe=e.Q,he=e.R,ge=e._,fe=e.T,ve=e.U,ye=e.V,me=e.W,xe=e.Z,be=e.X,Se=e.Y,Me=e.$,_e=e.a0,we=e.a1,Ie=e.a2,Ce=e.a3,Ae=e.a4,Le=e.a5,De=e.a6,Te=e.a7,ke=e.a8,Ve=e.a9,Oe=e.aa,ze=e.ab,Re=e.ac,Be=e.ad,Pe=e.ae,Ge=e.af,Ee=e.ag,Ne=e.ah,Fe=e.ai,He=e.aj,We=e.ak,Ue=e.al,Ke=e.am,Ze=e.an,Ye=e.ao,qe=e.ap,Xe=e.aq,$e=e.ar,je=e.as,Je=e.at,Qe=e.au,et=e.av,tt=e.aw,it=e.ax,nt=e.ay,at=e.az,ot=e.aA,rt=e.aB,lt=e.aC,st=e.aD,ct=e.aE,ut=e.aF,dt=e.aG,pt=e.aH,ht=e.aI,gt=e.aJ,ft=e.aK,vt=e.aL,yt=e.aM,mt=e.aN,xt=e.aO,bt=e.aP,St=e.aQ,Mt=e.aR,_t=e.aS,wt=e.aT,It=e.aU,Ct=e.aV,At=e.aW,Lt=e.aX,Dt=e.aY,Tt=e.aZ,kt=e.a_,Vt=e.a$,Ot=e.b0,zt=e.b1,Rt=e.b2,Bt=e.b3,Pt=e.b4,Gt=e.b5,Et=e.b6,Nt=e.b7,Ft=e.b8,Ht=e.b9,Wt=e.ba,Ut=e.bb,Kt=e.bc,Zt=e.bd,Yt=e.be,qt=e.bf,Xt=e.bg,$t=e.bh,jt=e.bi,Jt=e.bj,Qt=e.bk,ei=e.bl,ti=e.bm,ii=e.bn,ni=e.bo,ai=e.bp,oi=e.bq,ri=e.br,li=e.bs}],execute:function(){var t=document.createElement("style");t.textContent=".chart-wrapper[data-v-f9d21a11]{height:100%;display:flex;flex-direction:column;padding:12px}.chart-header[data-v-f9d21a11]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.chart-title[data-v-f9d21a11]{margin:0;font-size:16px;font-weight:600;color:#a9dbb5}.chart-subtitle[data-v-f9d21a11]{margin:2px 0 0;font-size:11px;color:rgba(169,219,181,.7)}.chart-badge[data-v-f9d21a11]{background:#ab4f49;color:#cfe2cc;padding:3px 6px;border-radius:16px;font-size:11px;font-weight:600}.chart-content[data-v-f9d21a11]{flex:1;position:relative;min-height:0}.chart-wrapper[data-v-78075d6f]{height:100%;display:flex;flex-direction:column;padding:16px}.chart-header[data-v-78075d6f]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.chart-title[data-v-78075d6f]{margin:0;font-size:18px;font-weight:600;color:#a9dbb5}.chart-subtitle[data-v-78075d6f]{margin:4px 0 0;font-size:12px;color:rgba(169,219,181,.7)}.chart-content[data-v-78075d6f]{flex:1;position:relative;min-height:250px}@media (min-width: 992px){.chart-content[data-v-78075d6f]{min-height:300px}}.chart-wrapper[data-v-64de44b6]{height:100%;display:flex;flex-direction:column;padding:16px}.chart-header[data-v-64de44b6]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:16px}.chart-title[data-v-64de44b6]{margin:0;font-size:18px;font-weight:600;color:#a9dbb5}.chart-subtitle[data-v-64de44b6]{margin:4px 0 0;font-size:12px;color:rgba(169,219,181,.7)}.chart-badge[data-v-64de44b6]{background:rgba(123,208,141,.2);color:#7bd08d;padding:4px 8px;border-radius:16px;font-size:12px;font-weight:600}.chart-content[data-v-64de44b6]{flex:1;position:relative;min-height:250px}@media (min-width: 992px){.chart-content[data-v-64de44b6]{min-height:300px}}.chart-wrapper[data-v-ca742652]{height:100%;display:flex;flex-direction:column;padding:12px}.chart-header[data-v-ca742652]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:8px}.chart-title[data-v-ca742652]{margin:0;font-size:16px;font-weight:600;color:#a9dbb5}.chart-subtitle[data-v-ca742652]{margin:2px 0 0;font-size:11px;color:rgba(169,219,181,.7)}.chart-content[data-v-ca742652]{flex:1;position:relative;min-height:0}.heatmap-chart[data-v-ca742652]{width:100%;height:100%}.toolbar[data-v-5f708f0a]{--background: #002C1B;--color: white}.dashboard-content[data-v-5f708f0a]{--background: #001B11;--padding-top: 0;--padding-bottom: 0;--padding-start: 0;--padding-end: 0}.dashboard-container[data-v-5f708f0a]{display:flex;flex-direction:column;height:100%;padding:12px;gap:12px;overflow:hidden}.kpi-row[data-v-5f708f0a]{display:grid;grid-template-columns:repeat(4,1fr);gap:12px}.kpi-card[data-v-5f708f0a]{background:transparent;border-radius:12px;padding:0;overflow:hidden;height:80px;position:relative}.charts-grid[data-v-5f708f0a]{display:grid;grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(2,1fr);gap:12px;flex:1;min-height:0}.chart-card[data-v-5f708f0a]{background:rgba(0,44,27,.5);border-radius:12px;overflow:hidden;border:1px solid rgba(169,219,181,.1);box-shadow:0 4px 6px rgba(0,0,0,.1);min-height:0;height:100%}.live-indicator[data-v-5f708f0a]{position:absolute;top:8px;right:8px;display:flex;align-items:center;background:rgba(123,208,141,.2);border-radius:16px;padding:3px 6px 3px 13px}.pulse-dot[data-v-5f708f0a]{position:absolute;width:8px;height:8px;background-color:#7bd08d;border-radius:50%;left:4px;top:50%;transform:translateY(-50%);animation:pulse-5f708f0a 2s infinite}.live-text[data-v-5f708f0a]{color:#7bd08d;font-size:10px;font-weight:600}@keyframes pulse-5f708f0a{0%{box-shadow:0 0 rgba(123,208,141,.7)}70%{box-shadow:0 0 0 10px rgba(123,208,141,0)}to{box-shadow:0 0 rgba(123,208,141,0)}}@media (max-width: 1200px){.kpi-row[data-v-5f708f0a]{grid-template-columns:repeat(2,1fr);gap:12px}.charts-grid[data-v-5f708f0a]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 768px){.kpi-row[data-v-5f708f0a]{grid-template-columns:repeat(2,1fr)}.charts-grid[data-v-5f708f0a]{grid-template-columns:1fr;height:auto;overflow:auto}.chart-card[data-v-5f708f0a]{height:300px}.dashboard-container[data-v-5f708f0a]{overflow:auto}}@media (max-width: 480px){.kpi-row[data-v-5f708f0a]{grid-template-columns:1fr}.dashboard-container[data-v-5f708f0a]{padding:8px;gap:8px}}\n/*$vite$:1*/",document.head.appendChild(t);const si={class:"chart-wrapper"},ci={class:"chart-content"},ui=i({__name:"MAUBubble",setup(e){_.register(w,I,C,A,L,D);const t=n(null);let i=null;return a((()=>{const e=[{x:0,y:.22,rawValue:50},{x:1,y:.25,rawValue:56.8},{x:2,y:.27,rawValue:61.3},{x:3,y:.26,rawValue:59},{x:4,y:.29,rawValue:65.9},{x:5,y:.32,rawValue:72.7},{x:6,y:.28,rawValue:63.6}].map((e=>({x:e.x,y:e.y,r:e.rawValue/3,rawValue:e.rawValue})));i=new _(t.value.getContext("2d"),{type:"bubble",data:{datasets:[{label:"MAU Ratio",data:e,backgroundColor:"rgba(123, 208, 141, 0.7)",borderColor:"rgba(123, 208, 141, 1)"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:10,bottom:20,left:5,right:5}},scales:{x:{type:"category",labels:["Ene","Feb","Mar","Abr","May","Jun","Jul"],ticks:{color:"#A9DBB5",font:{size:10},padding:5},grid:{color:"rgba(169, 219, 181, 0.1)"}},y:{beginAtZero:!0,min:0,max:.4,ticks:{callback:e=>`${(100*e).toFixed(0)}%`,color:"#A9DBB5",stepSize:.1,font:{size:10},padding:5},grid:{color:"rgba(169, 219, 181, 0.1)"}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#002C1B",titleColor:"#A9DBB5",bodyColor:"#FFFFFF",borderColor:"#7BD08D",borderWidth:1,callbacks:{label:e=>`Ratio: ${(100*e.raw.y).toFixed(1)}% â€” Usuarios: ${10*e.raw.rawValue}`}}}}})})),o((()=>{i&&i.destroy()})),(e,i)=>(l(),r("div",si,[i[0]||(i[0]=s("div",{class:"chart-header"},[s("div",null,[s("h2",{class:"chart-title"},"MAU Ratio"),s("p",{class:"chart-subtitle"},"Engagement promedio de usuarios activos")]),s("div",{class:"chart-badge"},"-12.5%")],-1)),s("div",ci,[s("canvas",{ref_key:"chartRef",ref:t},null,512)])]))}},[["__scopeId","data-v-f9d21a11"]]);var di=function(){return function(e){this.coordSysDims=[],this.axisMap=V(),this.categoryAxisMap=V(),this.coordSysName=e}}(),pi={cartesian2d:function(e,t,i,n){var a=e.getReferringComponents("xAxis",k).models[0],o=e.getReferringComponents("yAxis",k).models[0];t.coordSysDims=["x","y"],i.set("x",a),i.set("y",o),hi(a)&&(n.set("x",a),t.firstCategoryDimIndex=0),hi(o)&&(n.set("y",o),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},singleAxis:function(e,t,i,n){var a=e.getReferringComponents("singleAxis",k).models[0];t.coordSysDims=["single"],i.set("single",a),hi(a)&&(n.set("single",a),t.firstCategoryDimIndex=0)},polar:function(e,t,i,n){var a=e.getReferringComponents("polar",k).models[0],o=a.findAxisModel("radiusAxis"),r=a.findAxisModel("angleAxis");t.coordSysDims=["radius","angle"],i.set("radius",o),i.set("angle",r),hi(o)&&(n.set("radius",o),t.firstCategoryDimIndex=0),hi(r)&&(n.set("angle",r),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=1))},geo:function(e,t,i,n){t.coordSysDims=["lng","lat"]},parallel:function(e,t,i,n){var a=e.ecModel,o=a.getComponent("parallel",e.get("parallelIndex")),r=t.coordSysDims=o.dimensions.slice();T(o.parallelAxisIndex,(function(e,o){var l=a.getComponent("parallelAxis",e),s=r[o];i.set(s,l),hi(l)&&(n.set(s,l),null==t.firstCategoryDimIndex&&(t.firstCategoryDimIndex=o))}))}};function hi(e){return"category"===e.get("type")}function gi(e,t,i){i=i||{};var n,a,o=t.getSourceManager();a=(n=o.getSource()).sourceFormat===O;var r=function(e){var t=e.get("coordinateSystem"),i=new di(t),n=pi[t];if(n)return n(e,i,i.axisMap,i.categoryAxisMap),i}(t),l=function(e,t){var i,n=e.get("coordinateSystem"),a=N.get(n);return t&&t.coordSysDims&&(i=F(t.coordSysDims,(function(e){var i={name:e},n=t.axisMap.get(e);if(n){var a=n.get("type");i.type=H(a)}return i}))),i||(i=a&&(a.getDimensionsInfo?a.getDimensionsInfo():a.dimensions.slice())||["x","y"]),i}(t,r),s=i.useEncodeDefaulter,c=z(s)?s:s?R(B,l,t):null,u={coordDimensions:l,generateCoord:i.generateCoord,encodeDefine:t.getEncode(),encodeDefaulter:c,canOmitUnusedDimensions:!a},d=P(n,u),p=function(e,t,i){var n,a;return i&&T(e,(function(e,o){var r=e.coordDim,l=i.categoryAxisMap.get(r);l&&(null==n&&(n=o),e.ordinalMeta=l.getOrdinalMeta(),t&&(e.createInvertedIndices=!0)),null!=e.otherDims.itemName&&(a=!0)})),a||null==n||(e[n].otherDims.itemName=0),n}(d.dimensions,i.createInvertedIndices,r),h=a?null:o.getSharedDataStore(d),g=G(t,{schema:d,store:h}),f=new E(d,t);f.setCalculationInfo(g);var v=null!=p&&function(e){if(e.sourceFormat===O){var t=function(e){for(var t=0;t<e.length&&null==e[t];)t++;return e[t]}(e.data||[]);return!W(U(t))}}(n)?function(e,t,i,n){return n===p?i:this.defaultDimValueGetter(e,t,i,n)}:null;return f.hasItemOption=!1,f.initData(a?n:h,null,v),f}var fi=function(){function e(){}return e.prototype.getNeedCrossZero=function(){return!this.option.scale},e.prototype.getCoordSysModel=function(){},e}(),vi=q();function yi(e,t){var i=F(t,(function(t){return e.scale.parse(t)}));return"time"===e.type&&i.length>0&&(i.sort(),i.unshift(i[0]),i.push(i[i.length-1])),i}function mi(e){var t=e.getLabelModel().get("customValues");if(t){var i=Z(e),n=e.scale.getExtent(),a=yi(e,t),o=K(a,(function(e){return e>=n[0]&&e<=n[1]}));return{labels:F(o,(function(t){var n={value:t};return{formattedLabel:i(n),rawLabel:e.scale.getLabel(n),tickValue:t}}))}}return"category"===e.type?function(e){var t=e.getLabelModel(),i=bi(e,t);return!t.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:i.labelCategoryInterval}:i}(e):function(e){var t=e.scale.getTicks(),i=Z(e);return{labels:F(t,(function(t,n){return{level:t.level,formattedLabel:i(t,n),rawLabel:e.scale.getLabel(t),tickValue:t.value}}))}}(e)}function xi(e,t){var i=e.getTickModel().get("customValues");if(i){var n=e.scale.getExtent(),a=yi(e,i);return{ticks:K(a,(function(e){return e>=n[0]&&e<=n[1]}))}}return"category"===e.type?function(e,t){var i,n,a=Si(e,"ticks"),o=X(t),r=Mi(a,o);if(r)return r;if(t.get("show")&&!e.scale.isBlank()||(i=[]),z(o))i=Ii(e,o,!0);else if("auto"===o){var l=bi(e,e.getLabelModel());n=l.labelCategoryInterval,i=F(l.labels,(function(e){return e.tickValue}))}else i=wi(e,n=o,!0);return _i(a,o,{ticks:i,tickCategoryInterval:n})}(e,t):{ticks:F(e.scale.getTicks(),(function(e){return e.value}))}}function bi(e,t){var i,n,a=Si(e,"labels"),o=X(t),r=Mi(a,o);return r||(z(o)?i=Ii(e,o):(n="auto"===o?function(e){var t=vi(e).autoInterval;return null!=t?t:vi(e).autoInterval=e.calculateCategoryInterval()}(e):o,i=wi(e,n)),_i(a,o,{labels:i,labelCategoryInterval:n}))}function Si(e,t){return vi(e)[t]||(vi(e)[t]=[])}function Mi(e,t){for(var i=0;i<e.length;i++)if(e[i].key===t)return e[i].value}function _i(e,t,i){return e.push({key:t,value:i}),i}function wi(e,t,i){var n=Z(e),a=e.scale,o=a.getExtent(),r=e.getLabelModel(),l=[],s=Math.max((t||0)+1,1),c=o[0],u=a.count();0!==c&&s>1&&u/s>2&&(c=Math.round(Math.ceil(c/s)*s));var d=$(e),p=r.get("showMinLabel")||d,h=r.get("showMaxLabel")||d;p&&c!==o[0]&&f(o[0]);for(var g=c;g<=o[1];g+=s)f(g);function f(e){var t={value:e};l.push(i?e:{formattedLabel:n(t),rawLabel:a.getLabel(t),tickValue:e})}return h&&g-s!==o[1]&&f(o[1]),l}function Ii(e,t,i){var n=e.scale,a=Z(e),o=[];return T(n.getTicks(),(function(e){var r=n.getLabel(e),l=e.value;t(e.value,r)&&o.push(i?l:{formattedLabel:a(e),rawLabel:r,tickValue:l})})),o}var Ci=[0,1],Ai=function(){function e(e,t,i){this.onBand=!1,this.inverse=!1,this.dim=e,this.scale=t,this._extent=i||[0,0]}return e.prototype.contain=function(e){var t=this._extent,i=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]);return e>=i&&e<=n},e.prototype.containData=function(e){return this.scale.contain(e)},e.prototype.getExtent=function(){return this._extent.slice()},e.prototype.getPixelPrecision=function(e){return j(e||this.scale.getExtent(),this._extent)},e.prototype.setExtent=function(e,t){var i=this._extent;i[0]=e,i[1]=t},e.prototype.dataToCoord=function(e,t){var i=this._extent,n=this.scale;return e=n.normalize(e),this.onBand&&"ordinal"===n.type&&Li(i=i.slice(),n.count()),J(e,Ci,i,t)},e.prototype.coordToData=function(e,t){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&Li(i=i.slice(),n.count());var a=J(e,i,Ci,t);return this.scale.scale(a)},e.prototype.pointToData=function(e,t){},e.prototype.getTicksCoords=function(e){var t=(e=e||{}).tickModel||this.getTickModel(),i=xi(this,t).ticks,n=F(i,(function(e){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(e):e),tickValue:e}}),this);return function(e,t,i,n){var a=t.length;if(e.onBand&&!i&&a){var o,r,l=e.getExtent();if(1===a)t[0].coord=l[0],o=t[1]={coord:l[1],tickValue:t[0].tickValue};else{var s=t[a-1].tickValue-t[0].tickValue,c=(t[a-1].coord-t[0].coord)/s;T(t,(function(e){e.coord-=c/2}));var u=e.scale.getExtent();r=1+u[1]-t[a-1].tickValue,o={coord:t[a-1].coord+c*r,tickValue:u[1]+1},t.push(o)}var d=l[0]>l[1];p(t[0].coord,l[0])&&(n?t[0].coord=l[0]:t.shift()),n&&p(l[0],t[0].coord)&&t.unshift({coord:l[0]}),p(l[1],o.coord)&&(n?o.coord=l[1]:t.pop()),n&&p(o.coord,l[1])&&t.push({coord:l[1]})}function p(e,t){return e=Q(e),t=Q(t),d?e>t:e<t}}(this,n,t.get("alignWithLabel"),e.clamp),n},e.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var e=this.model.getModel("minorTick").get("splitNumber");e>0&&e<100||(e=5);var t=this.scale.getMinorTicks(e);return F(t,(function(e){return F(e,(function(e){return{coord:this.dataToCoord(e),tickValue:e}}),this)}),this)},e.prototype.getViewLabels=function(){return mi(this).labels},e.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},e.prototype.getTickModel=function(){return this.model.getModel("axisTick")},e.prototype.getBandWidth=function(){var e=this._extent,t=this.scale.getExtent(),i=t[1]-t[0]+(this.onBand?1:0);0===i&&(i=1);var n=Math.abs(e[1]-e[0]);return Math.abs(n)/i},e.prototype.calculateCategoryInterval=function(){return function(e){var t=function(e){var t=e.getLabelModel();return{axisRotate:e.getRotate?e.getRotate():e.isHorizontal&&!e.isHorizontal()?90:0,labelRotate:t.get("rotate")||0,font:t.getFont()}}(e),i=Z(e),n=(t.axisRotate-t.labelRotate)/180*Math.PI,a=e.scale,o=a.getExtent(),r=a.count();if(o[1]-o[0]<1)return 0;var l=1;r>40&&(l=Math.max(1,Math.floor(r/40)));for(var s=o[0],c=e.dataToCoord(s+1)-e.dataToCoord(s),u=Math.abs(c*Math.cos(n)),d=Math.abs(c*Math.sin(n)),p=0,h=0;s<=o[1];s+=l){var g,f,v=Y(i({value:s}),t.font,"center","top");g=1.3*v.width,f=1.3*v.height,p=Math.max(p,g,7),h=Math.max(h,f,7)}var y=p/u,m=h/d;isNaN(y)&&(y=1/0),isNaN(m)&&(m=1/0);var x=Math.max(0,Math.floor(Math.min(y,m))),b=vi(e.model),S=e.getExtent(),M=b.lastAutoInterval,_=b.lastTickCount;return null!=M&&null!=_&&Math.abs(M-x)<=1&&Math.abs(_-r)<=1&&M>x&&b.axisExtent0===S[0]&&b.axisExtent1===S[1]?x=M:(b.lastTickCount=r,b.lastAutoInterval=x,b.axisExtent0=S[0],b.axisExtent1=S[1]),x}(this)},e}();function Li(e,t){var i=(e[1]-e[0])/t/2;e[0]+=i,e[1]-=i}function Di(e,t,i,n,a,o,r,l){var s=a-e,c=o-t,u=i-e,d=n-t,p=Math.sqrt(u*u+d*d),h=(s*(u/=p)+c*(d/=p))/p;h*=p;var g=r[0]=e+h*u,f=r[1]=t+h*d;return Math.sqrt((g-a)*(g-a)+(f-o)*(f-o))}var Ti=new ee,ki=new ee,Vi=new ee,Oi=new ee,zi=new ee,Ri=[],Bi=new ee;function Pi(e,t){if(t<=180&&t>0){t=t/180*Math.PI,Ti.fromArray(e[0]),ki.fromArray(e[1]),Vi.fromArray(e[2]),ee.sub(Oi,Ti,ki),ee.sub(zi,Vi,ki);var i=Oi.len(),n=zi.len();if(!(i<.001||n<.001)){Oi.scale(1/i),zi.scale(1/n);var a=Oi.dot(zi);if(Math.cos(t)<a){var o=Di(ki.x,ki.y,Vi.x,Vi.y,Ti.x,Ti.y,Ri);Bi.fromArray(Ri),Bi.scaleAndAdd(zi,o/Math.tan(Math.PI-t));var r=Vi.x!==ki.x?(Bi.x-ki.x)/(Vi.x-ki.x):(Bi.y-ki.y)/(Vi.y-ki.y);if(isNaN(r))return;r<0?ee.copy(Bi,ki):r>1&&ee.copy(Bi,Vi),Bi.toArray(e[1])}}}}function Gi(e,t,i){if(i<=180&&i>0){i=i/180*Math.PI,Ti.fromArray(e[0]),ki.fromArray(e[1]),Vi.fromArray(e[2]),ee.sub(Oi,ki,Ti),ee.sub(zi,Vi,ki);var n=Oi.len(),a=zi.len();if(!(n<.001||a<.001)&&(Oi.scale(1/n),zi.scale(1/a),Oi.dot(t)<Math.cos(i))){var o=Di(ki.x,ki.y,Vi.x,Vi.y,Ti.x,Ti.y,Ri);Bi.fromArray(Ri);var r=Math.PI/2,l=r+Math.acos(zi.dot(t))-i;if(l>=r)ee.copy(Bi,Vi);else{Bi.scaleAndAdd(zi,o/Math.tan(Math.PI/2-l));var s=Vi.x!==ki.x?(Bi.x-ki.x)/(Vi.x-ki.x):(Bi.y-ki.y)/(Vi.y-ki.y);if(isNaN(s))return;s<0?ee.copy(Bi,ki):s>1&&ee.copy(Bi,Vi)}Bi.toArray(e[1])}}}function Ei(e,t,i,n){var a="normal"===i,o=a?e:e.ensureState(i);o.ignore=t;var r=n.get("smooth");r&&!0===r&&(r=.3),o.shape=o.shape||{},r>0&&(o.shape.smooth=r);var l=n.getModel("lineStyle").getLineStyle();a?e.useStyle(l):o.style=l}function Ni(e,t){var i=t.smooth,n=t.points;if(n)if(e.moveTo(n[0][0],n[0][1]),i>0&&n.length>=3){var a=re(n[0],n[1]),o=re(n[1],n[2]);if(!a||!o)return e.lineTo(n[1][0],n[1][1]),void e.lineTo(n[2][0],n[2][1]);var r=Math.min(a,o)*i,l=le([],n[1],n[0],r/a),s=le([],n[1],n[2],r/o),c=le([],l,s,.5);e.bezierCurveTo(l[0],l[1],l[0],l[1],c[0],c[1]),e.bezierCurveTo(s[0],s[1],s[0],s[1],n[2][0],n[2][1])}else for(var u=1;u<n.length;u++)e.lineTo(n[u][0],n[u][1])}function Fi(e,t,i){var n=e.get("borderRadius");if(null==n)return i?{cornerRadius:0}:null;W(n)||(n=[n,n,n,n]);var a=Math.abs(t.r||0-t.r0||0);return{cornerRadius:F(n,(function(e){return se(e,a)}))}}var Hi=2*Math.PI,Wi=Math.PI/180;function Ui(e,t){return ue(e.getBoxLayoutParams(),{width:t.getWidth(),height:t.getHeight()})}function Ki(e,t){var i=Ui(e,t),n=e.get("center"),a=e.get("radius");W(a)||(a=[0,a]);var o,r,l=de(i.width,t.getWidth()),s=de(i.height,t.getHeight()),c=Math.min(l,s),u=de(a[0],c/2),d=de(a[1],c/2),p=e.coordinateSystem;if(p){var h=p.dataToPoint(n);o=h[0]||0,r=h[1]||0}else W(n)||(n=[n,n]),o=de(n[0],l)+i.x,r=de(n[1],s)+i.y;return{cx:o,cy:r,r0:u,r:d}}function Zi(e,t,i){t.eachSeriesByType(e,(function(e){var t=e.getData(),n=t.mapDimension("value"),a=Ui(e,i),o=Ki(e,i),r=o.cx,l=o.cy,s=o.r,c=o.r0,u=-e.get("startAngle")*Wi,d=e.get("endAngle"),p=e.get("padAngle")*Wi;d="auto"===d?u-Hi:-d*Wi;var h=e.get("minAngle")*Wi+p,g=0;t.each(n,(function(e){!isNaN(e)&&g++}));var f=t.getSum(n),v=Math.PI/(f||g)*2,y=e.get("clockwise"),m=e.get("roseType"),x=e.get("stillShowZeroSum"),b=t.getDataExtent(n);b[0]=0;var S=y?1:-1,M=[u,d],_=S*p/2;ce(M,!y),u=M[0],d=M[1];var w=Yi(e);w.startAngle=u,w.endAngle=d,w.clockwise=y;var I=Math.abs(d-u),C=I,A=0,L=u;if(t.setLayout({viewRect:a,r:s}),t.each(n,(function(e,i){var n;if(isNaN(e))t.setItemLayout(i,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:r,cy:l,r0:c,r:m?NaN:s});else{(n="area"!==m?0===f&&x?v:e*v:I/g)<h?(n=h,C-=h):A+=e;var a=L+S*n,o=0,u=0;p>n?u=o=L+S*n/2:(o=L+_,u=a-_),t.setItemLayout(i,{angle:n,startAngle:o,endAngle:u,clockwise:y,cx:r,cy:l,r0:c,r:m?J(e,b,[c,s]):s}),L=a}})),C<Hi&&g)if(C<=.001){var D=I/g;t.each(n,(function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i);n.angle=D;var a=0,o=0;D<p?o=a=u+S*(i+.5)*D:(a=u+S*i*D+_,o=u+S*(i+1)*D-_),n.startAngle=a,n.endAngle=o}}))}else v=C/A,L=u,t.each(n,(function(e,i){if(!isNaN(e)){var n=t.getItemLayout(i),a=n.angle===h?h:e*v,o=0,r=0;a<p?r=o=L+S*a/2:(o=L+_,r=L+S*a-_),n.startAngle=o,n.endAngle=r,L+=S*a}}))}))}var Yi=q(),qi=Math.PI/180;function Xi(e,t,i,n,a,o,r,l,s,c){if(!(e.length<2)){for(var u=e.length,d=0;d<u;d++)if("outer"===e[d].position&&"labelLine"===e[d].labelAlignTo){var p=e[d].label.x-c;e[d].linePoints[1][0]+=p,e[d].label.x=c}he(e,s,s+r)&&function(e){for(var o={list:[],maxY:0},r={list:[],maxY:0},l=0;l<e.length;l++)if("none"===e[l].labelAlignTo){var s=e[l],c=s.label.y>i?r:o,u=Math.abs(s.label.y-i);if(u>=c.maxY){var d=s.label.x-t-s.len2*a,p=n+s.len,g=Math.abs(d)<p?Math.sqrt(u*u/(1-d*d/p/p)):p;c.rB=g,c.maxY=u}c.list.push(s)}h(o),h(r)}(e)}function h(e){for(var o=e.rB,r=o*o,l=0;l<e.list.length;l++){var s=e.list[l],c=Math.abs(s.label.y-i),u=n+s.len,d=u*u,p=Math.sqrt(Math.abs((1-c*c/r)*d)),h=t+(p+s.len2)*a,g=h-s.label.x;$i(s,s.targetTextWidth-g*a,!0),s.label.x=h}}}function $i(e,t,i){if(void 0===i&&(i=!1),null==e.labelStyleWidth){var n=e.label,a=n.style,o=e.rect,r=a.backgroundColor,l=a.padding,s=l?l[1]+l[3]:0,c=a.overflow,u=o.width+(r?0:s);if(t<u||i){var d=o.height;if(c&&c.match("break")){n.setStyle("backgroundColor",null),n.setStyle("width",t-s);var p=n.getBoundingRect();n.setStyle("width",Math.ceil(p.width)),n.setStyle("backgroundColor",r)}else{var h=t-s,g=t<u?h:i?h>e.unconstrainedWidth?null:h:null;n.setStyle("width",g)}var f=n.getBoundingRect();o.width=f.width;var v=(n.style.margin||0)+2.1;o.height=f.height+v,o.y-=(o.height-d)/2}}}function ji(e){return"center"===e.position}function Ji(e){var t,i,n=e.getData(),a=[],o=!1,r=(e.get("minShowLabelAngle")||0)*qi,l=n.getLayout("viewRect"),s=n.getLayout("r"),c=l.width,u=l.x,d=l.y,p=l.height;function h(e){e.ignore=!0}n.each((function(e){var l=n.getItemGraphicEl(e),d=l.shape,p=l.getTextContent(),g=l.getTextGuideLine(),f=n.getItemModel(e),v=f.getModel("label"),y=v.get("position")||f.get(["emphasis","label","position"]),m=v.get("distanceToLabelLine"),x=v.get("alignTo"),b=de(v.get("edgeDistance"),c),S=v.get("bleedMargin"),M=f.getModel("labelLine"),_=M.get("length");_=de(_,c);var w=M.get("length2");if(w=de(w,c),Math.abs(d.endAngle-d.startAngle)<r)return T(p.states,h),p.ignore=!0,void(g&&(T(g.states,h),g.ignore=!0));if(function(e){if(!e.ignore)return!0;for(var t in e.states)if(!1===e.states[t].ignore)return!0;return!1}(p)){var I,C,A,L,D=(d.startAngle+d.endAngle)/2,k=Math.cos(D),V=Math.sin(D);t=d.cx,i=d.cy;var O="inside"===y||"inner"===y;if("center"===y)I=d.cx,C=d.cy,L="center";else{var z=(O?(d.r+d.r0)/2*k:d.r*k)+t,R=(O?(d.r+d.r0)/2*V:d.r*V)+i;if(I=z+3*k,C=R+3*V,!O){var B=z+k*(_+s-d.r),P=R+V*(_+s-d.r),G=B+(k<0?-1:1)*w;I="edge"===x?k<0?u+b:u+c-b:G+(k<0?-m:m),C=P,A=[[z,R],[B,P],[G,P]]}L=O?"center":"edge"===x?k>0?"right":"left":k>0?"left":"right"}var E=Math.PI,N=0,F=v.get("rotate");if(pe(F))N=F*(E/180);else if("center"===y)N=0;else if("radial"===F||!0===F)N=k<0?-D+E:-D;else if("tangential"===F&&"outside"!==y&&"outer"!==y){var H=Math.atan2(k,V);H<0&&(H=2*E+H),V>0&&(H=E+H),N=H-E}if(o=!!N,p.x=I,p.y=C,p.rotation=N,p.setStyle({verticalAlign:"middle"}),O){p.setStyle({align:L});var W=p.states.select;W&&(W.x+=p.x,W.y+=p.y)}else{var U=p.getBoundingRect().clone();U.applyTransform(p.getComputedTransform());var K=(p.style.margin||0)+2.1;U.y-=K/2,U.height+=K,a.push({label:p,labelLine:g,position:y,len:_,len2:w,minTurnAngle:M.get("minTurnAngle"),maxSurfaceAngle:M.get("maxSurfaceAngle"),surfaceNormal:new ee(k,V),linePoints:A,textAlign:L,labelDistance:m,labelAlignTo:x,edgeDistance:b,bleedMargin:S,rect:U,unconstrainedWidth:U.width,labelStyleWidth:p.style.width})}l.setTextConfig({inside:O})}})),!o&&e.get("avoidLabelOverlap")&&function(e,t,i,n,a,o,r,l){for(var s=[],c=[],u=Number.MAX_VALUE,d=-Number.MAX_VALUE,p=0;p<e.length;p++){var h=e[p].label;ji(e[p])||(h.x<t?(u=Math.min(u,h.x),s.push(e[p])):(d=Math.max(d,h.x),c.push(e[p])))}for(p=0;p<e.length;p++)if(!ji(v=e[p])&&v.linePoints){if(null!=v.labelStyleWidth)continue;h=v.label;var g=v.linePoints,f=void 0;f="edge"===v.labelAlignTo?h.x<t?g[2][0]-v.labelDistance-r-v.edgeDistance:r+a-v.edgeDistance-g[2][0]-v.labelDistance:"labelLine"===v.labelAlignTo?h.x<t?u-r-v.bleedMargin:r+a-d-v.bleedMargin:h.x<t?h.x-r-v.bleedMargin:r+a-h.x-v.bleedMargin,v.targetTextWidth=f,$i(v,f)}for(Xi(c,t,i,n,1,0,o,0,l,d),Xi(s,t,i,n,-1,0,o,0,l,u),p=0;p<e.length;p++){var v;if(!ji(v=e[p])&&v.linePoints){h=v.label,g=v.linePoints;var y="edge"===v.labelAlignTo,m=h.style.padding,x=m?m[1]+m[3]:0,b=h.style.backgroundColor?0:x,S=v.rect.width+b,M=g[1][0]-g[2][0];y?h.x<t?g[2][0]=r+v.edgeDistance+S+v.labelDistance:g[2][0]=r+a-v.edgeDistance-S-v.labelDistance:(h.x<t?g[2][0]=h.x+v.labelDistance:g[2][0]=h.x-v.labelDistance,g[1][0]=g[2][0]+M),g[1][1]=g[2][1]=h.y}}}(a,t,i,s,c,p,u,d);for(var g=0;g<a.length;g++){var f=a[g],v=f.label,y=f.labelLine,m=isNaN(v.x)||isNaN(v.y);if(v){v.setStyle({align:f.textAlign}),m&&(T(v.states,h),v.ignore=!0);var x=v.states.select;x&&(x.x+=v.x,x.y+=v.y)}if(y){var b=f.linePoints;m||!b?(T(y.states,h),y.ignore=!0):(Pi(b,f.minTurnAngle),Gi(b,f.surfaceNormal,f.maxSurfaceAngle),y.setShape({points:b}),v.__hostTarget.textGuideLineConfig={anchor:new ee(b[0][0],b[0][1])})}}}var Qi=function(e){function t(t,i,n){var a=e.call(this)||this;a.z2=2;var o=new xe;return a.setTextContent(o),a.updateData(t,i,n,!0),a}return ge(t,e),t.prototype.updateData=function(e,t,i,n){var a=this,o=e.hostModel,r=e.getItemModel(t),l=r.getModel("emphasis"),s=e.getItemLayout(t),c=ve(Fi(r.getModel("itemStyle"),s,!0),s);if(isNaN(c.startAngle))a.setShape(c);else{if(n){a.setShape(c);var u=o.getShallow("animationType");o.ecModel.ssr?(be(a,{scaleX:0,scaleY:0},o,{dataIndex:t,isFrom:!0}),a.originX=c.cx,a.originY=c.cy):"scale"===u?(a.shape.r=s.r0,be(a,{shape:{r:s.r}},o,t)):null!=i?(a.setShape({startAngle:i,endAngle:i}),be(a,{shape:{startAngle:s.startAngle,endAngle:s.endAngle}},o,t)):(a.shape.endAngle=s.startAngle,Se(a,{shape:{endAngle:s.endAngle}},o,t))}else Me(a),Se(a,{shape:c},o,t);a.useStyle(e.getItemVisual(t,"style")),_e(a,r);var d=(s.startAngle+s.endAngle)/2,p=o.get("selectedOffset"),h=Math.cos(d)*p,g=Math.sin(d)*p,f=r.getShallow("cursor");f&&a.attr("cursor",f),this._updateLabel(o,e,t),a.ensureState("emphasis").shape=ve({r:s.r+(l.get("scale")&&l.get("scaleSize")||0)},Fi(l.getModel("itemStyle"),s)),ve(a.ensureState("select"),{x:h,y:g,shape:Fi(r.getModel(["select","itemStyle"]),s)}),ve(a.ensureState("blur"),{shape:Fi(r.getModel(["blur","itemStyle"]),s)});var v=a.getTextGuideLine(),y=a.getTextContent();v&&ve(v.ensureState("select"),{x:h,y:g}),ve(y.ensureState("select"),{x:h,y:g}),we(this,l.get("focus"),l.get("blurScope"),l.get("disabled"))}},t.prototype._updateLabel=function(e,t,i){var n=this,a=t.getItemModel(i),o=a.getModel("labelLine"),r=t.getItemVisual(i,"style"),l=r&&r.fill,s=r&&r.opacity;Ie(n,Ce(a),{labelFetcher:t.hostModel,labelDataIndex:i,inheritColor:l,defaultOpacity:s,defaultText:e.getFormattedLabel(i,"normal")||t.getName(i)});var c=n.getTextContent();n.setTextConfig({position:null,rotation:null}),c.attr({z2:10});var u=e.get(["label","position"]);if("outside"!==u&&"outer"!==u)n.removeTextGuideLine();else{var d=this.getTextGuideLine();d||(d=new ne,this.setTextGuideLine(d)),function(e,t,i){var n=e.getTextGuideLine(),a=e.getTextContent();if(a){for(var o=t.normal,r=o.get("show"),l=a.ignore,s=0;s<te.length;s++){var c=te[s],u=t[c],d="normal"===c;if(u){var p=u.get("show");if((d?l:ie(a.states[c]&&a.states[c].ignore,l))||!ie(p,r)){var h=d?n:n&&n.states[c];h&&(h.ignore=!0),n&&Ei(n,!0,c,u);continue}n||(n=new ne,e.setTextGuideLine(n),d||!l&&r||Ei(n,!0,"normal",t.normal),e.stateProxy&&(n.stateProxy=e.stateProxy)),Ei(n,!1,c,u)}}if(n){ae(n.style,i),n.style.fill=null;var g=o.get("showAbove");(e.textGuideLineConfig=e.textGuideLineConfig||{}).showAbove=g||!1,n.buildPath=Ni}}else n&&e.removeTextGuideLine()}(this,function(e,t){t=t||"labelLine";for(var i={normal:e.getModel(t)},n=0;n<oe.length;n++){var a=oe[n];i[a]=e.getModel([a,t])}return i}(a),{stroke:l,opacity:Ae(o.get(["lineStyle","opacity"]),s,1)})}},t}(fe),en=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return ge(t,e),t.prototype.render=function(e,t,i,n){var a,o=e.getData(),r=this._data,l=this.group;if(!r&&o.count()>0){for(var s=o.getItemLayout(0),c=1;isNaN(s&&s.startAngle)&&c<o.count();++c)s=o.getItemLayout(c);s&&(a=s.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),0===o.count()&&e.get("showEmptyCircle")){var u=Yi(e),d=new fe({shape:ve(Ki(e,i),u)});d.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,l.add(d)}o.diff(r).add((function(e){var t=new Qi(o,e,a);o.setItemGraphicEl(e,t),l.add(t)})).update((function(e,t){var i=r.getItemGraphicEl(t);i.updateData(o,e,a),i.off("click"),l.add(i),o.setItemGraphicEl(e,i)})).remove((function(t){var i=r.getItemGraphicEl(t);ye(i,e,t)})).execute(),Ji(e),"expansion"!==e.get("animationTypeUpdate")&&(this._data=o)},t.prototype.dispose=function(){},t.prototype.containPoint=function(e,t){var i=t.getData().getItemLayout(0);if(i){var n=e[0]-i.cx,a=e[1]-i.cy,o=Math.sqrt(n*n+a*a);return o<=i.r&&o>=i.r0}},t.type="pie",t}(me),tn=function(){function e(e,t){this._getDataWithEncodedVisual=e,this._getRawData=t}return e.prototype.getAllNames=function(){var e=this._getRawData();return e.mapArray(e.getName)},e.prototype.containName=function(e){return this._getRawData().indexOfName(e)>=0},e.prototype.indexOfName=function(e){return this._getDataWithEncodedVisual().indexOfName(e)},e.prototype.getItemVisual=function(e,t){return this._getDataWithEncodedVisual().getItemVisual(e,t)},e}(),nn=q(),an=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ge(t,e),t.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new tn(Le(this.getData,this),Le(this.getRawData,this)),this._defaultLabelLine(t)},t.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},t.prototype.getInitialData=function(){return De(this,{coordDimensions:["value"],encodeDefaulter:R(Te,this)})},t.prototype.getDataParams=function(t){var i=this.getData(),n=nn(i),a=n.seats;if(!a){var o=[];i.each(i.mapDimension("value"),(function(e){o.push(e)})),a=n.seats=ke(o,i.hostModel.get("percentPrecision"))}var r=e.prototype.getDataParams.call(this,t);return r.percent=a[t]||0,r.$vars.push("percent"),r},t.prototype._defaultLabelLine=function(e){Ve(e,"labelLine",["show"]);var t=e.labelLine,i=e.emphasis.labelLine;t.show=t.show&&e.label.show,i.show=i.show&&e.emphasis.label.show},t.type="series.pie",t.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},t}(Oe);function on(e){e.registerChartView(en),e.registerSeriesModel(an),ze("pie",e.registerAction),e.registerLayout(R(Zi,"pie")),e.registerProcessor({seriesType:"pie",reset:function(e,t){var i=t.findComponents({mainType:"legend"});if(i&&i.length){var n=e.getData();n.filterSelf((function(e){for(var t=n.getName(e),a=0;a<i.length;a++)if(!i[a].isSelected(t))return!1;return!0}))}}}),e.registerProcessor(function(e){return{seriesType:e,reset:function(e,t){var i=e.getData();i.filterSelf((function(e){var t=i.mapDimension("value"),n=i.get(t,e);return!(pe(n)&&!isNaN(n)&&n<0)}))}}}("pie"))}var rn=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ge(t,e),t.type="grid",t.dependencies=["xAxis","yAxis"],t.layoutMode="box",t.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},t}(Re),ln=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ge(t,e),t.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",k).models[0]},t.type="cartesian2dAxis",t}(Re);Be(ln,fi);var sn={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},cn=Pe({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},sn),un=Pe({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},sn);const dn={category:cn,value:un,time:Pe({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},un),log:ae({logBase:10},un)};var pn={value:1,category:1,time:1,log:1};function hn(e,t,i,n){T(pn,(function(a,o){var r=Pe(Pe({},dn[o],!0),n,!0),l=function(e){function i(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t+"Axis."+o,i}return ge(i,e),i.prototype.mergeDefaultAndTheme=function(e,t){var i=Ge(this),n=i?Ee(e):{},a=t.getTheme();Pe(e,a.get(o+"Axis")),Pe(e,this.getDefaultOption()),e.type=gn(e),i&&Ne(e,n,i)},i.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=Fe.createByAxisModel(this))},i.prototype.getCategories=function(e){var t=this.option;if("category"===t.type)return e?t.data:this.__ordinalMeta.categories},i.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},i.type=t+"Axis."+o,i.defaultOption=r,i}(i);e.registerComponentModel(l)})),e.registerSubTypeDefaulter(t+"Axis",gn)}function gn(e){return e.type||(e.data?"category":"value")}var fn=function(){function e(e){this.type="cartesian",this._dimList=[],this._axes={},this.name=e||""}return e.prototype.getAxis=function(e){return this._axes[e]},e.prototype.getAxes=function(){return F(this._dimList,(function(e){return this._axes[e]}),this)},e.prototype.getAxesByScale=function(e){return e=e.toLowerCase(),K(this.getAxes(),(function(t){return t.scale.type===e}))},e.prototype.addAxis=function(e){var t=e.dim;this._axes[t]=e,this._dimList.push(t)},e}(),vn=["x","y"];function yn(e){return"interval"===e.type||"time"===e.type}var mn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="cartesian2d",t.dimensions=vn,t}return ge(t,e),t.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(yn(e)&&yn(t)){var i=e.getExtent(),n=t.getExtent(),a=this.dataToPoint([i[0],n[0]]),o=this.dataToPoint([i[1],n[1]]),r=i[1]-i[0],l=n[1]-n[0];if(r&&l){var s=(o[0]-a[0])/r,c=(o[1]-a[1])/l,u=a[0]-i[0]*s,d=a[1]-n[0]*c,p=this._transform=[s,0,0,c,u,d];this._invTransform=He([],p)}}},t.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},t.prototype.containPoint=function(e){var t=this.getAxis("x"),i=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&i.contain(i.toLocalCoord(e[1]))},t.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},t.prototype.containZone=function(e,t){var i=this.dataToPoint(e),n=this.dataToPoint(t),a=this.getArea(),o=new We(i[0],i[1],n[0]-i[0],n[1]-i[1]);return a.intersect(o)},t.prototype.dataToPoint=function(e,t,i){i=i||[];var n=e[0],a=e[1];if(this._transform&&null!=n&&isFinite(n)&&null!=a&&isFinite(a))return Ue(i,e,this._transform);var o=this.getAxis("x"),r=this.getAxis("y");return i[0]=o.toGlobalCoord(o.dataToCoord(n,t)),i[1]=r.toGlobalCoord(r.dataToCoord(a,t)),i},t.prototype.clampData=function(e,t){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,a=i.getExtent(),o=n.getExtent(),r=i.parse(e[0]),l=n.parse(e[1]);return(t=t||[])[0]=Math.min(Math.max(Math.min(a[0],a[1]),r),Math.max(a[0],a[1])),t[1]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),t},t.prototype.pointToData=function(e,t){var i=[];if(this._invTransform)return Ue(i,e,this._invTransform);var n=this.getAxis("x"),a=this.getAxis("y");return i[0]=n.coordToData(n.toLocalCoord(e[0]),t),i[1]=a.coordToData(a.toLocalCoord(e[1]),t),i},t.prototype.getOtherAxis=function(e){return this.getAxis("x"===e.dim?"y":"x")},t.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent(),i=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1])-e,a=Math.min(i[0],i[1])-e,o=Math.max(t[0],t[1])-n+e,r=Math.max(i[0],i[1])-a+e;return new We(n,a,o,r)},t}(fn),xn=function(e){function t(t,i,n,a,o){var r=e.call(this,t,i,n)||this;return r.index=0,r.type=a||"value",r.position=o||"bottom",r}return ge(t,e),t.prototype.isHorizontal=function(){var e=this.position;return"top"===e||"bottom"===e},t.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},t.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e["x"===this.dim?0:1]),t)},t.prototype.setCategorySortInfo=function(e){if("category"!==this.type)return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},t}(Ai),bn=Math.log,Sn=function(){function e(e,t,i){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=vn,this._initCartesian(e,t,i),this.model=e}return e.prototype.getRect=function(){return this._rect},e.prototype.update=function(e,t){var i=this._axesMap;function n(e){var t,i=tt(e),n=i.length;if(n){for(var a=[],o=n-1;o>=0;o--){var r=e[+i[o]],l=r.model,s=r.scale;it(s)&&l.get("alignTicks")&&null==l.get("interval")?a.push(r):(nt(s,l),it(s)&&(t=r))}a.length&&(t||(t=a.pop(),nt(t.scale,t.model)),T(a,(function(e){!function(e,t,i){var n=Ke.prototype,a=n.getTicks.call(i),o=n.getTicks.call(i,!0),r=a.length-1,l=n.getInterval.call(i),s=Ze(e,t),c=s.extent,u=s.fixMin,d=s.fixMax;if("log"===e.type){var p=bn(e.base);c=[bn(c[0])/p,bn(c[1])/p]}e.setExtent(c[0],c[1]),e.calcNiceExtent({splitNumber:r,fixMin:u,fixMax:d});var h=n.getExtent.call(e);u&&(c[0]=h[0]),d&&(c[1]=h[1]);var g=n.getInterval.call(e),f=c[0],v=c[1];if(u&&d)g=(v-f)/r;else if(u)for(v=c[0]+g*r;v<c[1]&&isFinite(v)&&isFinite(c[1]);)g=Ye(g),v=c[0]+g*r;else if(d)for(f=c[1]-g*r;f>c[0]&&isFinite(f)&&isFinite(c[0]);)g=Ye(g),f=c[1]-g*r;else{e.getTicks().length-1>r&&(g=Ye(g));var y=g*r;v=Math.ceil(c[1]/g)*g,(f=Q(v-y))<0&&c[0]>=0?(f=0,v=Q(y)):v>0&&c[1]<=0&&(v=0,f=-Q(y))}var m=(a[0].value-o[0].value)/l,x=(a[r].value-o[r].value)/l;n.setExtent.call(e,f+g*m,v+g*x),n.setInterval.call(e,g),(m||x)&&n.setNiceExtent.call(e,f+g,v-g)}(e.scale,e.model,t.scale)})))}}this._updateScale(e,this.model),n(i.x),n(i.y);var a={};T(i.x,(function(e){_n(i,"y",e,a)})),T(i.y,(function(e){_n(i,"x",e,a)})),this.resize(this.model,t)},e.prototype.resize=function(e,t,i){var n=e.getBoxLayoutParams(),a=!i&&e.get("containLabel"),o=ue(n,{width:t.getWidth(),height:t.getHeight()});this._rect=o;var r=this._axesList;function l(){T(r,(function(e){var t=e.isHorizontal(),i=t?[0,o.width]:[0,o.height],n=e.inverse?1:0;e.setExtent(i[n],i[1-n]),function(e,t){var i=e.getExtent(),n=i[0]+i[1];e.toGlobalCoord="x"===e.dim?function(e){return e+t}:function(e){return n-e+t},e.toLocalCoord="x"===e.dim?function(e){return e-t}:function(e){return n-e+t}}(e,t?o.x:o.y)}))}l(),a&&(T(r,(function(e){if(!e.model.get(["axisLabel","inside"])){var t=qe(e);if(t){var i=e.isHorizontal()?"height":"width",n=e.model.get(["axisLabel","margin"]);o[i]-=t[i]+n,"top"===e.position?o.y+=t.height+n:"left"===e.position&&(o.x+=t.width+n)}}})),l()),T(this._coordsList,(function(e){e.calcAffineTransform()}))},e.prototype.getAxis=function(e,t){var i=this._axesMap[e];if(null!=i)return i[t||0]},e.prototype.getAxes=function(){return this._axesList.slice()},e.prototype.getCartesian=function(e,t){if(null!=e&&null!=t){var i="x"+e+"y"+t;return this._coordsMap[i]}Xe(e)&&(t=e.yAxisIndex,e=e.xAxisIndex);for(var n=0,a=this._coordsList;n<a.length;n++)if(a[n].getAxis("x").index===e||a[n].getAxis("y").index===t)return a[n]},e.prototype.getCartesians=function(){return this._coordsList.slice()},e.prototype.convertToPixel=function(e,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.dataToPoint(i):n.axis?n.axis.toGlobalCoord(n.axis.dataToCoord(i)):null},e.prototype.convertFromPixel=function(e,t,i){var n=this._findConvertTarget(t);return n.cartesian?n.cartesian.pointToData(i):n.axis?n.axis.coordToData(n.axis.toLocalCoord(i)):null},e.prototype._findConvertTarget=function(e){var t,i,n=e.seriesModel,a=e.xAxisModel||n&&n.getReferringComponents("xAxis",k).models[0],o=e.yAxisModel||n&&n.getReferringComponents("yAxis",k).models[0],r=e.gridModel,l=this._coordsList;return n?(t=n.coordinateSystem,$e(l,t)<0&&(t=null)):a&&o?t=this.getCartesian(a.componentIndex,o.componentIndex):a?i=this.getAxis("x",a.componentIndex):o?i=this.getAxis("y",o.componentIndex):r&&r.coordinateSystem===this&&(t=this._coordsList[0]),{cartesian:t,axis:i}},e.prototype.containPoint=function(e){var t=this._coordsList[0];if(t)return t.containPoint(e)},e.prototype._initCartesian=function(e,t,i){var n=this,a=this,o={left:!1,right:!1,top:!1,bottom:!1},r={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",s("x"),this),t.eachComponent("yAxis",s("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function s(t){return function(i,n){if(Mn(i,e)){var s=i.get("position");"x"===t?"top"!==s&&"bottom"!==s&&(s=o.bottom?"top":"bottom"):"left"!==s&&"right"!==s&&(s=o.left?"right":"left"),o[s]=!0;var c=new xn(t,je(i),[0,0],i.get("type"),s),u="category"===c.type;c.onBand=u&&i.get("boundaryGap"),c.inverse=i.get("inverse"),i.axis=c,c.model=i,c.grid=a,c.index=n,a._axesList.push(c),r[t][n]=c,l[t]++}}}this._axesMap=r,T(r.x,(function(t,i){T(r.y,(function(a,o){var r="x"+i+"y"+o,l=new mn(r);l.master=n,l.model=e,n._coordsMap[r]=l,n._coordsList.push(l),l.addAxis(t),l.addAxis(a)}))}))},e.prototype._updateScale=function(e,t){function i(e,t){T(et(e,t.dim),(function(i){t.scale.unionExtentFromData(e,i)}))}T(this._axesList,(function(e){if(e.scale.setExtent(1/0,-1/0),"category"===e.type){var t=e.model.get("categorySortInfo");e.scale.setSortInfo(t)}})),e.eachSeries((function(e){if(Je(e)){var n=Qe(e),a=n.xAxisModel,o=n.yAxisModel;if(!Mn(a,t)||!Mn(o,t))return;var r=this.getCartesian(a.componentIndex,o.componentIndex),l=e.getData(),s=r.getAxis("x"),c=r.getAxis("y");i(l,s),i(l,c)}}),this)},e.prototype.getTooltipAxes=function(e){var t=[],i=[];return T(this.getCartesians(),(function(n){var a=null!=e&&"auto"!==e?n.getAxis(e):n.getBaseAxis(),o=n.getOtherAxis(a);$e(t,a)<0&&t.push(a),$e(i,o)<0&&i.push(o)})),{baseAxes:t,otherAxes:i}},e.create=function(t,i){var n=[];return t.eachComponent("grid",(function(a,o){var r=new e(a,t,i);r.name="grid_"+o,r.resize(a,i,!0),a.coordinateSystem=r,n.push(r)})),t.eachSeries((function(e){if(Je(e)){var t=Qe(e),i=t.xAxisModel,n=t.yAxisModel,a=i.getCoordSysModel().coordinateSystem;e.coordinateSystem=a.getCartesian(i.componentIndex,n.componentIndex)}})),n},e.dimensions=vn,e}();function Mn(e,t){return e.getCoordSysModel()===t}function _n(e,t,i,n){i.getAxesOnZeroOf=function(){return a?[a]:[]};var a,o=e[t],r=i.model,l=r.get(["axisLine","onZero"]),s=r.get(["axisLine","onZeroAxisIndex"]);if(l){if(null!=s)wn(o[s])&&(a=o[s]);else for(var c in o)if(o.hasOwnProperty(c)&&wn(o[c])&&!n[u(o[c])]){a=o[c];break}a&&(n[u(a)]=!0)}function u(e){return e.dim+"_"+e.index}}function wn(e){return e&&"category"!==e.type&&"time"!==e.type&&at(e)}var In=q(),Cn=["axisLine","axisTickLabel","axisName"],An=["splitArea","splitLine","minorSplitLine"],Ln=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.axisPointerClass="CartesianAxisPointer",i}return ge(t,e),t.prototype.render=function(t,i,n,a){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new rt,this.group.add(this._axisGroup),t.get("show")){var r=t.getCoordSysModel(),l=lt(r,t),s=new st(t,ve({handleAutoShown:function(e){for(var i=r.coordinateSystem.getCartesians(),n=0;n<i.length;n++)if(it(i[n].getOtherAxis(t.axis).scale))return!0;return!1}},l));T(Cn,s.add,s),this._axisGroup.add(s.getGroup()),T(An,(function(e){t.get([e,"show"])&&Dn[e](this,this._axisGroup,t,r)}),this),a&&"changeAxisOrder"===a.type&&a.isInitSort||ct(o,this._axisGroup,t),e.prototype.render.call(this,t,i,n,a)}},t.prototype.remove=function(){In(this).splitAreaColors=null},t.type="cartesianAxis",t}(ut),Dn={splitLine:function(e,t,i,n){var a=i.axis;if(!a.scale.isBlank()){var o=i.getModel("splitLine"),r=o.getModel("lineStyle"),l=r.get("color"),s=!1!==o.get("showMinLine"),c=!1!==o.get("showMaxLine");l=W(l)?l:[l];for(var u=n.coordinateSystem.getRect(),d=a.isHorizontal(),p=0,h=a.getTicksCoords({tickModel:o}),g=[],f=[],v=r.getLineStyle(),y=0;y<h.length;y++){var m=a.toGlobalCoord(h[y].coord);if((0!==y||s)&&(y!==h.length-1||c)){var x=h[y].tickValue;d?(g[0]=m,g[1]=u.y,f[0]=m,f[1]=u.y+u.height):(g[0]=u.x,g[1]=m,f[0]=u.x+u.width,f[1]=m);var b=p++%l.length,S=new dt({anid:null!=x?"line_"+x:null,autoBatch:!0,shape:{x1:g[0],y1:g[1],x2:f[0],y2:f[1]},style:ae({stroke:l[b]},v),silent:!0});pt(S.shape,v.lineWidth),t.add(S)}}}},minorSplitLine:function(e,t,i,n){var a=i.axis,o=i.getModel("minorSplitLine").getModel("lineStyle"),r=n.coordinateSystem.getRect(),l=a.isHorizontal(),s=a.getMinorTicksCoords();if(s.length)for(var c=[],u=[],d=o.getLineStyle(),p=0;p<s.length;p++)for(var h=0;h<s[p].length;h++){var g=a.toGlobalCoord(s[p][h].coord);l?(c[0]=g,c[1]=r.y,u[0]=g,u[1]=r.y+r.height):(c[0]=r.x,c[1]=g,u[0]=r.x+r.width,u[1]=g);var f=new dt({anid:"minor_line_"+s[p][h].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:d,silent:!0});pt(f.shape,d.lineWidth),t.add(f)}},splitArea:function(e,t,i,n){!function(e,t,i,n){var a=i.axis;if(!a.scale.isBlank()){var o=i.getModel("splitArea"),r=o.getModel("areaStyle"),l=r.get("color"),s=n.coordinateSystem.getRect(),c=a.getTicksCoords({tickModel:o,clamp:!0});if(c.length){var u=l.length,d=In(e).splitAreaColors,p=V(),h=0;if(d)for(var g=0;g<c.length;g++){var f=d.get(c[g].tickValue);if(null!=f){h=(f+(u-1)*g)%u;break}}var v=a.toGlobalCoord(c[0].coord),y=r.getAreaStyle();for(l=W(l)?l:[l],g=1;g<c.length;g++){var m=a.toGlobalCoord(c[g].coord),x=void 0,b=void 0,S=void 0,M=void 0;a.isHorizontal()?(x=v,b=s.y,S=m-x,M=s.height,v=x+S):(x=s.x,b=v,S=s.width,v=b+(M=m-b));var _=c[g-1].tickValue;null!=_&&p.set(_,h),t.add(new ot({anid:null!=_?"area_"+_:null,shape:{x:x,y:b,width:S,height:M},style:ae({fill:l[h]},y),autoBatch:!0,silent:!0})),h=(h+1)%u}In(e).splitAreaColors=p}}}(e,t,i,n)}},Tn=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return ge(t,e),t.type="xAxis",t}(Ln),kn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=Tn.type,t}return ge(t,e),t.type="yAxis",t}(Ln),Vn=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="grid",t}return ge(t,e),t.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new ot({shape:e.coordinateSystem.getRect(),style:ae({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},t.type="grid",t}(ht),On={offset:0};function zn(e){e.registerComponentView(Vn),e.registerComponentModel(rn),e.registerCoordinateSystem("cartesian2d",Sn),hn(e,"x",ln,On),hn(e,"y",ln,On),e.registerComponentView(Tn),e.registerComponentView(kn),e.registerPreprocessor((function(e){e.xAxis&&e.yAxis&&!e.grid&&(e.grid={})}))}var Rn=T,Bn=Xe,Pn=-1,Gn=function(){function e(t){var i=t.mappingMethod,n=t.type,a=this.option=yt(t);this.type=n,this.mappingMethod=i,this._normalizeData=qn[i];var o=e.visualHandlers[n];this.applyVisual=o.applyVisual,this.getColorMapper=o.getColorMapper,this._normalizedToVisual=o._normalizedToVisual[i],"piecewise"===i?(En(a),function(e){var t=e.pieceList;e.hasSpecialVisual=!1,T(t,(function(t,i){t.originIndex=i,null!=t.visual&&(e.hasSpecialVisual=!0)}))}(a)):"category"===i?a.categories?function(e){var t=e.categories,i=e.categoryMap={},n=e.visual;if(Rn(t,(function(e,t){i[e]=t})),!W(n)){var a=[];Xe(n)?Rn(n,(function(e,t){var n=i[t];a[null!=n?n:Pn]=e})):a[-1]=n,n=Yn(e,a)}for(var o=t.length-1;o>=0;o--)null==n[o]&&(delete i[t[o]],t.pop())}(a):En(a,!0):(xt("linear"!==i||a.dataExtent),En(a))}return e.prototype.mapValueToVisual=function(e){var t=this._normalizeData(e);return this._normalizedToVisual(t,e)},e.prototype.getNormalizer=function(){return Le(this._normalizeData,this)},e.listVisualTypes=function(){return tt(e.visualHandlers)},e.isValidType=function(t){return e.visualHandlers.hasOwnProperty(t)},e.eachVisual=function(e,t,i){Xe(e)?T(e,t,i):t.call(i,e)},e.mapVisual=function(t,i,n){var a,o=W(t)?[]:Xe(t)?{}:(a=!0,null);return e.eachVisual(t,(function(e,t){var r=i.call(n,e,t);a?o=r:o[t]=r})),o},e.retrieveVisuals=function(t){var i,n={};return t&&Rn(e.visualHandlers,(function(e,a){t.hasOwnProperty(a)&&(n[a]=t[a],i=!0)})),i?n:null},e.prepareVisualTypes=function(e){if(W(e))e=e.slice();else{if(!Bn(e))return[];var t=[];Rn(e,(function(e,i){t.push(i)})),e=t}return e.sort((function(e,t){return"color"===t&&"color"!==e&&0===e.indexOf("color")?1:-1})),e},e.dependsOn=function(e,t){return"color"===t?!(!e||0!==e.indexOf(t)):e===t},e.findPieceIndex=function(e,t,i){for(var n,a=1/0,o=0,r=t.length;o<r;o++){var l=t[o].value;if(null!=l){if(l===e||gt(l)&&l===e+"")return o;i&&d(l,o)}}for(o=0,r=t.length;o<r;o++){var s=t[o],c=s.interval,u=s.close;if(c){if(c[0]===-1/0){if(Xn(u[1],e,c[1]))return o}else if(c[1]===1/0){if(Xn(u[0],c[0],e))return o}else if(Xn(u[0],c[0],e)&&Xn(u[1],e,c[1]))return o;i&&d(c[0],o),i&&d(c[1],o)}}if(i)return e===1/0?t.length-1:e===-1/0?0:n;function d(t,i){var o=Math.abs(t-e);o<a&&(a=o,n=i)}},e.visualHandlers={color:{applyVisual:Hn("color"),getColorMapper:function(){var e=this.option;return Le("category"===e.mappingMethod?function(e,t){return!t&&(e=this._normalizeData(e)),Wn.call(this,e)}:function(t,i,n){var a=!!n;return!i&&(t=this._normalizeData(t)),n=vt(t,e.parsedVisual,n),a?n:ft(n,"rgba")},this)},_normalizedToVisual:{linear:function(e){return ft(vt(e,this.option.parsedVisual),"rgba")},category:Wn,piecewise:function(e,t){var i=Zn.call(this,t);return null==i&&(i=ft(vt(e,this.option.parsedVisual),"rgba")),i},fixed:Un}},colorHue:Nn((function(e,t){return Mt(e,t)})),colorSaturation:Nn((function(e,t){return Mt(e,null,t)})),colorLightness:Nn((function(e,t){return Mt(e,null,null,t)})),colorAlpha:Nn((function(e,t){return St(e,t)})),decal:{applyVisual:Hn("decal"),_normalizedToVisual:{linear:null,category:Wn,piecewise:null,fixed:null}},opacity:{applyVisual:Hn("opacity"),_normalizedToVisual:Kn([0,1])},liftZ:{applyVisual:Hn("liftZ"),_normalizedToVisual:{linear:Un,category:Un,piecewise:Un,fixed:Un}},symbol:{applyVisual:function(e,t,i){i("symbol",this.mapValueToVisual(e))},_normalizedToVisual:{linear:Fn,category:Wn,piecewise:function(e,t){var i=Zn.call(this,t);return null==i&&(i=Fn.call(this,e)),i},fixed:Un}},symbolSize:{applyVisual:Hn("symbolSize"),_normalizedToVisual:Kn([0,1])}},e}();function En(e,t){var i=e.visual,n=[];Xe(i)?Rn(i,(function(e){n.push(e)})):null!=i&&n.push(i),t||1!==n.length||{color:1,symbol:1}.hasOwnProperty(e.type)||(n[1]=n[0]),Yn(e,n)}function Nn(e){return{applyVisual:function(t,i,n){var a=this.mapValueToVisual(t);n("color",e(i("color"),a))},_normalizedToVisual:Kn([0,1])}}function Fn(e){var t=this.option.visual;return t[Math.round(J(e,[0,1],[0,t.length-1],!0))]||{}}function Hn(e){return function(t,i,n){n(e,this.mapValueToVisual(t))}}function Wn(e){var t=this.option.visual;return t[this.option.loop&&e!==Pn?e%t.length:e]}function Un(){return this.option.visual[0]}function Kn(e){return{linear:function(t){return J(t,e,this.option.visual,!0)},category:Wn,piecewise:function(t,i){var n=Zn.call(this,i);return null==n&&(n=J(t,e,this.option.visual,!0)),n},fixed:Un}}function Zn(e){var t=this.option,i=t.pieceList;if(t.hasSpecialVisual){var n=i[Gn.findPieceIndex(e,i)];if(n&&n.visual)return n.visual[this.type]}}function Yn(e,t){return e.visual=t,"color"===e.type&&(e.parsedVisual=F(t,(function(e){return bt(e)||[0,0,0,1]}))),t}var qn={linear:function(e){return J(e,this.option.dataExtent,[0,1],!0)},piecewise:function(e){var t=this.option.pieceList,i=Gn.findPieceIndex(e,t,!0);if(null!=i)return J(i,[0,t.length-1],[0,1],!0)},category:function(e){var t=this.option.categories?this.option.categoryMap[e]:e;return null==t?Pn:t},fixed:mt};function Xn(e,t,i){return e?t<=i:t<i}function $n(e,t){var i=e[t]-e[1-t];return{span:Math.abs(i),sign:i>0?-1:i<0?1:t?-1:1}}function jn(e,t){return Math.min(null!=t[1]?t[1]:1/0,Math.max(null!=t[0]?t[0]:-1/0,e))}var Jn=function(){function e(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var e=_t.createCanvas();this.canvas=e}return e.prototype.update=function(e,t,i,n,a,o){var r=this._getBrush(),l=this._getGradient(a,"inRange"),s=this._getGradient(a,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,d=u.getContext("2d"),p=e.length;u.width=t,u.height=i;for(var h=0;h<p;++h){var g=e[h],f=g[0],v=g[1],y=n(g[2]);d.globalAlpha=y,d.drawImage(r,f-c,v-c)}if(!u.width||!u.height)return u;for(var m=d.getImageData(0,0,u.width,u.height),x=m.data,b=0,S=x.length,M=this.minOpacity,_=this.maxOpacity-M;b<S;){y=x[b+3]/256;var w=4*Math.floor(255*y);if(y>0){var I=o(y)?l:s;y>0&&(y=y*_+M),x[b++]=I[w],x[b++]=I[w+1],x[b++]=I[w+2],x[b++]=I[w+3]*y*256}else b+=4}return d.putImageData(m,0,0),u},e.prototype._getBrush=function(){var e=this._brushCanvas||(this._brushCanvas=_t.createCanvas()),t=this.pointSize+this.blurSize,i=2*t;e.width=i,e.height=i;var n=e.getContext("2d");return n.clearRect(0,0,i,i),n.shadowOffsetX=i,n.shadowBlur=this.blurSize,n.shadowColor="#000",n.beginPath(),n.arc(-t,t,this.pointSize,0,2*Math.PI,!0),n.closePath(),n.fill(),e},e.prototype._getGradient=function(e,t){for(var i=this._gradientPixels,n=i[t]||(i[t]=new Uint8ClampedArray(1024)),a=[0,0,0,0],o=0,r=0;r<256;r++)e[t](r/255,!0,a),n[o++]=a[0],n[o++]=a[1],n[o++]=a[2],n[o++]=a[3];return n},e}();function Qn(e){var t=e.dimensions;return"lng"===t[0]&&"lat"===t[1]}var ea=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return ge(t,e),t.prototype.render=function(e,t,i){var n;t.eachComponent("visualMap",(function(t){t.eachTargetSeries((function(i){i===e&&(n=t)}))})),this._progressiveEls=null,this.group.removeAll();var a=e.coordinateSystem;"cartesian2d"===a.type||"calendar"===a.type?this._renderOnCartesianAndCalendar(e,i,0,e.getData().count()):Qn(a)&&this._renderOnGeo(a,e,n,i)},t.prototype.incrementalPrepareRender=function(e,t,i){this.group.removeAll()},t.prototype.incrementalRender=function(e,t,i,n){var a=t.coordinateSystem;a&&(Qn(a)?this.render(t,i,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,n,e.start,e.end,!0)))},t.prototype.eachRendered=function(e){wt(this._progressiveEls||this.group,e)},t.prototype._renderOnCartesianAndCalendar=function(e,t,i,n,a){var o,r,l,s,c=e.coordinateSystem,u=function(e,t){return e.type===t}(c,"cartesian2d");if(u){var d=c.getAxis("x"),p=c.getAxis("y");o=d.getBandWidth()+.5,r=p.getBandWidth()+.5,l=d.scale.getExtent(),s=p.scale.getExtent()}for(var h=this.group,g=e.getData(),f=e.getModel(["emphasis","itemStyle"]).getItemStyle(),v=e.getModel(["blur","itemStyle"]).getItemStyle(),y=e.getModel(["select","itemStyle"]).getItemStyle(),m=e.get(["itemStyle","borderRadius"]),x=Ce(e),b=e.getModel("emphasis"),S=b.get("focus"),M=b.get("blurScope"),_=b.get("disabled"),w=u?[g.mapDimension("x"),g.mapDimension("y"),g.mapDimension("value")]:[g.mapDimension("time"),g.mapDimension("value")],I=i;I<n;I++){var C=void 0,A=g.getItemVisual(I,"style");if(u){var L=g.get(w[0],I),D=g.get(w[1],I);if(isNaN(g.get(w[2],I))||isNaN(L)||isNaN(D)||L<l[0]||L>l[1]||D<s[0]||D>s[1])continue;var T=c.dataToPoint([L,D]);C=new ot({shape:{x:T[0]-o/2,y:T[1]-r/2,width:o,height:r},style:A})}else{if(isNaN(g.get(w[1],I)))continue;C=new ot({z2:1,shape:c.dataToRect([g.get(w[0],I)]).contentShape,style:A})}if(g.hasItemOption){var k=g.getItemModel(I),V=k.getModel("emphasis");f=V.getModel("itemStyle").getItemStyle(),v=k.getModel(["blur","itemStyle"]).getItemStyle(),y=k.getModel(["select","itemStyle"]).getItemStyle(),m=k.get(["itemStyle","borderRadius"]),S=V.get("focus"),M=V.get("blurScope"),_=V.get("disabled"),x=Ce(k)}C.shape.r=m;var O=e.getRawValue(I),z="-";O&&null!=O[2]&&(z=O[2]+""),Ie(C,x,{labelFetcher:e,labelDataIndex:I,defaultOpacity:A.opacity,defaultText:z}),C.ensureState("emphasis").style=f,C.ensureState("blur").style=v,C.ensureState("select").style=y,we(C,S,M,_),C.incremental=a,a&&(C.states.emphasis.hoverLayer=!0),h.add(C),g.setItemGraphicEl(I,C),this._progressiveEls&&this._progressiveEls.push(C)}},t.prototype._renderOnGeo=function(e,t,i,n){var a=i.targetVisuals.inRange,o=i.targetVisuals.outOfRange,r=t.getData(),l=this._hmLayer||this._hmLayer||new Jn;l.blurSize=t.get("blurSize"),l.pointSize=t.get("pointSize"),l.minOpacity=t.get("minOpacity"),l.maxOpacity=t.get("maxOpacity");var s=e.getViewRect().clone(),c=e.getRoamTransform();s.applyTransform(c);var u=Math.max(s.x,0),d=Math.max(s.y,0),p=Math.min(s.width+s.x,n.getWidth()),h=Math.min(s.height+s.y,n.getHeight()),g=p-u,f=h-d,v=[r.mapDimension("lng"),r.mapDimension("lat"),r.mapDimension("value")],y=r.mapArray(v,(function(t,i,n){var a=e.dataToPoint([t,i]);return a[0]-=u,a[1]-=d,a.push(n),a})),m=i.getExtent(),x="visualMap.continuous"===i.type?function(e,t){var i=e[1]-e[0];return t=[(t[0]-e[0])/i,(t[1]-e[0])/i],function(e){return e>=t[0]&&e<=t[1]}}(m,i.option.range):function(e,t,i){var n=e[1]-e[0],a=(t=F(t,(function(t){return{interval:[(t.interval[0]-e[0])/n,(t.interval[1]-e[0])/n]}}))).length,o=0;return function(e){var n;for(n=o;n<a;n++)if((r=t[n].interval)[0]<=e&&e<=r[1]){o=n;break}if(n===a)for(n=o-1;n>=0;n--){var r;if((r=t[n].interval)[0]<=e&&e<=r[1]){o=n;break}}return n>=0&&n<a&&i[n]}}(m,i.getPieceList(),i.option.selected);l.update(y,g,f,a.color.getNormalizer(),{inRange:a.color.getColorMapper(),outOfRange:o.color.getColorMapper()},x);var b=new It({style:{width:g,height:f,x:u,y:d,image:l.canvas},silent:!0});this.group.add(b)},t.type="heatmap",t}(me),ta=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return ge(t,e),t.prototype.getInitialData=function(e,t){return gi(0,this,{generateCoord:"value"})},t.prototype.preventIncremental=function(){var e=N.get(this.get("coordinateSystem"));if(e&&e.dimensions)return"lng"===e.dimensions[0]&&"lat"===e.dimensions[1]},t.type="series.heatmap",t.dependencies=["grid","geo","calendar"],t.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},t}(Oe);function ia(e){e.registerChartView(ea),e.registerSeriesModel(ta)}function na(e){Ct(zn),Ct(At)}var aa=T;function oa(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!0}function ra(e,t,i){var n={};return aa(t,(function(t){var a,o=n[t]=((a=function(){}).prototype.__hidden=a.prototype,new a);aa(e[t],(function(e,n){if(Gn.isValidType(n)){var a={type:n,visual:e};i&&i(a,t),o[n]=new Gn(a),"opacity"===n&&((a=yt(a)).type="colorAlpha",o.__hidden.__alphaForOpacity=new Gn(a))}}))})),n}var la=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.layoutMode={type:"box",ignoreSize:!0},i}return ge(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i),e.selected=e.selected||{},this._updateSelector(e)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),this._updateSelector(t)},t.prototype._updateSelector=function(e){var t=e.selector,i=this.ecModel;!0===t&&(t=e.selector=["all","inverse"]),W(t)&&T(t,(function(e,n){gt(e)&&(e={type:e}),t[n]=Pe(e,function(e,t){return"all"===t?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===t?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(i,e.type))}))},t.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&"single"===this.get("selectedMode")){for(var t=!1,i=0;i<e.length;i++){var n=e[i].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},t.prototype._updateData=function(e){var t=[],i=[];e.eachRawSeries((function(n){var a,o=n.name;if(i.push(o),n.legendVisualProvider){var r=n.legendVisualProvider.getAllNames();e.isSeriesFiltered(n)||(i=i.concat(r)),r.length?t=t.concat(r):a=!0}else a=!0;a&&kt(n)&&t.push(n.name)})),this._availableNames=i;var n=this.get("data")||t,a=V(),o=F(n,(function(e){return(gt(e)||pe(e))&&(e={name:e}),a.get(e.name)?null:(a.set(e.name,!0),new Vt(e,this,this.ecModel))}),this);this._data=K(o,(function(e){return!!e}))},t.prototype.getData=function(){return this._data},t.prototype.select=function(e){var t=this.option.selected;if("single"===this.get("selectedMode")){var i=this._data;T(i,(function(e){t[e.get("name")]=!1}))}t[e]=!0},t.prototype.unSelect=function(e){"single"!==this.get("selectedMode")&&(this.option.selected[e]=!1)},t.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},t.prototype.allSelect=function(){var e=this._data,t=this.option.selected;T(e,(function(e){t[e.get("name",!0)]=!0}))},t.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;T(e,(function(e){var i=e.get("name",!0);t.hasOwnProperty(i)||(t[i]=!0),t[i]=!t[i]}))},t.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&$e(this._availableNames,e)>=0},t.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},t.type="legend.plain",t.dependencies=["series"],t.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},t}(Re),sa=R,ca=T,ua=rt,da=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!1,i}return ge(t,e),t.prototype.init=function(){this.group.add(this._contentGroup=new ua),this.group.add(this._selectorGroup=new ua),this._isFirstRender=!0},t.prototype.getContentGroup=function(){return this._contentGroup},t.prototype.getSelectorGroup=function(){return this._selectorGroup},t.prototype.render=function(e,t,i){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),e.get("show",!0)){var a=e.get("align"),o=e.get("orient");a&&"auto"!==a||(a="right"===e.get("left")&&"vertical"===o?"right":"left");var r=e.get("selector",!0),l=e.get("selectorPosition",!0);!r||l&&"auto"!==l||(l="horizontal"===o?"end":"start"),this.renderInner(a,e,t,i,r,o,l);var s=e.getBoxLayoutParams(),c={width:i.getWidth(),height:i.getHeight()},u=e.get("padding"),d=ue(s,c,u),p=this.layoutInner(e,a,d,n,r,l),h=ue(ae({width:p.width,height:p.height},s),c,u);this.group.x=h.x-p.x,this.group.y=h.y-p.y,this.group.markRedraw(),this.group.add(this._backgroundEl=function(e,t){var i=Lt(t.get("padding")),n=t.getItemStyle(["color","opacity"]);return n.fill=t.get("backgroundColor"),new ot({shape:{x:e.x-i[3],y:e.y-i[0],width:e.width+i[1]+i[3],height:e.height+i[0]+i[2],r:t.get("borderRadius")},style:n,silent:!0,z2:-1})}(p,e))}},t.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},t.prototype.renderInner=function(e,t,i,n,a,o,r){var l=this.getContentGroup(),s=V(),c=t.get("selectedMode"),u=[];i.eachRawSeries((function(e){!e.get("legendHoverLink")&&u.push(e.id)})),ca(t.getData(),(function(a,o){var r=a.get("name");if(!this.newlineDisabled&&(""===r||"\n"===r)){var d=new ua;return d.newline=!0,void l.add(d)}var p=i.getSeriesByName(r)[0];if(!s.get(r))if(p){var h=p.getData(),g=h.getVisual("legendLineStyle")||{},f=h.getVisual("legendIcon"),v=h.getVisual("style"),y=this._createItem(p,r,o,a,t,e,g,v,f,c,n);y.on("click",sa(pa,r,null,n,u)).on("mouseover",sa(ga,p.name,null,n,u)).on("mouseout",sa(fa,p.name,null,n,u)),i.ssr&&y.eachChild((function(e){var t=Ot(e);t.seriesIndex=p.seriesIndex,t.dataIndex=o,t.ssrType="legend"})),s.set(r,!0)}else i.eachRawSeries((function(l){if(!s.get(r)&&l.legendVisualProvider){var d=l.legendVisualProvider;if(!d.containName(r))return;var p=d.indexOfName(r),h=d.getItemVisual(p,"style"),g=d.getItemVisual(p,"legendIcon"),f=bt(h.fill);f&&0===f[3]&&(f[3]=.2,h=ve(ve({},h),{fill:ft(f,"rgba")}));var v=this._createItem(l,r,o,a,t,e,{},h,g,c,n);v.on("click",sa(pa,null,r,n,u)).on("mouseover",sa(ga,null,r,n,u)).on("mouseout",sa(fa,null,r,n,u)),i.ssr&&v.eachChild((function(e){var t=Ot(e);t.seriesIndex=l.seriesIndex,t.dataIndex=o,t.ssrType="legend"})),s.set(r,!0)}}),this)}),this),a&&this._createSelector(a,t,n,o,r)},t.prototype._createSelector=function(e,t,i,n,a){var o=this.getSelectorGroup();ca(e,(function(e){var n=e.type,a=new xe({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){i.dispatchAction({type:"all"===n?"legendAllSelect":"legendInverseSelect",legendId:t.id})}});o.add(a);var r=t.getModel("selectorLabel"),l=t.getModel(["emphasis","selectorLabel"]);Ie(a,{normal:r,emphasis:l},{defaultText:e.title}),zt(a)}))},t.prototype._createItem=function(e,t,i,n,a,o,r,l,s,c,u){var d,p,h,g=e.visualDrawType,f=a.get("itemWidth"),v=a.get("itemHeight"),y=a.isSelected(t),m=n.get("symbolRotate"),x=n.get("symbolKeepAspect"),b=n.get("icon"),S=function(e,t,i,n,a,o,r){function l(e,t){"auto"===e.lineWidth&&(e.lineWidth=t.lineWidth>0?2:0),ca(e,(function(i,n){"inherit"===e[n]&&(e[n]=t[n])}))}var s=t.getModel("itemStyle"),c=s.getItemStyle(),u=0===e.lastIndexOf("empty",0)?"fill":"stroke",d=s.getShallow("decal");c.decal=d&&"inherit"!==d?Gt(d,r):n.decal,"inherit"===c.fill&&(c.fill=n[a]),"inherit"===c.stroke&&(c.stroke=n[u]),"inherit"===c.opacity&&(c.opacity=("fill"===a?n:i).opacity),l(c,n);var p=t.getModel("lineStyle"),h=p.getLineStyle();if(l(h,i),"auto"===c.fill&&(c.fill=n.fill),"auto"===c.stroke&&(c.stroke=n.fill),"auto"===h.stroke&&(h.stroke=n.fill),!o){var g=t.get("inactiveBorderWidth"),f=c[u];c.lineWidth="auto"===g?n.lineWidth>0&&f?2:0:c.lineWidth,c.fill=t.get("inactiveColor"),c.stroke=t.get("inactiveBorderColor"),h.stroke=p.get("inactiveColor"),h.lineWidth=p.get("inactiveWidth")}return{itemStyle:c,lineStyle:h}}(s=b||s||"roundRect",n,r,l,g,y,u),M=new ua,_=n.getModel("textStyle");if(!z(e.getLegendIcon)||b&&"inherit"!==b){var w="inherit"===b&&e.getData().getVisual("symbol")?"inherit"===m?e.getData().getVisual("symbolRotate"):m:0;M.add((d={itemWidth:f,itemHeight:v,icon:s,iconRotate:w,itemStyle:S.itemStyle,symbolKeepAspect:x},p=d.icon||"roundRect",(h=Et(p,0,0,d.itemWidth,d.itemHeight,d.itemStyle.fill,d.symbolKeepAspect)).setStyle(d.itemStyle),h.rotation=(d.iconRotate||0)*Math.PI/180,h.setOrigin([d.itemWidth/2,d.itemHeight/2]),p.indexOf("empty")>-1&&(h.style.stroke=h.style.fill,h.style.fill="#fff",h.style.lineWidth=2),h))}else M.add(e.getLegendIcon({itemWidth:f,itemHeight:v,icon:s,iconRotate:m,itemStyle:S.itemStyle,lineStyle:S.lineStyle,symbolKeepAspect:x}));var I="left"===o?f+5:-5,C=o,A=a.get("formatter"),L=t;gt(A)&&A?L=A.replace("{name}",null!=t?t:""):z(A)&&(L=A(t));var D=y?_.getTextColor():n.get("inactiveColor");M.add(new xe({style:Rt(_,{text:L,x:I,y:v/2,fill:D,align:C,verticalAlign:"middle"},{inheritColor:D})}));var T=new ot({shape:M.getBoundingRect(),style:{fill:"transparent"}}),k=n.getModel("tooltip");return k.get("show")&&Bt({el:T,componentModel:a,itemName:t,itemTooltipOption:k.option}),M.add(T),M.eachChild((function(e){e.silent=!0})),T.silent=!c,this.getContentGroup().add(M),zt(M),M.__legendDataIndex=i,M},t.prototype.layoutInner=function(e,t,i,n,a,o){var r=this.getContentGroup(),l=this.getSelectorGroup();Pt(e.get("orient"),r,e.get("itemGap"),i.width,i.height);var s=r.getBoundingRect(),c=[-s.x,-s.y];if(l.markRedraw(),r.markRedraw(),a){Pt("horizontal",l,e.get("selectorItemGap",!0));var u=l.getBoundingRect(),d=[-u.x,-u.y],p=e.get("selectorButtonGap",!0),h=e.getOrient().index,g=0===h?"width":"height",f=0===h?"height":"width",v=0===h?"y":"x";"end"===o?d[h]+=s[g]+p:c[h]+=u[g]+p,d[1-h]+=s[f]/2-u[f]/2,l.x=d[0],l.y=d[1],r.x=c[0],r.y=c[1];var y={x:0,y:0};return y[g]=s[g]+p+u[g],y[f]=Math.max(s[f],u[f]),y[v]=Math.min(0,u[v]+d[1-h]),y}return r.x=c[0],r.y=c[1],this.group.getBoundingRect()},t.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},t.type="legend.plain",t}(ht);function pa(e,t,i,n){fa(e,t,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=e?e:t}),ga(e,t,i,n)}function ha(e){for(var t,i=e.getZr().storage.getDisplayList(),n=0,a=i.length;n<a&&!(t=i[n].states.emphasis);)n++;return t&&t.hoverLayer}function ga(e,t,i,n){ha(i)||i.dispatchAction({type:"highlight",seriesName:e,name:t,excludeSeriesId:n})}function fa(e,t,i,n){ha(i)||i.dispatchAction({type:"downplay",seriesName:e,name:t,excludeSeriesId:n})}function va(e){var t=e.findComponents({mainType:"legend"});t&&t.length&&e.filterSeries((function(e){for(var i=0;i<t.length;i++)if(!t[i].isSelected(e.name))return!1;return!0}))}function ya(e,t,i){var n="allSelect"===e||"inverseSelect"===e,a={},o=[];i.eachComponent({mainType:"legend",query:t},(function(i){n?i[e]():i[e](t.name),ma(i,a),o.push(i.componentIndex)}));var r={};return i.eachComponent("legend",(function(e){T(a,(function(t,i){e[t?"select":"unSelect"](i)})),ma(e,r)})),n?{selected:r,legendIndex:o}:{name:t.name,selected:r}}function ma(e,t){var i=t||{};return T(e.getData(),(function(t){var n=t.get("name");if("\n"!==n&&""!==n){var a=e.isSelected(n);Nt(i,n)?i[n]=i[n]&&a:i[n]=a}})),i}function xa(e){e.registerComponentModel(la),e.registerComponentView(da),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,va),e.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(e){e.registerAction("legendToggleSelect","legendselectchanged",R(ya,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",R(ya,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",R(ya,"inverseSelect")),e.registerAction("legendSelect","legendselected",R(ya,"select")),e.registerAction("legendUnSelect","legendunselected",R(ya,"unSelect"))}(e)}var ba=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return ge(t,e),t.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},t.prototype.init=function(t,i,n){var a=Ee(t);e.prototype.init.call(this,t,i,n),Sa(this,t,a)},t.prototype.mergeOption=function(t,i){e.prototype.mergeOption.call(this,t,i),Sa(this,this.option,t)},t.type="legend.scroll",t.defaultOption=Ft(la.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),t}(la);function Sa(e,t,i){var n=[1,1];n[e.getOrient().index]=0,Ne(t,i,{type:"box",ignoreSize:!!n})}var Ma=rt,_a=["width","height"],wa=["x","y"],Ia=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.newlineDisabled=!0,i._currentIndex=0,i}return ge(t,e),t.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new Ma),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Ma)},t.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},t.prototype.renderInner=function(t,i,n,a,o,r,l){var s=this;e.prototype.renderInner.call(this,t,i,n,a,o,r,l);var c=this._controllerGroup,u=i.get("pageIconSize",!0),d=W(u)?u:[u,u];h("pagePrev",0);var p=i.getModel("pageTextStyle");function h(e,t){var n=e+"DataIndex",o=Ht(i.get("pageIcons",!0)[i.getOrient().name][t],{onclick:Le(s._pageGo,s,n,i,a)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});o.name=e,c.add(o)}c.add(new xe({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1)},t.prototype.layoutInner=function(e,t,i,n,a,o){var r=this.getSelectorGroup(),l=e.getOrient().index,s=_a[l],c=wa[l],u=_a[1-l],d=wa[1-l];a&&Pt("horizontal",r,e.get("selectorItemGap",!0));var p=e.get("selectorButtonGap",!0),h=r.getBoundingRect(),g=[-h.x,-h.y],f=yt(i);a&&(f[s]=i[s]-h[s]-p);var v=this._layoutContentAndController(e,n,f,l,s,u,d,c);if(a){if("end"===o)g[l]+=v[s]+p;else{var y=h[s]+p;g[l]-=y,v[c]-=y}v[s]+=h[s]+p,g[1-l]+=v[d]+v[u]/2-h[u]/2,v[u]=Math.max(v[u],h[u]),v[d]=Math.min(v[d],h[d]+g[1-l]),r.x=g[0],r.y=g[1],r.markRedraw()}return v},t.prototype._layoutContentAndController=function(e,t,i,n,a,o,r,l){var s=this.getContentGroup(),c=this._containerGroup,u=this._controllerGroup;Pt(e.get("orient"),s,e.get("itemGap"),n?i.width:null,n?null:i.height),Pt("horizontal",u,e.get("pageButtonItemGap",!0));var d=s.getBoundingRect(),p=u.getBoundingRect(),h=this._showController=d[a]>i[a],g=[-d.x,-d.y];t||(g[n]=s[l]);var f=[0,0],v=[-p.x,-p.y],y=ie(e.get("pageButtonGap",!0),e.get("itemGap",!0));h&&("end"===e.get("pageButtonPosition",!0)?v[n]+=i[a]-p[a]:f[n]+=p[a]+y),v[1-n]+=d[o]/2-p[o]/2,s.setPosition(g),c.setPosition(f),u.setPosition(v);var m={x:0,y:0};if(m[a]=h?i[a]:d[a],m[o]=Math.max(d[o],p[o]),m[r]=Math.min(0,p[r]+v[1-n]),c.__rectSize=i[a],h){var x={x:0,y:0};x[a]=Math.max(i[a]-p[a]-y,0),x[o]=m[o],c.setClipPath(new ot({shape:x})),c.__rectSize=x[a]}else u.eachChild((function(e){e.attr({invisible:!0,silent:!0})}));var b=this._getPageInfo(e);return null!=b.pageIndex&&Se(s,{x:b.contentPosition[0],y:b.contentPosition[1]},h?e:null),this._updatePageInfoView(e,b),m},t.prototype._pageGo=function(e,t,i){var n=this._getPageInfo(t)[e];null!=n&&i.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:t.id})},t.prototype._updatePageInfoView=function(e,t){var i=this._controllerGroup;T(["pagePrev","pageNext"],(function(n){var a=null!=t[n+"DataIndex"],o=i.childOfName(n);o&&(o.setStyle("fill",a?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),o.cursor=a?"pointer":"default")}));var n=i.childOfName("pageText"),a=e.get("pageFormatter"),o=t.pageIndex,r=null!=o?o+1:0,l=t.pageCount;n&&a&&n.setStyle("text",gt(a)?a.replace("{current}",null==r?"":r+"").replace("{total}",null==l?"":l+""):a({current:r,total:l}))},t.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,a=e.getOrient().index,o=_a[a],r=wa[a],l=this._findTargetItemIndex(t),s=i.children(),c=s[l],u=s.length,d=u?1:0,p={contentPosition:[i.x,i.y],pageCount:d,pageIndex:d-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var h=m(c);p.contentPosition[a]=-h.s;for(var g=l+1,f=h,v=h,y=null;g<=u;++g)(!(y=m(s[g]))&&v.e>f.s+n||y&&!x(y,f.s))&&(f=v.i>f.i?v:y)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=f.i),++p.pageCount),v=y;for(g=l-1,f=h,v=h,y=null;g>=-1;--g)(y=m(s[g]))&&x(v,y.s)||!(f.i<v.i)||(v=f,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=f.i),++p.pageCount,++p.pageIndex),f=y;return p;function m(e){if(e){var t=e.getBoundingRect(),i=t[r]+e[r];return{s:i,e:i+t[o],i:e.__legendDataIndex}}}function x(e,t){return e.e>=t&&e.s<=t+n}},t.prototype._findTargetItemIndex=function(e){return this._showController?(this.getContentGroup().eachChild((function(n,a){var o=n.__legendDataIndex;null==i&&null!=o&&(i=a),o===e&&(t=a)})),null!=t?t:i):0;var t,i},t.type="legend.scroll",t}(da);function Ca(e){Ct(xa),e.registerComponentModel(ba),e.registerComponentView(Ia),function(e){e.registerAction("legendScroll","legendscroll",(function(e,t){var i=e.scrollDataIndex;null!=i&&t.eachComponent({mainType:"legend",subType:"scroll",query:e},(function(e){e.setScrollDataIndex(i)}))}))}(e)}function Aa(e){Ct(xa),Ct(Ca)}var La=function(e,t,i){var n=yt((Da[e]||{})[t]);return i&&W(n)?n[n.length-1]:n},Da={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},Ta=Gn.mapVisual,ka=Gn.eachVisual,Va=W,Oa=T,za=Ut,Ra=J,Ba=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.stateList=["inRange","outOfRange"],i.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],i.layoutMode={type:"box",ignoreSize:!0},i.dataBound=[-1/0,1/0],i.targetVisuals={},i.controllerVisuals={},i}return ge(t,e),t.prototype.init=function(e,t,i){this.mergeDefaultAndTheme(e,i)},t.prototype.optionUpdated=function(e,t){var i=this.option;!t&&function(e,t,i){var n;T(i,(function(e){t.hasOwnProperty(e)&&oa(t[e])&&(n=!0)})),n&&T(i,(function(i){t.hasOwnProperty(i)&&oa(t[i])?e[i]=yt(t[i]):delete e[i]}))}(i,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},t.prototype.resetVisual=function(e){var t=this.stateList;e=Le(e,this),this.controllerVisuals=ra(this.option.controller,t,e),this.targetVisuals=ra(this.option.target,t,e)},t.prototype.getItemSymbol=function(){return null},t.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return null==e||"all"===e?this.ecModel.eachSeries((function(e,i){t.push(i)})):t=Wt(e),t},t.prototype.eachTargetSeries=function(e,t){T(this.getTargetSeriesIndices(),(function(i){var n=this.ecModel.getSeriesByIndex(i);n&&e.call(t,n)}),this)},t.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries((function(i){i===e&&(t=!0)})),t},t.prototype.formatValueText=function(e,t,i){var n,a=this.option,o=a.precision,r=this.dataBound,l=a.formatter;i=i||["<",">"],W(e)&&(e=e.slice(),n=!0);var s=t?e:n?[c(e[0]),c(e[1])]:c(e);return gt(l)?l.replace("{value}",n?s[0]:s).replace("{value2}",n?s[1]:s):z(l)?n?l(e[0],e[1]):l(e):n?e[0]===r[0]?i[0]+" "+s[1]:e[1]===r[1]?i[1]+" "+s[0]:s[0]+" - "+s[1]:s;function c(e){return e===r[0]?"min":e===r[1]?"max":(+e).toFixed(Math.min(o,20))}},t.prototype.resetExtent=function(){var e=this.option,t=za([e.min,e.max]);this._dataExtent=t},t.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(null!=t)return e.getDimensionIndex(t);for(var i=e.dimensions,n=i.length-1;n>=0;n--){var a=i[n],o=e.getDimensionInfo(a);if(!o.isCalculationCoord)return o.storeDimIndex}},t.prototype.getExtent=function(){return this._dataExtent.slice()},t.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,i={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),a=t.controller||(t.controller={});Pe(n,i),Pe(a,i);var o=this.isCategory();function r(i){Va(t.color)&&!i.inRange&&(i.inRange={color:t.color.slice().reverse()}),i.inRange=i.inRange||{color:e.get("gradientColor")}}r.call(this,n),r.call(this,a),function(e,t,i){var n=e[t],a=e[i];n&&!a&&(a=e[i]={},Oa(n,(function(e,t){if(Gn.isValidType(t)){var i=La(t,"inactive",o);null!=i&&(a[t]=i,"color"!==t||a.hasOwnProperty("opacity")||a.hasOwnProperty("colorAlpha")||(a.opacity=[0,0]))}})))}.call(this,n,"inRange","outOfRange"),function(e){var t=(e.inRange||{}).symbol||(e.outOfRange||{}).symbol,i=(e.inRange||{}).symbolSize||(e.outOfRange||{}).symbolSize,n=this.get("inactiveColor"),a=this.getItemSymbol()||"roundRect";Oa(this.stateList,(function(r){var l=this.itemSize,s=e[r];s||(s=e[r]={color:o?n:[n]}),null==s.symbol&&(s.symbol=t&&yt(t)||(o?a:[a])),null==s.symbolSize&&(s.symbolSize=i&&yt(i)||(o?l[0]:[l[0],l[0]])),s.symbol=Ta(s.symbol,(function(e){return"none"===e?a:e}));var c=s.symbolSize;if(null!=c){var u=-1/0;ka(c,(function(e){e>u&&(u=e)})),s.symbolSize=Ta(c,(function(e){return Ra(e,[0,u],[0,l[0]],!0)}))}}),this)}.call(this,a)},t.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},t.prototype.isCategory=function(){return!!this.option.categories},t.prototype.setSelected=function(e){},t.prototype.getSelected=function(){return null},t.prototype.getValueState=function(e){return null},t.prototype.getVisualMeta=function(e){return null},t.type="visualMap",t.dependencies=["series"],t.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},t}(Re),Pa=[20,140],Ga=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return ge(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(e){e.mappingMethod="linear",e.dataExtent=this.getExtent()})),this._resetRange()},t.prototype.resetItemSize=function(){e.prototype.resetItemSize.apply(this,arguments);var t=this.itemSize;(null==t[0]||isNaN(t[0]))&&(t[0]=Pa[0]),(null==t[1]||isNaN(t[1]))&&(t[1]=Pa[1])},t.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):W(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},t.prototype.completeVisualOption=function(){e.prototype.completeVisualOption.apply(this,arguments),T(this.stateList,(function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)}),this)},t.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},t.prototype.getSelected=function(){var e=this.getExtent(),t=Ut((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},t.prototype.getValueState=function(e){var t=this.option.range,i=this.getExtent();return(t[0]<=i[0]||t[0]<=e)&&(t[1]>=i[1]||e<=t[1])?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries((function(i){var n=[],a=i.getData();a.each(this.getDataDimensionIndex(a),(function(t,i){e[0]<=t&&t<=e[1]&&n.push(i)}),this),t.push({seriesId:i.id,dataIndex:n})}),this),t},t.prototype.getVisualMeta=function(e){var t=Ea(0,0,this.getExtent()),i=Ea(0,0,this.option.range.slice()),n=[];function a(t,i){n.push({value:t,color:e(t,i)})}for(var o=0,r=0,l=i.length,s=t.length;r<s&&(!i.length||t[r]<=i[0]);r++)t[r]<i[o]&&a(t[r],"outOfRange");for(var c=1;o<l;o++,c=0)c&&n.length&&a(i[o],"outOfRange"),a(i[o],"inRange");for(c=1;r<s;r++)(!i.length||i[i.length-1]<t[r])&&(c&&(n.length&&a(n[n.length-1].value,"outOfRange"),c=0),a(t[r],"outOfRange"));var u=n.length;return{stops:n,outerColors:[u?n[0].color:"transparent",u?n[u-1].color:"transparent"]}},t.type="visualMap.continuous",t.defaultOption=Ft(Ba.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),t}(Ba);function Ea(e,t,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,a=i[0],o=[],r=0;r<=200&&a<i[1];r++)o.push(a),a+=n;return o.push(i[1]),o}var Na=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i.autoPositionValues={left:1,right:1,top:1,bottom:1},i}return ge(t,e),t.prototype.init=function(e,t){this.ecModel=e,this.api=t},t.prototype.render=function(e,t,i,n){this.visualMapModel=e,!1!==e.get("show")?this.doRender(e,t,i,n):this.group.removeAll()},t.prototype.renderBackground=function(e){var t=this.visualMapModel,i=Lt(t.get("padding")||0),n=e.getBoundingRect();e.add(new ot({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},t.prototype.getControllerVisual=function(e,t,i){var n=(i=i||{}).forceState,a=this.visualMapModel,o={};if("color"===t){var r=a.get("contentColor");o.color=r}function l(e){return o[e]}function s(e,t){o[e]=t}var c=a.controllerVisuals[n||a.getValueState(e)],u=Gn.prepareVisualTypes(c);return T(u,(function(n){var a=c[n];i.convertOpacityToAlpha&&"opacity"===n&&(n="colorAlpha",a=c.__alphaForOpacity),Gn.dependsOn(n,t)&&a&&a.applyVisual(e,l,s)})),o[t]},t.prototype.positionGroup=function(e){var t=this.visualMapModel,i=this.api;Kt(e,t.getBoxLayoutParams(),{width:i.getWidth(),height:i.getHeight()})},t.prototype.doRender=function(e,t,i,n){},t.type="visualMap",t}(ht),Fa=[["left","right","width"],["top","bottom","height"]];function Ha(e,t,i){var n=e.option,a=n.align;if(null!=a&&"auto"!==a)return a;for(var o={width:t.getWidth(),height:t.getHeight()},r="horizontal"===n.orient?1:0,l=Fa[r],s=[0,null,10],c={},u=0;u<3;u++)c[Fa[1-r][u]]=s[u],c[l[u]]=2===u?i[0]:n[l[u]];var d=[["x","width",3],["y","height",0]][r],p=ue(c,o,n.padding);return l[(p.margin[d[2]]||0)+p[d[0]]+.5*p[d[1]]<.5*o[d[1]]?0:1]}function Wa(e,t){return T(e||[],(function(e){null!=e.dataIndex&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(t?t.componentIndex:"")})),e}var Ua=J,Ka=T,Za=Math.min,Ya=Math.max,qa=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return ge(t,e),t.prototype.init=function(t,i){e.prototype.init.call(this,t,i),this._hoverLinkFromSeriesMouseOver=Le(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=Le(this._hideIndicator,this)},t.prototype.doRender=function(e,t,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},t.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var i=e.get("text");this._renderEndsText(t,i,0),this._renderEndsText(t,i,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},t.prototype._renderEndsText=function(e,t,i){if(t){var n=t[1-i];n=null!=n?n+"":"";var a=this.visualMapModel,o=a.get("textGap"),r=a.itemSize,l=this._shapes.mainGroup,s=this._applyTransform([r[0]/2,0===i?-o:r[1]+o],l),c=this._applyTransform(0===i?"bottom":"top",l),u=this._orient,d=this.visualMapModel.textStyleModel;this.group.add(new xe({style:Rt(d,{x:s[0],y:s[1],verticalAlign:"horizontal"===u?"middle":c,align:"horizontal"===u?c:"center",text:n})}))}},t.prototype._renderBar=function(e){var t=this.visualMapModel,i=this._shapes,n=t.itemSize,a=this._orient,o=this._useHandle,r=Ha(t,this.api,n),l=i.mainGroup=this._createBarGroup(r),s=new rt;l.add(s),s.add(i.outOfRange=Xa()),s.add(i.inRange=Xa(null,o?ja(this._orient):null,Le(this._dragHandle,this,"all",!1),Le(this._dragHandle,this,"all",!0))),s.setClipPath(new ot({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var c=t.textStyleModel.getTextRect("å›½"),u=Ya(c.width,c.height);o&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(t,l,0,n,u,a),this._createHandle(t,l,1,n,u,a)),this._createIndicator(t,l,n,u,a),e.add(l)},t.prototype._createHandle=function(e,t,i,n,a,o){var r=Le(this._dragHandle,this,i,!1),l=Le(this._dragHandle,this,i,!0),s=se(e.get("handleSize"),n[0]),c=Et(e.get("handleIcon"),-s/2,-s/2,s,s,null,!0),u=ja(this._orient);c.attr({cursor:u,draggable:!0,drift:r,ondragend:l,onmousemove:function(e){Zt(e.event)}}),c.x=n[0]/2,c.useStyle(e.getModel("handleStyle").getItemStyle()),c.setStyle({strokeNoScale:!0,strokeFirst:!0}),c.style.lineWidth*=2,c.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),Yt(c,!0),t.add(c);var d=this.visualMapModel.textStyleModel,p=new xe({cursor:u,draggable:!0,drift:r,onmousemove:function(e){Zt(e.event)},ondragend:l,style:Rt(d,{x:0,y:0,text:""})});p.ensureState("blur").style={opacity:.1},p.stateTransition={duration:200},this.group.add(p);var h=[s,0],g=this._shapes;g.handleThumbs[i]=c,g.handleLabelPoints[i]=h,g.handleLabels[i]=p},t.prototype._createIndicator=function(e,t,i,n,a){var o=se(e.get("indicatorSize"),i[0]),r=Et(e.get("indicatorIcon"),-o/2,-o/2,o,o,null,!0);r.attr({cursor:"move",invisible:!0,silent:!0,x:i[0]/2});var l=e.getModel("indicatorStyle").getItemStyle();if(r instanceof It){var s=r.style;r.useStyle(ve({image:s.image,x:s.x,y:s.y,width:s.width,height:s.height},l))}else r.useStyle(l);t.add(r);var c=this.visualMapModel.textStyleModel,u=new xe({silent:!0,invisible:!0,style:Rt(c,{x:0,y:0,text:""})});this.group.add(u);var d=[("horizontal"===a?n/2:6)+i[0]/2,0],p=this._shapes;p.indicator=r,p.indicatorLabel=u,p.indicatorLabelPoint=d,this._firstShowIndicator=!0},t.prototype._dragHandle=function(e,t,i,n){if(this._useHandle){if(this._dragging=!t,!t){var a=this._applyTransform([i,n],this._shapes.mainGroup,!0);this._updateInterval(e,a[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():$a(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},t.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),i=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[Ua(t[0],i,n,!0),Ua(t[1],i,n,!0)]},t.prototype._updateInterval=function(e,t){t=t||0;var i=this.visualMapModel,n=this._handleEnds,a=[0,i.itemSize[1]];!function(e,t,i,n,a,o){e=e||0;var r=i[1]-i[0];if(null!=a&&(a=jn(a,[0,r])),null!=o&&(o=Math.max(o,null!=a?a:0)),"all"===n){var l=Math.abs(t[1]-t[0]);l=jn(l,[0,r]),a=o=jn(l,[a,o]),n=0}t[0]=jn(t[0],i),t[1]=jn(t[1],i);var s=$n(t,n);t[n]+=e;var c,u=a||0,d=i.slice();s.sign<0?d[0]+=u:d[1]-=u,t[n]=jn(t[n],d),c=$n(t,n),null!=a&&(c.sign!==s.sign||c.span<a)&&(t[1-n]=t[n]+s.sign*a),c=$n(t,n),null!=o&&c.span>o&&(t[1-n]=t[n]+c.sign*o)}(t,n,a,e,0);var o=i.getExtent();this._dataInterval=[Ua(n[0],a,o,!0),Ua(n[1],a,o,!0)]},t.prototype._updateView=function(e){var t=this.visualMapModel,i=t.getExtent(),n=this._shapes,a=[0,t.itemSize[1]],o=e?a:this._handleEnds,r=this._createBarVisual(this._dataInterval,i,o,"inRange"),l=this._createBarVisual(i,i,a,"outOfRange");n.inRange.setStyle({fill:r.barColor}).setShape("points",r.barPoints),n.outOfRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),this._updateHandle(o,r)},t.prototype._createBarVisual=function(e,t,i,n){var a={forceState:n,convertOpacityToAlpha:!0},o=this._makeColorGradient(e,a),r=[this.getControllerVisual(e[0],"symbolSize",a),this.getControllerVisual(e[1],"symbolSize",a)],l=this._createBarPoints(i,r);return{barColor:new qt(0,0,0,1,o),barPoints:l,handlesColor:[o[0].color,o[o.length-1].color]}},t.prototype._makeColorGradient=function(e,t){var i=[],n=(e[1]-e[0])/100;i.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var a=1;a<100;a++){var o=e[0]+n*a;if(o>e[1])break;i.push({color:this.getControllerVisual(o,"color",t),offset:a/100})}return i.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),i},t.prototype._createBarPoints=function(e,t){var i=this.visualMapModel.itemSize;return[[i[0]-t[0],e[0]],[i[0],e[0]],[i[0],e[1]],[i[0]-t[1],e[1]]]},t.prototype._createBarGroup=function(e){var t=this._orient,i=this.visualMapModel.get("inverse");return new rt("horizontal"!==t||i?"horizontal"===t&&i?{scaleX:"bottom"===e?-1:1,rotation:-Math.PI/2}:"vertical"!==t||i?{scaleX:"left"===e?1:-1}:{scaleX:"left"===e?1:-1,scaleY:-1}:{scaleX:"bottom"===e?1:-1,rotation:Math.PI/2})},t.prototype._updateHandle=function(e,t){if(this._useHandle){var i=this._shapes,n=this.visualMapModel,a=i.handleThumbs,o=i.handleLabels,r=n.itemSize,l=n.getExtent(),s=this._applyTransform("left",i.mainGroup);Ka([0,1],(function(c){var u=a[c];u.setStyle("fill",t.handlesColor[c]),u.y=e[c];var d=Ua(e[c],[0,r[1]],l,!0),p=this.getControllerVisual(d,"symbolSize");u.scaleX=u.scaleY=p/r[0],u.x=r[0]-p/2;var h=Xt(i.handleLabelPoints[c],$t(u,this.group));if("horizontal"===this._orient){var g="left"===s||"top"===s?(r[0]-p)/2:(r[0]-p)/-2;h[1]+=g}o[c].setStyle({x:h[0],y:h[1],text:n.formatValueText(this._dataInterval[c]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",i.mainGroup):"center"})}),this)}},t.prototype._showIndicator=function(e,t,i,n){var a=this.visualMapModel,o=a.getExtent(),r=a.itemSize,l=[0,r[1]],s=this._shapes,c=s.indicator;if(c){c.attr("invisible",!1);var u=this.getControllerVisual(e,"color",{convertOpacityToAlpha:!0}),d=this.getControllerVisual(e,"symbolSize"),p=Ua(e,o,l,!0),h=r[0]-d/2,g={x:c.x,y:c.y};c.y=p,c.x=h;var f=Xt(s.indicatorLabelPoint,$t(c,this.group)),v=s.indicatorLabel;v.attr("invisible",!1);var y=this._applyTransform("left",s.mainGroup),m="horizontal"===this._orient;v.setStyle({text:(i||"")+a.formatValueText(t),verticalAlign:m?y:"middle",align:m?"center":y});var x={x:h,y:p,style:{fill:u}},b={style:{x:f[0],y:f[1]}};if(a.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var S={duration:100,easing:"cubicInOut",additive:!0};c.x=g.x,c.y=g.y,c.animateTo(x,S),v.animateTo(b,S)}else c.attr(x),v.attr(b);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var _=0;_<M.length;_++)this.api.enterBlur(M[_])}},t.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",(function(t){if(e._hovering=!0,!e._dragging){var i=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);n[1]=Za(Ya(0,n[1]),i[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=i[0])}})).on("mouseout",(function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()}))},t.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},t.prototype._doHoverLinkToSeries=function(e,t){var i=this.visualMapModel,n=i.itemSize;if(i.option.hoverLink){var a=[0,n[1]],o=i.getExtent();e=Za(Ya(a[0],e),a[1]);var r=function(e,t,i){var n=6,a=e.get("hoverLinkDataSize");return a&&(n=Ua(a,t,i,!0)/2),n}(i,o,a),l=[e-r,e+r],s=Ua(e,a,o,!0),c=[Ua(l[0],a,o,!0),Ua(l[1],a,o,!0)];l[0]<a[0]&&(c[0]=-1/0),l[1]>a[1]&&(c[1]=1/0),t&&(c[0]===-1/0?this._showIndicator(s,c[1],"< ",r):c[1]===1/0?this._showIndicator(s,c[0],"> ",r):this._showIndicator(s,s,"â‰ˆ ",r));var u=this._hoverLinkDataIndices,d=[];(t||$a(i))&&(d=this._hoverLinkDataIndices=i.findTargetDataIndices(c));var p=jt(u,d);this._dispatchHighDown("downplay",Wa(p[0],i)),this._dispatchHighDown("highlight",Wa(p[1],i))}},t.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if(Jt(e.target,(function(e){var i=Ot(e);if(null!=i.dataIndex)return t=i,!0}),!0),t){var i=this.ecModel.getSeriesByIndex(t.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(i)){var a=i.getData(t.dataType),o=a.getStore().get(n.getDataDimensionIndex(a),t.dataIndex);isNaN(o)||this._showIndicator(o,o)}}},t.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var i=0;i<t.length;i++)this.api.leaveBlur(t[i])},t.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Wa(e,this.visualMapModel)),e.length=0},t.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},t.prototype._applyTransform=function(e,t,i,n){var a=$t(t,n?null:this.group);return W(e)?Xt(e,a,i):Qt(e,a,i)},t.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},t.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},t.type="visualMap.continuous",t}(Na);function Xa(e,t,i,n){return new ei({shape:{points:e},draggable:!!i,cursor:t,drift:i,onmousemove:function(e){Zt(e.event)},ondragend:n})}function $a(e){var t=e.get("hoverLinkOnHandle");return!!(null==t?e.get("realtime"):t)}function ja(e){return"vertical"===e?"ns-resize":"ew-resize"}var Ja={type:"selectDataRange",event:"dataRangeSelected",update:"update"},Qa=function(e,t){t.eachComponent({mainType:"visualMap",query:e},(function(t){t.setSelected(e.selected)}))},eo=[{createOnAllSeries:!0,reset:function(e,t){var i=[];return t.eachComponent("visualMap",(function(t){var n,a,o,r,l,s=e.pipelineContext;!t.isTargetSeries(e)||s&&s.large||i.push((n=t.stateList,a=t.targetVisuals,o=Le(t.getValueState,t),r=t.getDataDimensionIndex(e.getData()),l={},T(n,(function(e){var t=Gn.prepareVisualTypes(a[e]);l[e]=t})),{progress:function(e,t){var i,n;function s(e){return Dt(t,n,e)}function c(e,i){Tt(t,n,e,i)}null!=r&&(i=t.getDimensionIndex(r));for(var u=t.getStore();null!=(n=e.next());){var d=t.getRawDataItem(n);if(!d||!1!==d.visualMap)for(var p=null!=r?u.get(i,n):n,h=o(p),g=a[h],f=l[h],v=0,y=f.length;v<y;v++){var m=f[v];g[m]&&g[m].applyVisual(p,s,c)}}}}))})),i}},{createOnAllSeries:!0,reset:function(e,t){var i=e.getData(),n=[];t.eachComponent("visualMap",(function(t){if(t.isTargetSeries(e)){var a=t.getVisualMeta(Le(to,null,e,t))||{stops:[],outerColors:[]},o=t.getDataDimensionIndex(i);o>=0&&(a.dimension=o,n.push(a))}})),e.getData().setVisual("visualMeta",n)}}];function to(e,t,i,n){for(var a=t.targetVisuals[n],o=Gn.prepareVisualTypes(a),r={color:ti(e.getData(),"color")},l=0,s=o.length;l<s;l++){var c=o[l],u=a["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(i,d,p)}return r.color;function d(e){return r[e]}function p(e,t){r[e]=t}}var io=T;function no(e){var t=e&&e.visualMap;W(t)||(t=t?[t]:[]),io(t,(function(e){if(e){ao(e,"splitList")&&!ao(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&W(t)&&io(t,(function(e){Xe(e)&&(ao(e,"start")&&!ao(e,"min")&&(e.min=e.start),ao(e,"end")&&!ao(e,"max")&&(e.max=e.end))}))}}))}function ao(e,t){return e&&e.hasOwnProperty&&e.hasOwnProperty(t)}var oo=!1;function ro(e){oo||(oo=!0,e.registerSubTypeDefaulter("visualMap",(function(e){return e.categories||(e.pieces?e.pieces.length>0:e.splitNumber>0)&&!e.calculable?"piecewise":"continuous"})),e.registerAction(Ja,Qa),T(eo,(function(t){e.registerVisual(e.PRIORITY.VISUAL.COMPONENT,t)})),e.registerPreprocessor(no))}function lo(e){e.registerComponentModel(Ga),e.registerComponentView(qa),ro(e)}var so=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i._pieceList=[],i}return ge(t,e),t.prototype.optionUpdated=function(t,i){e.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var n=this._mode=this._determineMode();this._pieceList=[],co[this._mode].call(this,this._pieceList),this._resetSelected(t,i);var a=this.option.categories;this.resetVisual((function(e,t){"categories"===n?(e.mappingMethod="category",e.categories=yt(a)):(e.dataExtent=this.getExtent(),e.mappingMethod="piecewise",e.pieceList=F(this._pieceList,(function(e){return e=yt(e),"inRange"!==t&&(e.visual=null),e})))}))},t.prototype.completeVisualOption=function(){var t=this.option,i={},n=Gn.listVisualTypes(),a=this.isCategory();function o(e,t,i){return e&&e[t]&&e[t].hasOwnProperty(i)}T(t.pieces,(function(e){T(n,(function(t){e.hasOwnProperty(t)&&(i[t]=1)}))})),T(i,(function(e,i){var n=!1;T(this.stateList,(function(e){n=n||o(t,e,i)||o(t.target,e,i)}),this),!n&&T(this.stateList,(function(e){(t[e]||(t[e]={}))[i]=La(i,"inRange"===e?"active":"inactive",a)}))}),this),e.prototype.completeVisualOption.apply(this,arguments)},t.prototype._resetSelected=function(e,t){var i=this.option,n=this._pieceList,a=(t?i:e).selected||{};if(i.selected=a,T(n,(function(e,t){var i=this.getSelectedMapKey(e);a.hasOwnProperty(i)||(a[i]=!0)}),this),"single"===i.selectedMode){var o=!1;T(n,(function(e,t){var i=this.getSelectedMapKey(e);a[i]&&(o?a[i]=!1:o=!0)}),this)}},t.prototype.getItemSymbol=function(){return this.get("itemSymbol")},t.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},t.prototype.getPieceList=function(){return this._pieceList},t.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},t.prototype.setSelected=function(e){this.option.selected=yt(e)},t.prototype.getValueState=function(e){var t=Gn.findPieceIndex(e,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},t.prototype.findTargetDataIndices=function(e){var t=[],i=this._pieceList;return this.eachTargetSeries((function(n){var a=[],o=n.getData();o.each(this.getDataDimensionIndex(o),(function(t,n){Gn.findPieceIndex(t,i)===e&&a.push(n)}),this),t.push({seriesId:n.id,dataIndex:a})}),this),t},t.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(null!=e.value)t=e.value;else{var i=e.interval||[];t=i[0]===-1/0&&i[1]===1/0?0:(i[0]+i[1])/2}return t},t.prototype.getVisualMeta=function(e){if(!this.isCategory()){var t=[],i=["",""],n=this,a=this._pieceList.slice();if(a.length){var o=a[0].interval[0];o!==-1/0&&a.unshift({interval:[-1/0,o]}),(o=a[a.length-1].interval[1])!==1/0&&a.push({interval:[o,1/0]})}else a.push({interval:[-1/0,1/0]});var r=-1/0;return T(a,(function(e){var t=e.interval;t&&(t[0]>r&&l([r,t[0]],"outOfRange"),l(t.slice()),r=t[1])}),this),{stops:t,outerColors:i}}function l(a,o){var r=n.getRepresentValue({interval:a});o||(o=n.getValueState(r));var l=e(r,o);a[0]===-1/0?i[0]=l:a[1]===1/0?i[1]=l:t.push({value:a[0],color:l},{value:a[1],color:l})}},t.type="visualMap.piecewise",t.defaultOption=Ft(Ba.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),t}(Ba),co={splitNumber:function(e){var t=this.option,i=Math.min(t.precision,20),n=this.getExtent(),a=t.splitNumber;a=Math.max(parseInt(a,10),1),t.splitNumber=a;for(var o=(n[1]-n[0])/a;+o.toFixed(i)!==o&&i<5;)i++;t.precision=i,o=+o.toFixed(i),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var r=0,l=n[0];r<a;l+=o,r++){var s=r===a-1?n[1]:l+o;e.push({interval:[l,s],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),ii(e),T(e,(function(e,t){e.index=t,e.text=this.formatValueText(e.interval)}),this)},categories:function(e){var t=this.option;T(t.categories,(function(t){e.push({text:this.formatValueText(t,!0),value:t})}),this),uo(t,e)},pieces:function(e){var t=this.option;T(t.pieces,(function(t,i){Xe(t)||(t={value:t});var n={text:"",index:i};if(null!=t.label&&(n.text=t.label),t.hasOwnProperty("value")){var a=n.value=t.value;n.interval=[a,a],n.close=[1,1]}else{for(var o=n.interval=[],r=n.close=[0,0],l=[1,0,1],s=[-1/0,1/0],c=[],u=0;u<2;u++){for(var d=[["gte","gt","min"],["lte","lt","max"]][u],p=0;p<3&&null==o[u];p++)o[u]=t[d[p]],r[u]=l[p],c[u]=2===p;null==o[u]&&(o[u]=s[u])}c[0]&&o[1]===1/0&&(r[0]=0),c[1]&&o[0]===-1/0&&(r[1]=0),o[0]===o[1]&&r[0]&&r[1]&&(n.value=o[0])}n.visual=Gn.retrieveVisuals(t),e.push(n)}),this),uo(t,e),ii(e),T(e,(function(e){var t=e.close,i=[["<","â‰¤"][t[1]],[">","â‰¥"][t[0]]];e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,i)}),this)}};function uo(e,t){var i=e.inverse;("vertical"===e.orient?!i:i)&&t.reverse()}var po=function(e){function t(){var i=null!==e&&e.apply(this,arguments)||this;return i.type=t.type,i}return ge(t,e),t.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,i=t.get("textGap"),n=t.textStyleModel,a=n.getFont(),o=n.getTextColor(),r=this._getItemAlign(),l=t.itemSize,s=this._getViewData(),c=s.endsText,u=ni(t.get("showLabel",!0),!c),d=!t.get("selectedMode");c&&this._renderEndsText(e,c[0],l,u,r),T(s.viewPieceList,(function(n){var s=n.piece,c=new rt;c.onclick=Le(this._onItemClick,this,s),this._enableHoverLink(c,n.indexInModelPieceList);var p=t.getRepresentValue(s);if(this._createItemSymbol(c,p,[0,0,l[0],l[1]],d),u){var h=this.visualMapModel.getValueState(p);c.add(new xe({style:{x:"right"===r?-i:l[0]+i,y:l[1]/2,text:s.text,verticalAlign:"middle",align:r,font:a,fill:o,opacity:"outOfRange"===h?.5:1},silent:d}))}e.add(c)}),this),c&&this._renderEndsText(e,c[1],l,u,r),Pt(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},t.prototype._enableHoverLink=function(e,t){var i=this;e.on("mouseover",(function(){return n("highlight")})).on("mouseout",(function(){return n("downplay")}));var n=function(e){var n=i.visualMapModel;n.option.hoverLink&&i.api.dispatchAction({type:e,batch:Wa(n.findTargetDataIndices(t),n)})}},t.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if("vertical"===t.orient)return Ha(e,this.api,e.itemSize);var i=t.align;return i&&"auto"!==i||(i="left"),i},t.prototype._renderEndsText=function(e,t,i,n,a){if(t){var o=new rt,r=this.visualMapModel.textStyleModel;o.add(new xe({style:Rt(r,{x:n?"right"===a?i[0]:0:i[0]/2,y:i[1]/2,verticalAlign:"middle",align:n?a:"center",text:t})})),e.add(o)}},t.prototype._getViewData=function(){var e=this.visualMapModel,t=F(e.getPieceList(),(function(e,t){return{piece:e,indexInModelPieceList:t}})),i=e.get("text"),n=e.get("orient"),a=e.get("inverse");return("horizontal"===n?a:!a)?t.reverse():i&&(i=i.slice().reverse()),{viewPieceList:t,endsText:i}},t.prototype._createItemSymbol=function(e,t,i,n){var a=Et(this.getControllerVisual(t,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(t,"color"));a.silent=n,e.add(a)},t.prototype._onItemClick=function(e){var t=this.visualMapModel,i=t.option,n=i.selectedMode;if(n){var a=yt(i.selected),o=t.getSelectedMapKey(e);"single"===n||!0===n?(a[o]=!0,T(a,(function(e,t){a[t]=t===o}))):a[o]=!a[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:a})}},t.type="visualMap.piecewise",t}(Na);function ho(e){e.registerComponentModel(so),e.registerComponentView(po),ro(e)}function go(e){Ct(lo),Ct(ho)}const fo={class:"chart-wrapper"},vo={class:"chart-content"},yo=i({__name:"BossParticipationDonut",setup(e){Ct([on,ai,Aa,oi]);const t=["#7BD08D","#A9DBB5","#5AB06C","#3D9A4E","#2C8A3D"],i=n({backgroundColor:"transparent",tooltip:{trigger:"item",backgroundColor:"#002C1B",borderColor:"#7BD08D",borderWidth:1,textStyle:{color:"#A9DBB5"}},legend:{orient:"vertical",left:10,top:"center",textStyle:{color:"#A9DBB5",fontSize:12},itemGap:10,itemWidth:15,itemHeight:15,icon:"circle",formatter:e=>e.length>10?e.slice(0,10)+"...":e},series:[{name:"ParticipaciÃ³n",type:"pie",center:["65%","50%"],radius:["45%","75%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#001B11",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:16,fontWeight:"bold",color:"#FFFFFF"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:[{value:262,name:"Clan A",itemStyle:{color:t[0]}},{value:184,name:"Clan B",itemStyle:{color:t[1]}},{value:145,name:"Clan C",itemStyle:{color:t[2]}},{value:121,name:"Clan D",itemStyle:{color:t[3]}},{value:75,name:"Otros",itemStyle:{color:t[4]}}]}]});return(e,t)=>(l(),r("div",fo,[t[0]||(t[0]=s("div",{class:"chart-header"},[s("div",null,[s("h2",{class:"chart-title"},"ParticipaciÃ³n en Boss Semanal"),s("p",{class:"chart-subtitle"},"DistribuciÃ³n de jugadores por clanes")])],-1)),s("div",vo,[c(u(ri),{option:i.value,autoresize:""},null,8,["option"])])]))}},[["__scopeId","data-v-78075d6f"]]),mo={class:"chart-wrapper"},xo={class:"chart-content"},bo=i({__name:"WeeklyRevenue",setup(e){const t=d,i=n([{name:"Ingresos (â‚¬)",data:[3e3,3375,2750,3750,4250,4e3,4375]}]),a=n({chart:{toolbar:{show:!1},background:"transparent",fontFamily:"inherit",height:350},plotOptions:{bar:{borderRadius:6,columnWidth:"50%",distributed:!1,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:e=>`${(e/1e3).toFixed(1)}Kâ‚¬`,offsetY:-20,style:{fontSize:"12px",colors:["#A9DBB5"]}},xaxis:{categories:["Semana 1","Semana 2","Semana 3","Semana 4","Semana 5","Semana 6","Semana 7"],labels:{style:{colors:"#A9DBB5",fontSize:"12px"},rotate:-45,offsetY:5},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:e=>`${(e/1e3).toFixed(0)}Kâ‚¬`,style:{colors:"#A9DBB5",fontSize:"12px"}},min:0,max:5e3,tickAmount:5},grid:{borderColor:"rgba(169, 219, 181, 0.1)",strokeDashArray:4,position:"back",padding:{top:20,right:10,bottom:10,left:10}},colors:["#7BD08D"],fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.3,gradientToColors:["#A9DBB5"],inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{enabled:!0,theme:"dark",style:{fontSize:"12px"},y:{formatter:e=>`${e.toLocaleString()}â‚¬`}}});return(e,n)=>(l(),r("div",mo,[n[0]||(n[0]=s("div",{class:"chart-header"},[s("div",null,[s("h2",{class:"chart-title"},"Ingresos Semanales"),s("p",{class:"chart-subtitle"},"Comparativa de ingresos por semana")]),s("div",{class:"chart-badge"},"+9.4%")],-1)),s("div",xo,[c(u(t),{type:"bar",height:"100%",options:a.value,series:i.value},null,8,["options","series"])])]))}},[["__scopeId","data-v-64de44b6"]]),So={class:"chart-wrapper"},Mo={class:"chart-content"},_o=i({__name:"WeeklyRetentionHeatmap",setup(e){Ct([ia,ai,na,Aa,go,oi]);const t=n({backgroundColor:"transparent",tooltip:{position:"top",formatter:e=>`${["Clan A","Clan B","Clan C","Clan D","Otros"][e.value[1]]}<br>${e.name}: ${e.value[2]} dÃ­as`,backgroundColor:"#002C1B",borderColor:"#7BD08D",borderWidth:1,textStyle:{color:"#A9DBB5"}},grid:{height:"65%",top:"10%",left:"10%",right:"5%",bottom:"20%"},xAxis:{type:"category",data:["Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b","Dom"],splitArea:{show:!0},axisLine:{lineStyle:{color:"rgba(169, 219, 181, 0.3)"}},axisLabel:{color:"#A9DBB5",fontSize:10,margin:8,rotate:0},splitArea:{show:!0,areaStyle:{color:["rgba(0, 44, 27, 0.02)","rgba(0, 44, 27, 0.1)"]}}},yAxis:{type:"category",data:["Clan A","Clan B","Clan C","Clan D","Otros"],splitArea:{show:!0},axisLine:{lineStyle:{color:"rgba(169, 219, 181, 0.3)"}},axisLabel:{color:"#A9DBB5",fontSize:10,margin:8},splitArea:{show:!0,areaStyle:{color:["rgba(0, 44, 27, 0.02)","rgba(0, 44, 27, 0.1)"]}}},visualMap:{min:0,max:7,calculable:!0,orient:"horizontal",left:"center",bottom:"5%",itemWidth:12,itemHeight:80,textStyle:{color:"#A9DBB5",fontSize:10},inRange:{color:["#A9DBB5","#7BD08D","#5AB06C","#2C8A3D","#002C1B","#001B11"]}},series:[{name:"DÃ­as activos",type:"heatmap",data:[[0,0,7],[0,1,6],[0,2,5],[0,3,4],[0,4,3],[1,0,7],[1,1,6],[1,2,5],[1,3,4],[1,4,3],[2,0,6],[2,1,5],[2,2,4],[2,3,3],[2,4,2],[3,0,6],[3,1,5],[3,2,4],[3,3,3],[3,4,2],[4,0,7],[4,1,6],[4,2,5],[4,3,4],[4,4,3],[5,0,5],[5,1,4],[5,2,3],[5,3,2],[5,4,1],[6,0,5],[6,1,4],[6,2,3],[6,3,2],[6,4,1]],label:{show:!1},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{borderWidth:1,borderColor:"rgba(0, 27, 17, 0.5)"}}]});return(e,i)=>(l(),r("div",So,[i[0]||(i[0]=s("div",{class:"chart-header"},[s("div",null,[s("h2",{class:"chart-title"},"RetenciÃ³n Semanal"),s("p",{class:"chart-subtitle"},"DÃ­as activos promedio")])],-1)),s("div",Mo,[c(u(ri),{option:t.value,autoresize:"",class:"heatmap-chart"},null,8,["option"])])]))}},[["__scopeId","data-v-ca742652"]]),wo={class:"dashboard-container"},Io={class:"kpi-row"},Co={class:"kpi-card"},Ao={class:"kpi-card"},Lo={class:"kpi-card"},Do={class:"kpi-card"},To={class:"charts-grid"},ko={class:"chart-card"},Vo={class:"chart-card"},Oo={class:"chart-card"},zo={class:"chart-card"};e("default",i(p({__name:"NegocioPage",setup(e){const t=n(650),i=n({chart:{id:"rt",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#7BD08D"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.2,stops:[0,90,100],colorStops:[{offset:0,color:"#7BD08D",opacity:.4},{offset:100,color:"#001B11",opacity:0}]}},tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),r=n([{data:[500,520,480,530,t.value]}]),d=n({chart:{id:"inc",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#A9DBB5"],tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),p=n([{data:[12500,13e3,12e3,15750,15e3,16250,16400]}]),_=n({chart:{id:"dau",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#EE9AE5"],tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),w=n([{data:[25,27,26,28,27,29,27]}]),I=n({chart:{id:"boss",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#F31B4A"],tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),C=n([{data:[700,750,800,825,795,850,787]}]);let A;function L(){const e=window.innerHeight,t=document.querySelector("ion-header"),i=e-(t?t.clientHeight:56)-8,n=document.querySelector(".dashboard-container"),a=document.querySelector(".kpi-row"),o=document.querySelector(".charts-grid");if(n&&a&&o){const e=i-a.clientHeight-24;e>300&&(o.style.height=`${e}px`)}}return a((()=>{A=window.setInterval((()=>{const e=Math.floor(100*Math.random())+650;t.value=e,r.value=[{data:[...r.value[0].data.slice(1),e]}]}),3500),L(),window.addEventListener("resize",L)})),o((()=>{void 0!==A&&clearInterval(A),window.removeEventListener("resize",L)})),(e,n)=>(l(),h(u(f),null,{default:g((()=>[c(u(v),{translucent:!0},{default:g((()=>[c(u(y),{class:"toolbar"},{default:g((()=>[c(u(m),{slot:"start"},{default:g((()=>[c(u(x),{color:"light"})])),_:1}),c(u(b),null,{default:g((()=>n[0]||(n[0]=[S("ðŸš€ Dashboard de Negocio")]))),_:1})])),_:1})])),_:1}),c(u(M),{class:"dashboard-content"},{default:g((()=>[s("div",wo,[s("div",Io,[s("div",Co,[c(li,{title:"JUGADORES ACTIVOS",value:t.value.toString(),chartOptions:i.value,chartSeries:r.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#7BD08D",iconName:"people-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},{default:g((()=>n[1]||(n[1]=[s("div",{class:"live-indicator"},[s("span",{class:"pulse-dot"}),s("span",{class:"live-text"},"En vivo")],-1)]))),_:1},8,["value","chartOptions","chartSeries"])]),s("div",Ao,[c(li,{title:"INGRESOS ÃšLTIMO MES",value:"16.4Kâ‚¬",chartOptions:d.value,chartSeries:p.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#A9DBB5",iconName:"cash-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},null,8,["chartOptions","chartSeries"])]),s("div",Lo,[c(li,{title:"MAU",value:"27%",chartOptions:_.value,chartSeries:w.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#A9DBB5",iconName:"eye-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},null,8,["chartOptions","chartSeries"])]),s("div",Do,[c(li,{title:"BOSS PART. ÃšLTIMA SEMANA",value:"787",chartOptions:I.value,chartSeries:C.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#A9DBB5",iconName:"people-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},null,8,["chartOptions","chartSeries"])])]),s("div",To,[s("div",ko,[c(ui)]),s("div",Vo,[c(bo)]),s("div",Oo,[c(yo)]),s("div",zo,[c(_o)])])])])),_:1})])),_:1}))}}),[["__scopeId","data-v-5f708f0a"]]))}}}));
