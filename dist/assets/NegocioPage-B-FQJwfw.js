import{_ as Fe,r as q,o as Xa,a as Ya,c as ot,b as We,d as I,e as F,u as te,m as Er,f as Nr,g as Hr,w as fe,I as Fr,h as Wr,i as $r,j as Ur,k as Zr,l as Xr,n as Yr,p as Kr}from"./index-BCHRtAVd.js";import{C as aa,B as qr,a as jr,L as Jr,P as Qr,p as ei,b as ti,e as C,S as de,c as Ge,d as Ka,i as Me,f as oe,m as ai,g as ri,h as ii,j as ni,k as qa,l as Z,n as oi,o as H,q as si,r as st,s as $e,t as li,u as lt,v as ja,w as ui,x as ci,y as ie,z as Pe,A as $,D as ra,E as It,F as Ja,G as De,H as ia,I as na,J as pt,K as Tt,M as vi,N as Ee,O as ne,Q as Ut,R as hi,_ as R,T as Qa,U as J,V as pi,W as er,Z as se,X as ft,Y as Vt,$ as fi,a0 as gi,a1 as tr,a2 as Zt,a3 as Ot,a4 as di,a5 as K,a6 as yi,a7 as mi,a8 as xi,a9 as Si,aa as ar,ab as bi,ac as ut,ad as _i,ae as re,af as Ci,ag as rr,ah as ir,ai as Ai,aj as wi,ak as oa,al as sa,am as Mi,an as Li,ao as gt,ap as Di,aq as he,ar as Qe,as as Ii,at as la,au as ua,av as Ti,aw as nr,ax as Rt,ay as ca,az as Vi,aA as le,aB as ye,aC as Oi,aD as Ri,aE as ki,aF as zi,aG as va,aH as ha,aI as Xt,aJ as Le,aK as et,aL as dt,aM as Q,aN as Pi,aO as Bi,aP as or,aQ as Gi,aR as yt,aS as pa,aT as Ei,aU as sr,aV as ue,aW as Ni,aX as lr,aY as Hi,aZ as Fi,a_ as Wi,a$ as $i,b0 as kt,b1 as fa,b2 as Be,b3 as Ui,b4 as we,b5 as Zi,b6 as at,b7 as Xi,b8 as Yt,b9 as Yi,ba as Ki,bb as ur,bc as qi,bd as zt,be as ji,bf as Ji,bg as mt,bh as xt,bi as Qi,bj as en,bk as tn,bl as an,bm as rn,bn as ga,bo as nn,bp as cr,bq as vr,br as hr,bs as Xe}from"./SparkLine-Cm1xGZcB.js";const on={class:"chart-wrapper"},sn={class:"chart-content"},ln={__name:"MAUBubble",setup(i){aa.register(qr,jr,Jr,Qr,ei,ti);const a=q(null);let e=null;return Xa(()=>{const r=[{x:0,y:.22,rawValue:50},{x:1,y:.25,rawValue:56.8},{x:2,y:.27,rawValue:61.3},{x:3,y:.26,rawValue:59},{x:4,y:.29,rawValue:65.9},{x:5,y:.32,rawValue:72.7},{x:6,y:.28,rawValue:63.6}].map(n=>({x:n.x,y:n.y,r:n.rawValue/3,rawValue:n.rawValue}));e=new aa(a.value.getContext("2d"),{type:"bubble",data:{datasets:[{label:"MAU Ratio",data:r,backgroundColor:"rgba(123, 208, 141, 0.7)",borderColor:"rgba(123, 208, 141, 1)"}]},options:{responsive:!0,maintainAspectRatio:!1,layout:{padding:{top:10,bottom:20,left:5,right:5}},scales:{x:{type:"category",labels:["Ene","Feb","Mar","Abr","May","Jun","Jul"],ticks:{color:"#A9DBB5",font:{size:10},padding:5},grid:{color:"rgba(169, 219, 181, 0.1)"}},y:{beginAtZero:!0,min:0,max:.4,ticks:{callback:n=>"".concat((n*100).toFixed(0),"%"),color:"#A9DBB5",stepSize:.1,font:{size:10},padding:5},grid:{color:"rgba(169, 219, 181, 0.1)"}}},plugins:{legend:{display:!1},tooltip:{backgroundColor:"#002C1B",titleColor:"#A9DBB5",bodyColor:"#FFFFFF",borderColor:"#7BD08D",borderWidth:1,callbacks:{label:n=>{const o=(n.raw.y*100).toFixed(1),s=n.raw.rawValue*10;return"Ratio: ".concat(o,"% â€” Usuarios: ").concat(s)}}}}}})}),Ya(()=>{e&&e.destroy()}),(t,r)=>(We(),ot("div",on,[r[0]||(r[0]=I("div",{class:"chart-header"},[I("div",null,[I("h2",{class:"chart-title"},"MAU Ratio"),I("p",{class:"chart-subtitle"},"Engagement promedio de usuarios activos")]),I("div",{class:"chart-badge"},"-12.5%")],-1)),I("div",sn,[I("canvas",{ref_key:"chartRef",ref:a},null,512)])]))}},un=Fe(ln,[["__scopeId","data-v-f9d21a11"]]);var cn=function(){function i(a){this.coordSysDims=[],this.axisMap=Ge(),this.categoryAxisMap=Ge(),this.coordSysName=a}return i}();function vn(i){var a=i.get("coordinateSystem"),e=new cn(a),t=hn[a];if(t)return t(i,e,e.axisMap,e.categoryAxisMap),e}var hn={cartesian2d:function(i,a,e,t){var r=i.getReferringComponents("xAxis",de).models[0],n=i.getReferringComponents("yAxis",de).models[0];a.coordSysDims=["x","y"],e.set("x",r),e.set("y",n),be(r)&&(t.set("x",r),a.firstCategoryDimIndex=0),be(n)&&(t.set("y",n),a.firstCategoryDimIndex==null&&(a.firstCategoryDimIndex=1))},singleAxis:function(i,a,e,t){var r=i.getReferringComponents("singleAxis",de).models[0];a.coordSysDims=["single"],e.set("single",r),be(r)&&(t.set("single",r),a.firstCategoryDimIndex=0)},polar:function(i,a,e,t){var r=i.getReferringComponents("polar",de).models[0],n=r.findAxisModel("radiusAxis"),o=r.findAxisModel("angleAxis");a.coordSysDims=["radius","angle"],e.set("radius",n),e.set("angle",o),be(n)&&(t.set("radius",n),a.firstCategoryDimIndex=0),be(o)&&(t.set("angle",o),a.firstCategoryDimIndex==null&&(a.firstCategoryDimIndex=1))},geo:function(i,a,e,t){a.coordSysDims=["lng","lat"]},parallel:function(i,a,e,t){var r=i.ecModel,n=r.getComponent("parallel",i.get("parallelIndex")),o=a.coordSysDims=n.dimensions.slice();C(n.parallelAxisIndex,function(s,l){var u=r.getComponent("parallelAxis",s),c=o[l];e.set(c,u),be(u)&&(t.set(c,u),a.firstCategoryDimIndex==null&&(a.firstCategoryDimIndex=l))})}};function be(i){return i.get("type")==="category"}function pn(i,a){var e=i.get("coordinateSystem"),t=qa.get(e),r;return a&&a.coordSysDims&&(r=Z(a.coordSysDims,function(n){var o={name:n},s=a.axisMap.get(n);if(s){var l=s.get("type");o.type=oi(l)}return o})),r||(r=t&&(t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice())||["x","y"]),r}function fn(i,a,e){var t,r;return e&&C(i,function(n,o){var s=n.coordDim,l=e.categoryAxisMap.get(s);l&&(t==null&&(t=o),n.ordinalMeta=l.getOrdinalMeta(),a&&(n.createInvertedIndices=!0)),n.otherDims.itemName!=null&&(r=!0)}),!r&&t!=null&&(i[t].otherDims.itemName=0),t}function gn(i,a,e){e=e||{};var t=a.getSourceManager(),r,n=!1;r=t.getSource(),n=r.sourceFormat===Ka;var o=vn(a),s=pn(a,o),l=e.useEncodeDefaulter,u=Me(l)?l:l?oe(ai,s,a):null,c={coordDimensions:s,generateCoord:e.generateCoord,encodeDefine:a.getEncode(),encodeDefaulter:u,canOmitUnusedDimensions:!n},v=ri(r,c),f=fn(v.dimensions,e.createInvertedIndices,o),p=n?null:t.getSharedDataStore(v),h=ii(a,{schema:v,store:p}),g=new ni(v,a);g.setCalculationInfo(h);var d=f!=null&&dn(r)?function(y,x,m,b){return b===f?m:this.defaultDimValueGetter(y,x,m,b)}:null;return g.hasItemOption=!1,g.initData(n?r:p,null,d),g}function dn(i){if(i.sourceFormat===Ka){var a=yn(i.data||[]);return!H(si(a))}}function yn(i){for(var a=0;a<i.length&&i[a]==null;)a++;return i[a]}var mn=function(){function i(){}return i.prototype.getNeedCrossZero=function(){var a=this.option;return!a.scale},i.prototype.getCoordSysModel=function(){},i}(),Ne=lt();function pr(i,a){var e=Z(a,function(t){return i.scale.parse(t)});return i.type==="time"&&e.length>0&&(e.sort(),e.unshift(e[0]),e.push(e[e.length-1])),e}function xn(i){var a=i.getLabelModel().get("customValues");if(a){var e=$e(i),t=i.scale.getExtent(),r=pr(i,a),n=st(r,function(o){return o>=t[0]&&o<=t[1]});return{labels:Z(n,function(o){var s={value:o};return{formattedLabel:e(s),rawLabel:i.scale.getLabel(s),tickValue:o}})}}return i.type==="category"?bn(i):Cn(i)}function Sn(i,a){var e=i.getTickModel().get("customValues");if(e){var t=i.scale.getExtent(),r=pr(i,e);return{ticks:st(r,function(n){return n>=t[0]&&n<=t[1]})}}return i.type==="category"?_n(i,a):{ticks:Z(i.scale.getTicks(),function(n){return n.value})}}function bn(i){var a=i.getLabelModel(),e=fr(i,a);return!a.get("show")||i.scale.isBlank()?{labels:[],labelCategoryInterval:e.labelCategoryInterval}:e}function fr(i,a){var e=gr(i,"labels"),t=ja(a),r=dr(e,t);if(r)return r;var n,o;return Me(t)?n=xr(i,t):(o=t==="auto"?An(i):t,n=mr(i,o)),yr(e,t,{labels:n,labelCategoryInterval:o})}function _n(i,a){var e=gr(i,"ticks"),t=ja(a),r=dr(e,t);if(r)return r;var n,o;if((!a.get("show")||i.scale.isBlank())&&(n=[]),Me(t))n=xr(i,t,!0);else if(t==="auto"){var s=fr(i,i.getLabelModel());o=s.labelCategoryInterval,n=Z(s.labels,function(l){return l.tickValue})}else o=t,n=mr(i,o,!0);return yr(e,t,{ticks:n,tickCategoryInterval:o})}function Cn(i){var a=i.scale.getTicks(),e=$e(i);return{labels:Z(a,function(t,r){return{level:t.level,formattedLabel:e(t,r),rawLabel:i.scale.getLabel(t),tickValue:t.value}})}}function gr(i,a){return Ne(i)[a]||(Ne(i)[a]=[])}function dr(i,a){for(var e=0;e<i.length;e++)if(i[e].key===a)return i[e].value}function yr(i,a,e){return i.push({key:a,value:e}),e}function An(i){var a=Ne(i).autoInterval;return a!=null?a:Ne(i).autoInterval=i.calculateCategoryInterval()}function wn(i){var a=Mn(i),e=$e(i),t=(a.axisRotate-a.labelRotate)/180*Math.PI,r=i.scale,n=r.getExtent(),o=r.count();if(n[1]-n[0]<1)return 0;var s=1;o>40&&(s=Math.max(1,Math.floor(o/40)));for(var l=n[0],u=i.dataToCoord(l+1)-i.dataToCoord(l),c=Math.abs(u*Math.cos(t)),v=Math.abs(u*Math.sin(t)),f=0,p=0;l<=n[1];l+=s){var h=0,g=0,d=li(e({value:l}),a.font,"center","top");h=d.width*1.3,g=d.height*1.3,f=Math.max(f,h,7),p=Math.max(p,g,7)}var y=f/c,x=p/v;isNaN(y)&&(y=1/0),isNaN(x)&&(x=1/0);var m=Math.max(0,Math.floor(Math.min(y,x))),b=Ne(i.model),S=i.getExtent(),_=b.lastAutoInterval,w=b.lastTickCount;return _!=null&&w!=null&&Math.abs(_-m)<=1&&Math.abs(w-o)<=1&&_>m&&b.axisExtent0===S[0]&&b.axisExtent1===S[1]?m=_:(b.lastTickCount=o,b.lastAutoInterval=m,b.axisExtent0=S[0],b.axisExtent1=S[1]),m}function Mn(i){var a=i.getLabelModel();return{axisRotate:i.getRotate?i.getRotate():i.isHorizontal&&!i.isHorizontal()?90:0,labelRotate:a.get("rotate")||0,font:a.getFont()}}function mr(i,a,e){var t=$e(i),r=i.scale,n=r.getExtent(),o=i.getLabelModel(),s=[],l=Math.max((a||0)+1,1),u=n[0],c=r.count();u!==0&&l>1&&c/l>2&&(u=Math.round(Math.ceil(u/l)*l));var v=ui(i),f=o.get("showMinLabel")||v,p=o.get("showMaxLabel")||v;f&&u!==n[0]&&g(n[0]);for(var h=u;h<=n[1];h+=l)g(h);p&&h-l!==n[1]&&g(n[1]);function g(d){var y={value:d};s.push(e?d:{formattedLabel:t(y),rawLabel:r.getLabel(y),tickValue:d})}return s}function xr(i,a,e){var t=i.scale,r=$e(i),n=[];return C(t.getTicks(),function(o){var s=t.getLabel(o),l=o.value;a(o.value,s)&&n.push(e?l:{formattedLabel:r(o),rawLabel:s,tickValue:l})}),n}var da=[0,1],Ln=function(){function i(a,e,t){this.onBand=!1,this.inverse=!1,this.dim=a,this.scale=e,this._extent=t||[0,0]}return i.prototype.contain=function(a){var e=this._extent,t=Math.min(e[0],e[1]),r=Math.max(e[0],e[1]);return a>=t&&a<=r},i.prototype.containData=function(a){return this.scale.contain(a)},i.prototype.getExtent=function(){return this._extent.slice()},i.prototype.getPixelPrecision=function(a){return ci(a||this.scale.getExtent(),this._extent)},i.prototype.setExtent=function(a,e){var t=this._extent;t[0]=a,t[1]=e},i.prototype.dataToCoord=function(a,e){var t=this._extent,r=this.scale;return a=r.normalize(a),this.onBand&&r.type==="ordinal"&&(t=t.slice(),ya(t,r.count())),ie(a,da,t,e)},i.prototype.coordToData=function(a,e){var t=this._extent,r=this.scale;this.onBand&&r.type==="ordinal"&&(t=t.slice(),ya(t,r.count()));var n=ie(a,t,da,e);return this.scale.scale(n)},i.prototype.pointToData=function(a,e){},i.prototype.getTicksCoords=function(a){a=a||{};var e=a.tickModel||this.getTickModel(),t=Sn(this,e),r=t.ticks,n=Z(r,function(s){return{coord:this.dataToCoord(this.scale.type==="ordinal"?this.scale.getRawOrdinalNumber(s):s),tickValue:s}},this),o=e.get("alignWithLabel");return Dn(this,n,o,a.clamp),n},i.prototype.getMinorTicksCoords=function(){if(this.scale.type==="ordinal")return[];var a=this.model.getModel("minorTick"),e=a.get("splitNumber");e>0&&e<100||(e=5);var t=this.scale.getMinorTicks(e),r=Z(t,function(n){return Z(n,function(o){return{coord:this.dataToCoord(o),tickValue:o}},this)},this);return r},i.prototype.getViewLabels=function(){return xn(this).labels},i.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},i.prototype.getTickModel=function(){return this.model.getModel("axisTick")},i.prototype.getBandWidth=function(){var a=this._extent,e=this.scale.getExtent(),t=e[1]-e[0]+(this.onBand?1:0);t===0&&(t=1);var r=Math.abs(a[1]-a[0]);return Math.abs(r)/t},i.prototype.calculateCategoryInterval=function(){return wn(this)},i}();function ya(i,a){var e=i[1]-i[0],t=a,r=e/t/2;i[0]+=r,i[1]-=r}function Dn(i,a,e,t){var r=a.length;if(!i.onBand||e||!r)return;var n=i.getExtent(),o,s;if(r===1)a[0].coord=n[0],o=a[1]={coord:n[1],tickValue:a[0].tickValue};else{var l=a[r-1].tickValue-a[0].tickValue,u=(a[r-1].coord-a[0].coord)/l;C(a,function(p){p.coord-=u/2});var c=i.scale.getExtent();s=1+c[1]-a[r-1].tickValue,o={coord:a[r-1].coord+u*s,tickValue:c[1]+1},a.push(o)}var v=n[0]>n[1];f(a[0].coord,n[0])&&(t?a[0].coord=n[0]:a.shift()),t&&f(n[0],a[0].coord)&&a.unshift({coord:n[0]}),f(n[1],o.coord)&&(t?o.coord=n[1]:a.pop()),t&&f(o.coord,n[1])&&a.push({coord:n[1]});function f(p,h){return p=Pe(p),h=Pe(h),v?p>h:p<h}}function Sr(i,a,e,t,r,n,o,s){var l=r-i,u=n-a,c=e-i,v=t-a,f=Math.sqrt(c*c+v*v);c/=f,v/=f;var p=l*c+u*v,h=p/f;h*=f;var g=o[0]=i+h*c,d=o[1]=a+h*v;return Math.sqrt((g-r)*(g-r)+(d-n)*(d-n))}var ce=new $,z=new $,W=new $,ve=new $,ae=new $,rt=[],Y=new $;function In(i,a){if(a<=180&&a>0){a=a/180*Math.PI,ce.fromArray(i[0]),z.fromArray(i[1]),W.fromArray(i[2]),$.sub(ve,ce,z),$.sub(ae,W,z);var e=ve.len(),t=ae.len();if(!(e<.001||t<.001)){ve.scale(1/e),ae.scale(1/t);var r=ve.dot(ae),n=Math.cos(a);if(n<r){var o=Sr(z.x,z.y,W.x,W.y,ce.x,ce.y,rt);Y.fromArray(rt),Y.scaleAndAdd(ae,o/Math.tan(Math.PI-a));var s=W.x!==z.x?(Y.x-z.x)/(W.x-z.x):(Y.y-z.y)/(W.y-z.y);if(isNaN(s))return;s<0?$.copy(Y,z):s>1&&$.copy(Y,W),Y.toArray(i[1])}}}}function Tn(i,a,e){if(e<=180&&e>0){e=e/180*Math.PI,ce.fromArray(i[0]),z.fromArray(i[1]),W.fromArray(i[2]),$.sub(ve,z,ce),$.sub(ae,W,z);var t=ve.len(),r=ae.len();if(!(t<.001||r<.001)){ve.scale(1/t),ae.scale(1/r);var n=ve.dot(a),o=Math.cos(e);if(n<o){var s=Sr(z.x,z.y,W.x,W.y,ce.x,ce.y,rt);Y.fromArray(rt);var l=Math.PI/2,u=Math.acos(ae.dot(a)),c=l+u-e;if(c>=l)$.copy(Y,W);else{Y.scaleAndAdd(ae,s/Math.tan(Math.PI/2-c));var v=W.x!==z.x?(Y.x-z.x)/(W.x-z.x):(Y.y-z.y)/(W.y-z.y);if(isNaN(v))return;v<0?$.copy(Y,z):v>1&&$.copy(Y,W)}Y.toArray(i[1])}}}}function St(i,a,e,t){var r=e==="normal",n=r?i:i.ensureState(e);n.ignore=a;var o=t.get("smooth");o&&o===!0&&(o=.3),n.shape=n.shape||{},o>0&&(n.shape.smooth=o);var s=t.getModel("lineStyle").getLineStyle();r?i.useStyle(s):n.style=s}function Vn(i,a){var e=a.smooth,t=a.points;if(t)if(i.moveTo(t[0][0],t[0][1]),e>0&&t.length>=3){var r=na(t[0],t[1]),n=na(t[1],t[2]);if(!r||!n){i.lineTo(t[1][0],t[1][1]),i.lineTo(t[2][0],t[2][1]);return}var o=Math.min(r,n)*e,s=pt([],t[1],t[0],o/r),l=pt([],t[1],t[2],o/n),u=pt([],s,l,.5);i.bezierCurveTo(s[0],s[1],s[0],s[1],u[0],u[1]),i.bezierCurveTo(l[0],l[1],l[0],l[1],t[2][0],t[2][1])}else for(var c=1;c<t.length;c++)i.lineTo(t[c][0],t[c][1])}function On(i,a,e){var t=i.getTextGuideLine(),r=i.getTextContent();if(!r){t&&i.removeTextGuideLine();return}for(var n=a.normal,o=n.get("show"),s=r.ignore,l=0;l<ra.length;l++){var u=ra[l],c=a[u],v=u==="normal";if(c){var f=c.get("show"),p=v?s:It(r.states[u]&&r.states[u].ignore,s);if(p||!It(f,o)){var h=v?t:t&&t.states[u];h&&(h.ignore=!0),t&&St(t,!0,u,c);continue}t||(t=new Ja,i.setTextGuideLine(t),!v&&(s||!o)&&St(t,!0,"normal",a.normal),i.stateProxy&&(t.stateProxy=i.stateProxy)),St(t,!1,u,c)}}if(t){De(t.style,e),t.style.fill=null;var g=n.get("showAbove"),d=i.textGuideLineConfig=i.textGuideLineConfig||{};d.showAbove=g||!1,t.buildPath=Vn}}function Rn(i,a){a=a||"labelLine";for(var e={normal:i.getModel(a)},t=0;t<ia.length;t++){var r=ia[t];e[r]=i.getModel([r,a])}return e}function kn(i,a){return i.type===a}function Ye(i,a,e){var t=i.get("borderRadius");if(t==null)return e?{cornerRadius:0}:null;H(t)||(t=[t,t,t,t]);var r=Math.abs(a.r||0-a.r0||0);return{cornerRadius:Z(t,function(n){return Tt(n,r)})}}var ma=Math.PI*2,Ke=Math.PI/180;function br(i,a){return Ee(i.getBoxLayoutParams(),{width:a.getWidth(),height:a.getHeight()})}function _r(i,a){var e=br(i,a),t=i.get("center"),r=i.get("radius");H(r)||(r=[0,r]);var n=ne(e.width,a.getWidth()),o=ne(e.height,a.getHeight()),s=Math.min(n,o),l=ne(r[0],s/2),u=ne(r[1],s/2),c,v,f=i.coordinateSystem;if(f){var p=f.dataToPoint(t);c=p[0]||0,v=p[1]||0}else H(t)||(t=[t,t]),c=ne(t[0],n)+e.x,v=ne(t[1],o)+e.y;return{cx:c,cy:v,r0:l,r:u}}function zn(i,a,e){a.eachSeriesByType(i,function(t){var r=t.getData(),n=r.mapDimension("value"),o=br(t,e),s=_r(t,e),l=s.cx,u=s.cy,c=s.r,v=s.r0,f=-t.get("startAngle")*Ke,p=t.get("endAngle"),h=t.get("padAngle")*Ke;p=p==="auto"?f-ma:-p*Ke;var g=t.get("minAngle")*Ke,d=g+h,y=0;r.each(n,function(G){!isNaN(G)&&y++});var x=r.getSum(n),m=Math.PI/(x||y)*2,b=t.get("clockwise"),S=t.get("roseType"),_=t.get("stillShowZeroSum"),w=r.getDataExtent(n);w[0]=0;var A=b?1:-1,L=[f,p],M=A*h/2;vi(L,!b),f=L[0],p=L[1];var T=Cr(t);T.startAngle=f,T.endAngle=p,T.clockwise=b;var D=Math.abs(p-f),k=D,U=0,O=f;if(r.setLayout({viewRect:o,r:c}),r.each(n,function(G,E){var V;if(isNaN(G)){r.setItemLayout(E,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:b,cx:l,cy:u,r0:v,r:S?NaN:c});return}S!=="area"?V=x===0&&_?m:G*m:V=D/y,V<d?(V=d,k-=d):U+=G;var P=O+A*V,N=0,B=0;h>V?(N=O+A*V/2,B=N):(N=O+M,B=P-M),r.setItemLayout(E,{angle:V,startAngle:N,endAngle:B,clockwise:b,cx:l,cy:u,r0:v,r:S?ie(G,w,[v,c]):c}),O=P}),k<ma&&y)if(k<=.001){var j=D/y;r.each(n,function(G,E){if(!isNaN(G)){var V=r.getItemLayout(E);V.angle=j;var P=0,N=0;j<h?(P=f+A*(E+1/2)*j,N=P):(P=f+A*E*j+M,N=f+A*(E+1)*j-M),V.startAngle=P,V.endAngle=N}})}else m=k/U,O=f,r.each(n,function(G,E){if(!isNaN(G)){var V=r.getItemLayout(E),P=V.angle===d?d:G*m,N=0,B=0;P<h?(N=O+A*P/2,B=N):(N=O+M,B=O+A*P-M),V.startAngle=N,V.endAngle=B,O+=A*P}})})}var Cr=lt();function Pn(i){return{seriesType:i,reset:function(a,e){var t=e.findComponents({mainType:"legend"});if(!(!t||!t.length)){var r=a.getData();r.filterSelf(function(n){for(var o=r.getName(n),s=0;s<t.length;s++)if(!t[s].isSelected(o))return!1;return!0})}}}}var Bn=Math.PI/180;function xa(i,a,e,t,r,n,o,s,l,u){if(i.length<2)return;function c(g){for(var d=g.rB,y=d*d,x=0;x<g.list.length;x++){var m=g.list[x],b=Math.abs(m.label.y-e),S=t+m.len,_=S*S,w=Math.sqrt(Math.abs((1-b*b/y)*_)),A=a+(w+m.len2)*r,L=A-m.label.x,M=m.targetTextWidth-L*r;Ar(m,M,!0),m.label.x=A}}function v(g){for(var d={list:[],maxY:0},y={list:[],maxY:0},x=0;x<g.length;x++)if(g[x].labelAlignTo==="none"){var m=g[x],b=m.label.y>e?y:d,S=Math.abs(m.label.y-e);if(S>=b.maxY){var _=m.label.x-a-m.len2*r,w=t+m.len,A=Math.abs(_)<w?Math.sqrt(S*S/(1-_*_/w/w)):w;b.rB=A,b.maxY=S}b.list.push(m)}c(d),c(y)}for(var f=i.length,p=0;p<f;p++)if(i[p].position==="outer"&&i[p].labelAlignTo==="labelLine"){var h=i[p].label.x-u;i[p].linePoints[1][0]+=h,i[p].label.x=u}hi(i,l,l+o)&&v(i)}function Gn(i,a,e,t,r,n,o,s){for(var l=[],u=[],c=Number.MAX_VALUE,v=-Number.MAX_VALUE,f=0;f<i.length;f++){var p=i[f].label;bt(i[f])||(p.x<a?(c=Math.min(c,p.x),l.push(i[f])):(v=Math.max(v,p.x),u.push(i[f])))}for(var f=0;f<i.length;f++){var h=i[f];if(!bt(h)&&h.linePoints){if(h.labelStyleWidth!=null)continue;var p=h.label,g=h.linePoints,d=void 0;h.labelAlignTo==="edge"?p.x<a?d=g[2][0]-h.labelDistance-o-h.edgeDistance:d=o+r-h.edgeDistance-g[2][0]-h.labelDistance:h.labelAlignTo==="labelLine"?p.x<a?d=c-o-h.bleedMargin:d=o+r-v-h.bleedMargin:p.x<a?d=p.x-o-h.bleedMargin:d=o+r-p.x-h.bleedMargin,h.targetTextWidth=d,Ar(h,d)}}xa(u,a,e,t,1,r,n,o,s,v),xa(l,a,e,t,-1,r,n,o,s,c);for(var f=0;f<i.length;f++){var h=i[f];if(!bt(h)&&h.linePoints){var p=h.label,g=h.linePoints,y=h.labelAlignTo==="edge",x=p.style.padding,m=x?x[1]+x[3]:0,b=p.style.backgroundColor?0:m,S=h.rect.width+b,_=g[1][0]-g[2][0];y?p.x<a?g[2][0]=o+h.edgeDistance+S+h.labelDistance:g[2][0]=o+r-h.edgeDistance-S-h.labelDistance:(p.x<a?g[2][0]=p.x+h.labelDistance:g[2][0]=p.x-h.labelDistance,g[1][0]=g[2][0]+_),g[1][1]=g[2][1]=p.y}}}function Ar(i,a,e){if(e===void 0&&(e=!1),i.labelStyleWidth==null){var t=i.label,r=t.style,n=i.rect,o=r.backgroundColor,s=r.padding,l=s?s[1]+s[3]:0,u=r.overflow,c=n.width+(o?0:l);if(a<c||e){var v=n.height;if(u&&u.match("break")){t.setStyle("backgroundColor",null),t.setStyle("width",a-l);var f=t.getBoundingRect();t.setStyle("width",Math.ceil(f.width)),t.setStyle("backgroundColor",o)}else{var p=a-l,h=a<c?p:e?p>i.unconstrainedWidth?null:p:null;t.setStyle("width",h)}var g=t.getBoundingRect();n.width=g.width;var d=(t.style.margin||0)+2.1;n.height=g.height+d,n.y-=(n.height-v)/2}}}function bt(i){return i.position==="center"}function En(i){var a=i.getData(),e=[],t,r,n=!1,o=(i.get("minShowLabelAngle")||0)*Bn,s=a.getLayout("viewRect"),l=a.getLayout("r"),u=s.width,c=s.x,v=s.y,f=s.height;function p(_){_.ignore=!0}function h(_){if(!_.ignore)return!0;for(var w in _.states)if(_.states[w].ignore===!1)return!0;return!1}a.each(function(_){var w=a.getItemGraphicEl(_),A=w.shape,L=w.getTextContent(),M=w.getTextGuideLine(),T=a.getItemModel(_),D=T.getModel("label"),k=D.get("position")||T.get(["emphasis","label","position"]),U=D.get("distanceToLabelLine"),O=D.get("alignTo"),j=ne(D.get("edgeDistance"),u),G=D.get("bleedMargin"),E=T.getModel("labelLine"),V=E.get("length");V=ne(V,u);var P=E.get("length2");if(P=ne(P,u),Math.abs(A.endAngle-A.startAngle)<o){C(L.states,p),L.ignore=!0,M&&(C(M.states,p),M.ignore=!0);return}if(h(L)){var N=(A.startAngle+A.endAngle)/2,B=Math.cos(N),pe=Math.sin(N),Ie,Ue,qt,Ze;t=A.cx,r=A.cy;var me=k==="inside"||k==="inner";if(k==="center")Ie=A.cx,Ue=A.cy,Ze="center";else{var ct=(me?(A.r+A.r0)/2*B:A.r*B)+t,vt=(me?(A.r+A.r0)/2*pe:A.r*pe)+r;if(Ie=ct+B*3,Ue=vt+pe*3,!me){var jt=ct+B*(V+l-A.r),Jt=vt+pe*(V+l-A.r),Qt=jt+(B<0?-1:1)*P,ea=Jt;O==="edge"?Ie=B<0?c+j:c+u-j:Ie=Qt+(B<0?-U:U),Ue=ea,qt=[[ct,vt],[jt,Jt],[Qt,ea]]}Ze=me?"center":O==="edge"?B>0?"right":"left":B>0?"left":"right"}var Te=Math.PI,xe=0,Ve=D.get("rotate");if(Ut(Ve))xe=Ve*(Te/180);else if(k==="center")xe=0;else if(Ve==="radial"||Ve===!0){var Br=B<0?-N+Te:-N;xe=Br}else if(Ve==="tangential"&&k!=="outside"&&k!=="outer"){var Se=Math.atan2(B,pe);Se<0&&(Se=Te*2+Se);var Gr=pe>0;Gr&&(Se=Te+Se),xe=Se-Te}if(n=!!xe,L.x=Ie,L.y=Ue,L.rotation=xe,L.setStyle({verticalAlign:"middle"}),me){L.setStyle({align:Ze});var ht=L.states.select;ht&&(ht.x+=L.x,ht.y+=L.y)}else{var Oe=L.getBoundingRect().clone();Oe.applyTransform(L.getComputedTransform());var ta=(L.style.margin||0)+2.1;Oe.y-=ta/2,Oe.height+=ta,e.push({label:L,labelLine:M,position:k,len:V,len2:P,minTurnAngle:E.get("minTurnAngle"),maxSurfaceAngle:E.get("maxSurfaceAngle"),surfaceNormal:new $(B,pe),linePoints:qt,textAlign:Ze,labelDistance:U,labelAlignTo:O,edgeDistance:j,bleedMargin:G,rect:Oe,unconstrainedWidth:Oe.width,labelStyleWidth:L.style.width})}w.setTextConfig({inside:me})}}),!n&&i.get("avoidLabelOverlap")&&Gn(e,t,r,l,u,f,c,v);for(var g=0;g<e.length;g++){var d=e[g],y=d.label,x=d.labelLine,m=isNaN(y.x)||isNaN(y.y);if(y){y.setStyle({align:d.textAlign}),m&&(C(y.states,p),y.ignore=!0);var b=y.states.select;b&&(b.x+=y.x,b.y+=y.y)}if(x){var S=d.linePoints;m||!S?(C(x.states,p),x.ignore=!0):(In(S,d.minTurnAngle),Tn(S,d.surfaceNormal,d.maxSurfaceAngle),x.setShape({points:S}),y.__hostTarget.textGuideLineConfig={anchor:new $(S[0][0],S[0][1])})}}}var Nn=function(i){R(a,i);function a(e,t,r){var n=i.call(this)||this;n.z2=2;var o=new se;return n.setTextContent(o),n.updateData(e,t,r,!0),n}return a.prototype.updateData=function(e,t,r,n){var o=this,s=e.hostModel,l=e.getItemModel(t),u=l.getModel("emphasis"),c=e.getItemLayout(t),v=J(Ye(l.getModel("itemStyle"),c,!0),c);if(isNaN(v.startAngle)){o.setShape(v);return}if(n){o.setShape(v);var f=s.getShallow("animationType");s.ecModel.ssr?(ft(o,{scaleX:0,scaleY:0},s,{dataIndex:t,isFrom:!0}),o.originX=v.cx,o.originY=v.cy):f==="scale"?(o.shape.r=c.r0,ft(o,{shape:{r:c.r}},s,t)):r!=null?(o.setShape({startAngle:r,endAngle:r}),ft(o,{shape:{startAngle:c.startAngle,endAngle:c.endAngle}},s,t)):(o.shape.endAngle=c.startAngle,Vt(o,{shape:{endAngle:c.endAngle}},s,t))}else fi(o),Vt(o,{shape:v},s,t);o.useStyle(e.getItemVisual(t,"style")),gi(o,l);var p=(c.startAngle+c.endAngle)/2,h=s.get("selectedOffset"),g=Math.cos(p)*h,d=Math.sin(p)*h,y=l.getShallow("cursor");y&&o.attr("cursor",y),this._updateLabel(s,e,t),o.ensureState("emphasis").shape=J({r:c.r+(u.get("scale")&&u.get("scaleSize")||0)},Ye(u.getModel("itemStyle"),c)),J(o.ensureState("select"),{x:g,y:d,shape:Ye(l.getModel(["select","itemStyle"]),c)}),J(o.ensureState("blur"),{shape:Ye(l.getModel(["blur","itemStyle"]),c)});var x=o.getTextGuideLine(),m=o.getTextContent();x&&J(x.ensureState("select"),{x:g,y:d}),J(m.ensureState("select"),{x:g,y:d}),tr(this,u.get("focus"),u.get("blurScope"),u.get("disabled"))},a.prototype._updateLabel=function(e,t,r){var n=this,o=t.getItemModel(r),s=o.getModel("labelLine"),l=t.getItemVisual(r,"style"),u=l&&l.fill,c=l&&l.opacity;Zt(n,Ot(o),{labelFetcher:t.hostModel,labelDataIndex:r,inheritColor:u,defaultOpacity:c,defaultText:e.getFormattedLabel(r,"normal")||t.getName(r)});var v=n.getTextContent();n.setTextConfig({position:null,rotation:null}),v.attr({z2:10});var f=e.get(["label","position"]);if(f!=="outside"&&f!=="outer")n.removeTextGuideLine();else{var p=this.getTextGuideLine();p||(p=new Ja,this.setTextGuideLine(p)),On(this,Rn(o),{stroke:u,opacity:di(s.get(["lineStyle","opacity"]),c,1)})}},a}(Qa),Hn=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.ignoreLabelLineUpdate=!0,e}return a.prototype.render=function(e,t,r,n){var o=e.getData(),s=this._data,l=this.group,u;if(!s&&o.count()>0){for(var c=o.getItemLayout(0),v=1;isNaN(c&&c.startAngle)&&v<o.count();++v)c=o.getItemLayout(v);c&&(u=c.startAngle)}if(this._emptyCircleSector&&l.remove(this._emptyCircleSector),o.count()===0&&e.get("showEmptyCircle")){var f=Cr(e),p=new Qa({shape:J(_r(e,r),f)});p.useStyle(e.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=p,l.add(p)}o.diff(s).add(function(h){var g=new Nn(o,h,u);o.setItemGraphicEl(h,g),l.add(g)}).update(function(h,g){var d=s.getItemGraphicEl(g);d.updateData(o,h,u),d.off("click"),l.add(d),o.setItemGraphicEl(h,d)}).remove(function(h){var g=s.getItemGraphicEl(h);pi(g,e,h)}).execute(),En(e),e.get("animationTypeUpdate")!=="expansion"&&(this._data=o)},a.prototype.dispose=function(){},a.prototype.containPoint=function(e,t){var r=t.getData(),n=r.getItemLayout(0);if(n){var o=e[0]-n.cx,s=e[1]-n.cy,l=Math.sqrt(o*o+s*s);return l<=n.r&&l>=n.r0}},a.type="pie",a}(er),Fn=function(){function i(a,e){this._getDataWithEncodedVisual=a,this._getRawData=e}return i.prototype.getAllNames=function(){var a=this._getRawData();return a.mapArray(a.getName)},i.prototype.containName=function(a){var e=this._getRawData();return e.indexOfName(a)>=0},i.prototype.indexOfName=function(a){var e=this._getDataWithEncodedVisual();return e.indexOfName(a)},i.prototype.getItemVisual=function(a,e){var t=this._getDataWithEncodedVisual();return t.getItemVisual(a,e)},i}(),Wn=lt(),$n=function(i){R(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.init=function(e){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new Fn(K(this.getData,this),K(this.getRawData,this)),this._defaultLabelLine(e)},a.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},a.prototype.getInitialData=function(){return yi(this,{coordDimensions:["value"],encodeDefaulter:oe(mi,this)})},a.prototype.getDataParams=function(e){var t=this.getData(),r=Wn(t),n=r.seats;if(!n){var o=[];t.each(t.mapDimension("value"),function(l){o.push(l)}),n=r.seats=xi(o,t.hostModel.get("percentPrecision"))}var s=i.prototype.getDataParams.call(this,e);return s.percent=n[e]||0,s.$vars.push("percent"),s},a.prototype._defaultLabelLine=function(e){Si(e,"labelLine",["show"]);var t=e.labelLine,r=e.emphasis.labelLine;t.show=t.show&&e.label.show,r.show=r.show&&e.emphasis.label.show},a.type="series.pie",a.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},a}(ar);function Un(i){return{seriesType:i,reset:function(a,e){var t=a.getData();t.filterSelf(function(r){var n=t.mapDimension("value"),o=t.get(n,r);return!(Ut(o)&&!isNaN(o)&&o<0)})}}}function Zn(i){i.registerChartView(Hn),i.registerSeriesModel($n),bi("pie",i.registerAction),i.registerLayout(oe(zn,"pie")),i.registerProcessor(Pn("pie")),i.registerProcessor(Un("pie"))}var Xn=function(i){R(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.type="grid",a.dependencies=["xAxis","yAxis"],a.layoutMode="box",a.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},a}(ut),Pt=function(i){R(a,i);function a(){return i!==null&&i.apply(this,arguments)||this}return a.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",de).models[0]},a.type="cartesian2dAxis",a}(ut);_i(Pt,mn);var wr={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,showMinLine:!0,showMaxLine:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},Yn=re({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},wr),Kt=re({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},wr),Kn=re({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},Kt),qn=De({logBase:10},Kt);const jn={category:Yn,value:Kt,time:Kn,log:qn};var Jn={value:1,category:1,time:1,log:1};function Sa(i,a,e,t){C(Jn,function(r,n){var o=re(re({},jn[n],!0),t,!0),s=function(l){R(u,l);function u(){var c=l!==null&&l.apply(this,arguments)||this;return c.type=a+"Axis."+n,c}return u.prototype.mergeDefaultAndTheme=function(c,v){var f=Ci(this),p=f?rr(c):{},h=v.getTheme();re(c,h.get(n+"Axis")),re(c,this.getDefaultOption()),c.type=ba(c),f&&ir(c,p,f)},u.prototype.optionUpdated=function(){var c=this.option;c.type==="category"&&(this.__ordinalMeta=Ai.createByAxisModel(this))},u.prototype.getCategories=function(c){var v=this.option;if(v.type==="category")return c?v.data:this.__ordinalMeta.categories},u.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},u.type=a+"Axis."+n,u.defaultOption=o,u}(e);i.registerComponentModel(s)}),i.registerSubTypeDefaulter(a+"Axis",ba)}function ba(i){return i.type||(i.data?"category":"value")}var Qn=function(){function i(a){this.type="cartesian",this._dimList=[],this._axes={},this.name=a||""}return i.prototype.getAxis=function(a){return this._axes[a]},i.prototype.getAxes=function(){return Z(this._dimList,function(a){return this._axes[a]},this)},i.prototype.getAxesByScale=function(a){return a=a.toLowerCase(),st(this.getAxes(),function(e){return e.scale.type===a})},i.prototype.addAxis=function(a){var e=a.dim;this._axes[e]=a,this._dimList.push(e)},i}(),Bt=["x","y"];function _a(i){return i.type==="interval"||i.type==="time"}var eo=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=Bt,e}return a.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var e=this.getAxis("x").scale,t=this.getAxis("y").scale;if(!(!_a(e)||!_a(t))){var r=e.getExtent(),n=t.getExtent(),o=this.dataToPoint([r[0],n[0]]),s=this.dataToPoint([r[1],n[1]]),l=r[1]-r[0],u=n[1]-n[0];if(!(!l||!u)){var c=(s[0]-o[0])/l,v=(s[1]-o[1])/u,f=o[0]-r[0]*c,p=o[1]-n[0]*v,h=this._transform=[c,0,0,v,f,p];this._invTransform=wi([],h)}}},a.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},a.prototype.containPoint=function(e){var t=this.getAxis("x"),r=this.getAxis("y");return t.contain(t.toLocalCoord(e[0]))&&r.contain(r.toLocalCoord(e[1]))},a.prototype.containData=function(e){return this.getAxis("x").containData(e[0])&&this.getAxis("y").containData(e[1])},a.prototype.containZone=function(e,t){var r=this.dataToPoint(e),n=this.dataToPoint(t),o=this.getArea(),s=new oa(r[0],r[1],n[0]-r[0],n[1]-r[1]);return o.intersect(s)},a.prototype.dataToPoint=function(e,t,r){r=r||[];var n=e[0],o=e[1];if(this._transform&&n!=null&&isFinite(n)&&o!=null&&isFinite(o))return sa(r,e,this._transform);var s=this.getAxis("x"),l=this.getAxis("y");return r[0]=s.toGlobalCoord(s.dataToCoord(n,t)),r[1]=l.toGlobalCoord(l.dataToCoord(o,t)),r},a.prototype.clampData=function(e,t){var r=this.getAxis("x").scale,n=this.getAxis("y").scale,o=r.getExtent(),s=n.getExtent(),l=r.parse(e[0]),u=n.parse(e[1]);return t=t||[],t[0]=Math.min(Math.max(Math.min(o[0],o[1]),l),Math.max(o[0],o[1])),t[1]=Math.min(Math.max(Math.min(s[0],s[1]),u),Math.max(s[0],s[1])),t},a.prototype.pointToData=function(e,t){var r=[];if(this._invTransform)return sa(r,e,this._invTransform);var n=this.getAxis("x"),o=this.getAxis("y");return r[0]=n.coordToData(n.toLocalCoord(e[0]),t),r[1]=o.coordToData(o.toLocalCoord(e[1]),t),r},a.prototype.getOtherAxis=function(e){return this.getAxis(e.dim==="x"?"y":"x")},a.prototype.getArea=function(e){e=e||0;var t=this.getAxis("x").getGlobalExtent(),r=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1])-e,o=Math.min(r[0],r[1])-e,s=Math.max(t[0],t[1])-n+e,l=Math.max(r[0],r[1])-o+e;return new oa(n,o,s,l)},a}(Qn),to=function(i){R(a,i);function a(e,t,r,n,o){var s=i.call(this,e,t,r)||this;return s.index=0,s.type=n||"value",s.position=o||"bottom",s}return a.prototype.isHorizontal=function(){var e=this.position;return e==="top"||e==="bottom"},a.prototype.getGlobalExtent=function(e){var t=this.getExtent();return t[0]=this.toGlobalCoord(t[0]),t[1]=this.toGlobalCoord(t[1]),e&&t[0]>t[1]&&t.reverse(),t},a.prototype.pointToData=function(e,t){return this.coordToData(this.toLocalCoord(e[this.dim==="x"?0:1]),t)},a.prototype.setCategorySortInfo=function(e){if(this.type!=="category")return!1;this.model.option.categorySortInfo=e,this.scale.setSortInfo(e)},a}(Ln),_t=Math.log;function ao(i,a,e){var t=Mi.prototype,r=t.getTicks.call(e),n=t.getTicks.call(e,!0),o=r.length-1,s=t.getInterval.call(e),l=Li(i,a),u=l.extent,c=l.fixMin,v=l.fixMax;if(i.type==="log"){var f=_t(i.base);u=[_t(u[0])/f,_t(u[1])/f]}i.setExtent(u[0],u[1]),i.calcNiceExtent({splitNumber:o,fixMin:c,fixMax:v});var p=t.getExtent.call(i);c&&(u[0]=p[0]),v&&(u[1]=p[1]);var h=t.getInterval.call(i),g=u[0],d=u[1];if(c&&v)h=(d-g)/o;else if(c)for(d=u[0]+h*o;d<u[1]&&isFinite(d)&&isFinite(u[1]);)h=gt(h),d=u[0]+h*o;else if(v)for(g=u[1]-h*o;g>u[0]&&isFinite(g)&&isFinite(u[0]);)h=gt(h),g=u[1]-h*o;else{var y=i.getTicks().length-1;y>o&&(h=gt(h));var x=h*o;d=Math.ceil(u[1]/h)*h,g=Pe(d-x),g<0&&u[0]>=0?(g=0,d=Pe(x)):d>0&&u[1]<=0&&(d=0,g=-Pe(x))}var m=(r[0].value-n[0].value)/s,b=(r[o].value-n[o].value)/s;t.setExtent.call(i,g+h*m,d+h*b),t.setInterval.call(i,h),(m||b)&&t.setNiceExtent.call(i,g+h,d-h)}var ro=function(){function i(a,e,t){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=Bt,this._initCartesian(a,e,t),this.model=a}return i.prototype.getRect=function(){return this._rect},i.prototype.update=function(a,e){var t=this._axesMap;this._updateScale(a,this.model);function r(o){var s,l=nr(o),u=l.length;if(u){for(var c=[],v=u-1;v>=0;v--){var f=+l[v],p=o[f],h=p.model,g=p.scale;Rt(g)&&h.get("alignTicks")&&h.get("interval")==null?c.push(p):(ca(g,h),Rt(g)&&(s=p))}c.length&&(s||(s=c.pop(),ca(s.scale,s.model)),C(c,function(d){ao(d.scale,d.model,s.scale)}))}}r(t.x),r(t.y);var n={};C(t.x,function(o){Ca(t,"y",o,n)}),C(t.y,function(o){Ca(t,"x",o,n)}),this.resize(this.model,e)},i.prototype.resize=function(a,e,t){var r=a.getBoxLayoutParams(),n=!t&&a.get("containLabel"),o=Ee(r,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var s=this._axesList;l(),n&&(C(s,function(u){if(!u.model.get(["axisLabel","inside"])){var c=Di(u);if(c){var v=u.isHorizontal()?"height":"width",f=u.model.get(["axisLabel","margin"]);o[v]-=c[v]+f,u.position==="top"?o.y+=c.height+f:u.position==="left"&&(o.x+=c.width+f)}}}),l()),C(this._coordsList,function(u){u.calcAffineTransform()});function l(){C(s,function(u){var c=u.isHorizontal(),v=c?[0,o.width]:[0,o.height],f=u.inverse?1:0;u.setExtent(v[f],v[1-f]),io(u,c?o.x:o.y)})}},i.prototype.getAxis=function(a,e){var t=this._axesMap[a];if(t!=null)return t[e||0]},i.prototype.getAxes=function(){return this._axesList.slice()},i.prototype.getCartesian=function(a,e){if(a!=null&&e!=null){var t="x"+a+"y"+e;return this._coordsMap[t]}he(a)&&(e=a.yAxisIndex,a=a.xAxisIndex);for(var r=0,n=this._coordsList;r<n.length;r++)if(n[r].getAxis("x").index===a||n[r].getAxis("y").index===e)return n[r]},i.prototype.getCartesians=function(){return this._coordsList.slice()},i.prototype.convertToPixel=function(a,e,t){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.dataToPoint(t):r.axis?r.axis.toGlobalCoord(r.axis.dataToCoord(t)):null},i.prototype.convertFromPixel=function(a,e,t){var r=this._findConvertTarget(e);return r.cartesian?r.cartesian.pointToData(t):r.axis?r.axis.coordToData(r.axis.toLocalCoord(t)):null},i.prototype._findConvertTarget=function(a){var e=a.seriesModel,t=a.xAxisModel||e&&e.getReferringComponents("xAxis",de).models[0],r=a.yAxisModel||e&&e.getReferringComponents("yAxis",de).models[0],n=a.gridModel,o=this._coordsList,s,l;if(e)s=e.coordinateSystem,Qe(o,s)<0&&(s=null);else if(t&&r)s=this.getCartesian(t.componentIndex,r.componentIndex);else if(t)l=this.getAxis("x",t.componentIndex);else if(r)l=this.getAxis("y",r.componentIndex);else if(n){var u=n.coordinateSystem;u===this&&(s=this._coordsList[0])}return{cartesian:s,axis:l}},i.prototype.containPoint=function(a){var e=this._coordsList[0];if(e)return e.containPoint(a)},i.prototype._initCartesian=function(a,e,t){var r=this,n=this,o={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(e.eachComponent("xAxis",u("x"),this),e.eachComponent("yAxis",u("y"),this),!l.x||!l.y){this._axesMap={},this._axesList=[];return}this._axesMap=s,C(s.x,function(c,v){C(s.y,function(f,p){var h="x"+v+"y"+p,g=new eo(h);g.master=r,g.model=a,r._coordsMap[h]=g,r._coordsList.push(g),g.addAxis(c),g.addAxis(f)})});function u(c){return function(v,f){if(Ct(v,a)){var p=v.get("position");c==="x"?p!=="top"&&p!=="bottom"&&(p=o.bottom?"top":"bottom"):p!=="left"&&p!=="right"&&(p=o.left?"right":"left"),o[p]=!0;var h=new to(c,Ii(v),[0,0],v.get("type"),p),g=h.type==="category";h.onBand=g&&v.get("boundaryGap"),h.inverse=v.get("inverse"),v.axis=h,h.model=v,h.grid=n,h.index=f,n._axesList.push(h),s[c][f]=h,l[c]++}}}},i.prototype._updateScale=function(a,e){C(this._axesList,function(r){if(r.scale.setExtent(1/0,-1/0),r.type==="category"){var n=r.model.get("categorySortInfo");r.scale.setSortInfo(n)}}),a.eachSeries(function(r){if(la(r)){var n=ua(r),o=n.xAxisModel,s=n.yAxisModel;if(!Ct(o,e)||!Ct(s,e))return;var l=this.getCartesian(o.componentIndex,s.componentIndex),u=r.getData(),c=l.getAxis("x"),v=l.getAxis("y");t(u,c),t(u,v)}},this);function t(r,n){C(Ti(r,n.dim),function(o){n.scale.unionExtentFromData(r,o)})}},i.prototype.getTooltipAxes=function(a){var e=[],t=[];return C(this.getCartesians(),function(r){var n=a!=null&&a!=="auto"?r.getAxis(a):r.getBaseAxis(),o=r.getOtherAxis(n);Qe(e,n)<0&&e.push(n),Qe(t,o)<0&&t.push(o)}),{baseAxes:e,otherAxes:t}},i.create=function(a,e){var t=[];return a.eachComponent("grid",function(r,n){var o=new i(r,a,e);o.name="grid_"+n,o.resize(r,e,!0),r.coordinateSystem=o,t.push(o)}),a.eachSeries(function(r){if(la(r)){var n=ua(r),o=n.xAxisModel,s=n.yAxisModel,l=o.getCoordSysModel(),u=l.coordinateSystem;r.coordinateSystem=u.getCartesian(o.componentIndex,s.componentIndex)}}),t},i.dimensions=Bt,i}();function Ct(i,a){return i.getCoordSysModel()===a}function Ca(i,a,e,t){e.getAxesOnZeroOf=function(){return n?[n]:[]};var r=i[a],n,o=e.model,s=o.get(["axisLine","onZero"]),l=o.get(["axisLine","onZeroAxisIndex"]);if(!s)return;if(l!=null)Aa(r[l])&&(n=r[l]);else for(var u in r)if(r.hasOwnProperty(u)&&Aa(r[u])&&!t[c(r[u])]){n=r[u];break}n&&(t[c(n)]=!0);function c(v){return v.dim+"_"+v.index}}function Aa(i){return i&&i.type!=="category"&&i.type!=="time"&&Vi(i)}function io(i,a){var e=i.getExtent(),t=e[0]+e[1];i.toGlobalCoord=i.dim==="x"?function(r){return r+a}:function(r){return t-r+a},i.toLocalCoord=i.dim==="x"?function(r){return r-a}:function(r){return t-r+a}}var Gt=lt();function no(i,a,e,t){var r=e.axis;if(!r.scale.isBlank()){var n=e.getModel("splitArea"),o=n.getModel("areaStyle"),s=o.get("color"),l=t.coordinateSystem.getRect(),u=r.getTicksCoords({tickModel:n,clamp:!0});if(u.length){var c=s.length,v=Gt(i).splitAreaColors,f=Ge(),p=0;if(v)for(var h=0;h<u.length;h++){var g=v.get(u[h].tickValue);if(g!=null){p=(g+(c-1)*h)%c;break}}var d=r.toGlobalCoord(u[0].coord),y=o.getAreaStyle();s=H(s)?s:[s];for(var h=1;h<u.length;h++){var x=r.toGlobalCoord(u[h].coord),m=void 0,b=void 0,S=void 0,_=void 0;r.isHorizontal()?(m=d,b=l.y,S=x-m,_=l.height,d=m+S):(m=l.x,b=d,S=l.width,_=x-b,d=b+_);var w=u[h-1].tickValue;w!=null&&f.set(w,p),a.add(new le({anid:w!=null?"area_"+w:null,shape:{x:m,y:b,width:S,height:_},style:De({fill:s[p]},y),autoBatch:!0,silent:!0})),p=(p+1)%c}Gt(i).splitAreaColors=f}}}function oo(i){Gt(i).splitAreaColors=null}var so=["axisLine","axisTickLabel","axisName"],lo=["splitArea","splitLine","minorSplitLine"],Mr=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e.axisPointerClass="CartesianAxisPointer",e}return a.prototype.render=function(e,t,r,n){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new ye,this.group.add(this._axisGroup),!!e.get("show")){var s=e.getCoordSysModel(),l=Oi(s,e),u=new Ri(e,J({handleAutoShown:function(v){for(var f=s.coordinateSystem.getCartesians(),p=0;p<f.length;p++)if(Rt(f[p].getOtherAxis(e.axis).scale))return!0;return!1}},l));C(so,u.add,u),this._axisGroup.add(u.getGroup()),C(lo,function(v){e.get([v,"show"])&&uo[v](this,this._axisGroup,e,s)},this);var c=n&&n.type==="changeAxisOrder"&&n.isInitSort;c||ki(o,this._axisGroup,e),i.prototype.render.call(this,e,t,r,n)}},a.prototype.remove=function(){oo(this)},a.type="cartesianAxis",a}(zi),uo={splitLine:function(i,a,e,t){var r=e.axis;if(!r.scale.isBlank()){var n=e.getModel("splitLine"),o=n.getModel("lineStyle"),s=o.get("color"),l=n.get("showMinLine")!==!1,u=n.get("showMaxLine")!==!1;s=H(s)?s:[s];for(var c=t.coordinateSystem.getRect(),v=r.isHorizontal(),f=0,p=r.getTicksCoords({tickModel:n}),h=[],g=[],d=o.getLineStyle(),y=0;y<p.length;y++){var x=r.toGlobalCoord(p[y].coord);if(!(y===0&&!l||y===p.length-1&&!u)){var m=p[y].tickValue;v?(h[0]=x,h[1]=c.y,g[0]=x,g[1]=c.y+c.height):(h[0]=c.x,h[1]=x,g[0]=c.x+c.width,g[1]=x);var b=f++%s.length,S=new va({anid:m!=null?"line_"+m:null,autoBatch:!0,shape:{x1:h[0],y1:h[1],x2:g[0],y2:g[1]},style:De({stroke:s[b]},d),silent:!0});ha(S.shape,d.lineWidth),a.add(S)}}}},minorSplitLine:function(i,a,e,t){var r=e.axis,n=e.getModel("minorSplitLine"),o=n.getModel("lineStyle"),s=t.coordinateSystem.getRect(),l=r.isHorizontal(),u=r.getMinorTicksCoords();if(u.length)for(var c=[],v=[],f=o.getLineStyle(),p=0;p<u.length;p++)for(var h=0;h<u[p].length;h++){var g=r.toGlobalCoord(u[p][h].coord);l?(c[0]=g,c[1]=s.y,v[0]=g,v[1]=s.y+s.height):(c[0]=s.x,c[1]=g,v[0]=s.x+s.width,v[1]=g);var d=new va({anid:"minor_line_"+u[p][h].tickValue,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:v[0],y2:v[1]},style:f,silent:!0});ha(d.shape,f.lineWidth),a.add(d)}},splitArea:function(i,a,e,t){no(i,a,e,t)}},Lr=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e}return a.type="xAxis",a}(Mr),co=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=Lr.type,e}return a.type="yAxis",a}(Mr),vo=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type="grid",e}return a.prototype.render=function(e,t){this.group.removeAll(),e.get("show")&&this.group.add(new le({shape:e.coordinateSystem.getRect(),style:De({fill:e.get("backgroundColor")},e.getItemStyle()),silent:!0,z2:-1}))},a.type="grid",a}(Xt),wa={offset:0};function ho(i){i.registerComponentView(vo),i.registerComponentModel(Xn),i.registerCoordinateSystem("cartesian2d",ro),Sa(i,"x",Pt,wa),Sa(i,"y",Pt,wa),i.registerComponentView(Lr),i.registerComponentView(co),i.registerPreprocessor(function(a){a.xAxis&&a.yAxis&&!a.grid&&(a.grid={})})}var He=C,po=he,it=-1,X=function(){function i(a){var e=a.mappingMethod,t=a.type,r=this.option=Q(a);this.type=t,this.mappingMethod=e,this._normalizeData=yo[e];var n=i.visualHandlers[t];this.applyVisual=n.applyVisual,this.getColorMapper=n.getColorMapper,this._normalizedToVisual=n._normalizedToVisual[e],e==="piecewise"?(At(r),fo(r)):e==="category"?r.categories?go(r):At(r,!0):(Bi(e!=="linear"||r.dataExtent),At(r))}return i.prototype.mapValueToVisual=function(a){var e=this._normalizeData(a);return this._normalizedToVisual(e,a)},i.prototype.getNormalizer=function(){return K(this._normalizeData,this)},i.listVisualTypes=function(){return nr(i.visualHandlers)},i.isValidType=function(a){return i.visualHandlers.hasOwnProperty(a)},i.eachVisual=function(a,e,t){he(a)?C(a,e,t):e.call(t,a)},i.mapVisual=function(a,e,t){var r,n=H(a)?[]:he(a)?{}:(r=!0,null);return i.eachVisual(a,function(o,s){var l=e.call(t,o,s);r?n=l:n[s]=l}),n},i.retrieveVisuals=function(a){var e={},t;return a&&He(i.visualHandlers,function(r,n){a.hasOwnProperty(n)&&(e[n]=a[n],t=!0)}),t?e:null},i.prepareVisualTypes=function(a){if(H(a))a=a.slice();else if(po(a)){var e=[];He(a,function(t,r){e.push(r)}),a=e}else return[];return a.sort(function(t,r){return r==="color"&&t!=="color"&&t.indexOf("color")===0?1:-1}),a},i.dependsOn=function(a,e){return e==="color"?!!(a&&a.indexOf(e)===0):a===e},i.findPieceIndex=function(a,e,t){for(var r,n=1/0,o=0,s=e.length;o<s;o++){var l=e[o].value;if(l!=null){if(l===a||Le(l)&&l===a+"")return o;t&&f(l,o)}}for(var o=0,s=e.length;o<s;o++){var u=e[o],c=u.interval,v=u.close;if(c){if(c[0]===-1/0){if(je(v[1],a,c[1]))return o}else if(c[1]===1/0){if(je(v[0],c[0],a))return o}else if(je(v[0],c[0],a)&&je(v[1],a,c[1]))return o;t&&f(c[0],o),t&&f(c[1],o)}}if(t)return a===1/0?e.length-1:a===-1/0?0:r;function f(p,h){var g=Math.abs(p-a);g<n&&(n=g,r=h)}},i.visualHandlers={color:{applyVisual:Re("color"),getColorMapper:function(){var a=this.option;return K(a.mappingMethod==="category"?function(e,t){return!t&&(e=this._normalizeData(e)),ze.call(this,e)}:function(e,t,r){var n=!!r;return!t&&(e=this._normalizeData(e)),r=dt(e,a.parsedVisual,r),n?r:et(r,"rgba")},this)},_normalizedToVisual:{linear:function(a){return et(dt(a,this.option.parsedVisual),"rgba")},category:ze,piecewise:function(a,e){var t=Nt.call(this,e);return t==null&&(t=et(dt(a,this.option.parsedVisual),"rgba")),t},fixed:ge}},colorHue:qe(function(a,e){return yt(a,e)}),colorSaturation:qe(function(a,e){return yt(a,null,e)}),colorLightness:qe(function(a,e){return yt(a,null,null,e)}),colorAlpha:qe(function(a,e){return Gi(a,e)}),decal:{applyVisual:Re("decal"),_normalizedToVisual:{linear:null,category:ze,piecewise:null,fixed:null}},opacity:{applyVisual:Re("opacity"),_normalizedToVisual:Et([0,1])},liftZ:{applyVisual:Re("liftZ"),_normalizedToVisual:{linear:ge,category:ge,piecewise:ge,fixed:ge}},symbol:{applyVisual:function(a,e,t){var r=this.mapValueToVisual(a);t("symbol",r)},_normalizedToVisual:{linear:Ma,category:ze,piecewise:function(a,e){var t=Nt.call(this,e);return t==null&&(t=Ma.call(this,a)),t},fixed:ge}},symbolSize:{applyVisual:Re("symbolSize"),_normalizedToVisual:Et([0,1])}},i}();function fo(i){var a=i.pieceList;i.hasSpecialVisual=!1,C(a,function(e,t){e.originIndex=t,e.visual!=null&&(i.hasSpecialVisual=!0)})}function go(i){var a=i.categories,e=i.categoryMap={},t=i.visual;if(He(a,function(o,s){e[o]=s}),!H(t)){var r=[];he(t)?He(t,function(o,s){var l=e[s];r[l!=null?l:it]=o}):r[it]=t,t=Dr(i,r)}for(var n=a.length-1;n>=0;n--)t[n]==null&&(delete e[a[n]],a.pop())}function At(i,a){var e=i.visual,t=[];he(e)?He(e,function(n){t.push(n)}):e!=null&&t.push(e);var r={color:1,symbol:1};!a&&t.length===1&&!r.hasOwnProperty(i.type)&&(t[1]=t[0]),Dr(i,t)}function qe(i){return{applyVisual:function(a,e,t){var r=this.mapValueToVisual(a);t("color",i(e("color"),r))},_normalizedToVisual:Et([0,1])}}function Ma(i){var a=this.option.visual;return a[Math.round(ie(i,[0,1],[0,a.length-1],!0))]||{}}function Re(i){return function(a,e,t){t(i,this.mapValueToVisual(a))}}function ze(i){var a=this.option.visual;return a[this.option.loop&&i!==it?i%a.length:i]}function ge(){return this.option.visual[0]}function Et(i){return{linear:function(a){return ie(a,i,this.option.visual,!0)},category:ze,piecewise:function(a,e){var t=Nt.call(this,e);return t==null&&(t=ie(a,i,this.option.visual,!0)),t},fixed:ge}}function Nt(i){var a=this.option,e=a.pieceList;if(a.hasSpecialVisual){var t=X.findPieceIndex(i,e),r=e[t];if(r&&r.visual)return r.visual[this.type]}}function Dr(i,a){return i.visual=a,i.type==="color"&&(i.parsedVisual=Z(a,function(e){var t=or(e);return t||[0,0,0,1]})),a}var yo={linear:function(i){return ie(i,this.option.dataExtent,[0,1],!0)},piecewise:function(i){var a=this.option.pieceList,e=X.findPieceIndex(i,a,!0);if(e!=null)return ie(e,[0,a.length-1],[0,1],!0)},category:function(i){var a=this.option.categories?this.option.categoryMap[i]:i;return a==null?it:a},fixed:Pi};function je(i,a,e){return i?a<=e:a<e}function mo(i,a,e,t,r,n){i=i||0;var o=e[1]-e[0];if(r!=null&&(r=_e(r,[0,o])),n!=null&&(n=Math.max(n,r!=null?r:0)),t==="all"){var s=Math.abs(a[1]-a[0]);s=_e(s,[0,o]),r=n=_e(s,[r,n]),t=0}a[0]=_e(a[0],e),a[1]=_e(a[1],e);var l=wt(a,t);a[t]+=i;var u=r||0,c=e.slice();l.sign<0?c[0]+=u:c[1]-=u,a[t]=_e(a[t],c);var v;return v=wt(a,t),r!=null&&(v.sign!==l.sign||v.span<r)&&(a[1-t]=a[t]+l.sign*r),v=wt(a,t),n!=null&&v.span>n&&(a[1-t]=a[t]+v.sign*n),a}function wt(i,a){var e=i[a]-i[1-a];return{span:Math.abs(e),sign:e>0?-1:e<0?1:a?-1:1}}function _e(i,a){return Math.min(a[1]!=null?a[1]:1/0,Math.max(a[0]!=null?a[0]:-1/0,i))}var xo=256,So=function(){function i(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var a=pa.createCanvas();this.canvas=a}return i.prototype.update=function(a,e,t,r,n,o){var s=this._getBrush(),l=this._getGradient(n,"inRange"),u=this._getGradient(n,"outOfRange"),c=this.pointSize+this.blurSize,v=this.canvas,f=v.getContext("2d"),p=a.length;v.width=e,v.height=t;for(var h=0;h<p;++h){var g=a[h],d=g[0],y=g[1],x=g[2],m=r(x);f.globalAlpha=m,f.drawImage(s,d-c,y-c)}if(!v.width||!v.height)return v;for(var b=f.getImageData(0,0,v.width,v.height),S=b.data,_=0,w=S.length,A=this.minOpacity,L=this.maxOpacity,M=L-A;_<w;){var m=S[_+3]/256,T=Math.floor(m*(xo-1))*4;if(m>0){var D=o(m)?l:u;m>0&&(m=m*M+A),S[_++]=D[T],S[_++]=D[T+1],S[_++]=D[T+2],S[_++]=D[T+3]*m*256}else _+=4}return f.putImageData(b,0,0),v},i.prototype._getBrush=function(){var a=this._brushCanvas||(this._brushCanvas=pa.createCanvas()),e=this.pointSize+this.blurSize,t=e*2;a.width=t,a.height=t;var r=a.getContext("2d");return r.clearRect(0,0,t,t),r.shadowOffsetX=t,r.shadowBlur=this.blurSize,r.shadowColor="#000",r.beginPath(),r.arc(-e,e,this.pointSize,0,Math.PI*2,!0),r.closePath(),r.fill(),a},i.prototype._getGradient=function(a,e){for(var t=this._gradientPixels,r=t[e]||(t[e]=new Uint8ClampedArray(256*4)),n=[0,0,0,0],o=0,s=0;s<256;s++)a[e](s/255,!0,n),r[o++]=n[0],r[o++]=n[1],r[o++]=n[2],r[o++]=n[3];return r},i}();function bo(i,a,e){var t=i[1]-i[0];a=Z(a,function(o){return{interval:[(o.interval[0]-i[0])/t,(o.interval[1]-i[0])/t]}});var r=a.length,n=0;return function(o){var s;for(s=n;s<r;s++){var l=a[s].interval;if(l[0]<=o&&o<=l[1]){n=s;break}}if(s===r)for(s=n-1;s>=0;s--){var l=a[s].interval;if(l[0]<=o&&o<=l[1]){n=s;break}}return s>=0&&s<r&&e[s]}}function _o(i,a){var e=i[1]-i[0];return a=[(a[0]-i[0])/e,(a[1]-i[0])/e],function(t){return t>=a[0]&&t<=a[1]}}function La(i){var a=i.dimensions;return a[0]==="lng"&&a[1]==="lat"}var Co=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.render=function(e,t,r){var n;t.eachComponent("visualMap",function(s){s.eachTargetSeries(function(l){l===e&&(n=s)})}),this._progressiveEls=null,this.group.removeAll();var o=e.coordinateSystem;o.type==="cartesian2d"||o.type==="calendar"?this._renderOnCartesianAndCalendar(e,r,0,e.getData().count()):La(o)&&this._renderOnGeo(o,e,n,r)},a.prototype.incrementalPrepareRender=function(e,t,r){this.group.removeAll()},a.prototype.incrementalRender=function(e,t,r,n){var o=t.coordinateSystem;o&&(La(o)?this.render(t,r,n):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(t,n,e.start,e.end,!0)))},a.prototype.eachRendered=function(e){Ei(this._progressiveEls||this.group,e)},a.prototype._renderOnCartesianAndCalendar=function(e,t,r,n,o){var s=e.coordinateSystem,l=kn(s,"cartesian2d"),u,c,v,f;if(l){var p=s.getAxis("x"),h=s.getAxis("y");u=p.getBandWidth()+.5,c=h.getBandWidth()+.5,v=p.scale.getExtent(),f=h.scale.getExtent()}for(var g=this.group,d=e.getData(),y=e.getModel(["emphasis","itemStyle"]).getItemStyle(),x=e.getModel(["blur","itemStyle"]).getItemStyle(),m=e.getModel(["select","itemStyle"]).getItemStyle(),b=e.get(["itemStyle","borderRadius"]),S=Ot(e),_=e.getModel("emphasis"),w=_.get("focus"),A=_.get("blurScope"),L=_.get("disabled"),M=l?[d.mapDimension("x"),d.mapDimension("y"),d.mapDimension("value")]:[d.mapDimension("time"),d.mapDimension("value")],T=r;T<n;T++){var D=void 0,k=d.getItemVisual(T,"style");if(l){var U=d.get(M[0],T),O=d.get(M[1],T);if(isNaN(d.get(M[2],T))||isNaN(U)||isNaN(O)||U<v[0]||U>v[1]||O<f[0]||O>f[1])continue;var j=s.dataToPoint([U,O]);D=new le({shape:{x:j[0]-u/2,y:j[1]-c/2,width:u,height:c},style:k})}else{if(isNaN(d.get(M[1],T)))continue;D=new le({z2:1,shape:s.dataToRect([d.get(M[0],T)]).contentShape,style:k})}if(d.hasItemOption){var G=d.getItemModel(T),E=G.getModel("emphasis");y=E.getModel("itemStyle").getItemStyle(),x=G.getModel(["blur","itemStyle"]).getItemStyle(),m=G.getModel(["select","itemStyle"]).getItemStyle(),b=G.get(["itemStyle","borderRadius"]),w=E.get("focus"),A=E.get("blurScope"),L=E.get("disabled"),S=Ot(G)}D.shape.r=b;var V=e.getRawValue(T),P="-";V&&V[2]!=null&&(P=V[2]+""),Zt(D,S,{labelFetcher:e,labelDataIndex:T,defaultOpacity:k.opacity,defaultText:P}),D.ensureState("emphasis").style=y,D.ensureState("blur").style=x,D.ensureState("select").style=m,tr(D,w,A,L),D.incremental=o,o&&(D.states.emphasis.hoverLayer=!0),g.add(D),d.setItemGraphicEl(T,D),this._progressiveEls&&this._progressiveEls.push(D)}},a.prototype._renderOnGeo=function(e,t,r,n){var o=r.targetVisuals.inRange,s=r.targetVisuals.outOfRange,l=t.getData(),u=this._hmLayer||this._hmLayer||new So;u.blurSize=t.get("blurSize"),u.pointSize=t.get("pointSize"),u.minOpacity=t.get("minOpacity"),u.maxOpacity=t.get("maxOpacity");var c=e.getViewRect().clone(),v=e.getRoamTransform();c.applyTransform(v);var f=Math.max(c.x,0),p=Math.max(c.y,0),h=Math.min(c.width+c.x,n.getWidth()),g=Math.min(c.height+c.y,n.getHeight()),d=h-f,y=g-p,x=[l.mapDimension("lng"),l.mapDimension("lat"),l.mapDimension("value")],m=l.mapArray(x,function(w,A,L){var M=e.dataToPoint([w,A]);return M[0]-=f,M[1]-=p,M.push(L),M}),b=r.getExtent(),S=r.type==="visualMap.continuous"?_o(b,r.option.range):bo(b,r.getPieceList(),r.option.selected);u.update(m,d,y,o.color.getNormalizer(),{inRange:o.color.getColorMapper(),outOfRange:s.color.getColorMapper()},S);var _=new sr({style:{width:d,height:y,x:f,y:p,image:u.canvas},silent:!0});this.group.add(_)},a.type="heatmap",a}(er),Ao=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.getInitialData=function(e,t){return gn(null,this,{generateCoord:"value"})},a.prototype.preventIncremental=function(){var e=qa.get(this.get("coordinateSystem"));if(e&&e.dimensions)return e.dimensions[0]==="lng"&&e.dimensions[1]==="lat"},a.type="series.heatmap",a.dependencies=["grid","geo","calendar"],a.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},a}(ar);function wo(i){i.registerChartView(Co),i.registerSeriesModel(Ao)}function Mo(i){ue(ho),ue(Ni)}function Lo(i,a){var e=lr(a.get("padding")),t=a.getItemStyle(["color","opacity"]);return t.fill=a.get("backgroundColor"),i=new le({shape:{x:i.x-e[3],y:i.y-e[0],width:i.width+e[1]+e[3],height:i.height+e[0]+e[2],r:a.get("borderRadius")},style:t,silent:!0,z2:-1}),i}var Da=C;function Ia(i){if(i){for(var a in i)if(i.hasOwnProperty(a))return!0}}function Ta(i,a,e){var t={};return Da(a,function(n){var o=t[n]=r();Da(i[n],function(s,l){if(X.isValidType(l)){var u={type:l,visual:s};e&&e(u,n),o[l]=new X(u),l==="opacity"&&(u=Q(u),u.type="colorAlpha",o.__hidden.__alphaForOpacity=new X(u))}})}),t;function r(){var n=function(){};n.prototype.__hidden=n.prototype;var o=new n;return o}}function Do(i,a,e){var t;C(e,function(r){a.hasOwnProperty(r)&&Ia(a[r])&&(t=!0)}),t&&C(e,function(r){a.hasOwnProperty(r)&&Ia(a[r])?i[r]=Q(a[r]):delete i[r]})}function Io(i,a,e,t){var r={};return C(i,function(n){var o=X.prepareVisualTypes(a[n]);r[n]=o}),{progress:function(o,s){var l;t!=null&&(l=s.getDimensionIndex(t));function u(S){return Hi(s,v,S)}function c(S,_){Fi(s,v,S,_)}for(var v,f=s.getStore();(v=o.next())!=null;){var p=s.getRawDataItem(v);if(!(p&&p.visualMap===!1))for(var h=t!=null?f.get(l,v):v,g=e(h),d=a[g],y=r[g],x=0,m=y.length;x<m;x++){var b=y[x];d[b]&&d[b].applyVisual(h,u,c)}}}}}var To=function(i,a){if(a==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(a==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},Ht=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e.layoutMode={type:"box",ignoreSize:!0},e}return a.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r),e.selected=e.selected||{},this._updateSelector(e)},a.prototype.mergeOption=function(e,t){i.prototype.mergeOption.call(this,e,t),this._updateSelector(e)},a.prototype._updateSelector=function(e){var t=e.selector,r=this.ecModel;t===!0&&(t=e.selector=["all","inverse"]),H(t)&&C(t,function(n,o){Le(n)&&(n={type:n}),t[o]=re(n,To(r,n.type))})},a.prototype.optionUpdated=function(){this._updateData(this.ecModel);var e=this._data;if(e[0]&&this.get("selectedMode")==="single"){for(var t=!1,r=0;r<e.length;r++){var n=e[r].get("name");if(this.isSelected(n)){this.select(n),t=!0;break}}!t&&this.select(e[0].get("name"))}},a.prototype._updateData=function(e){var t=[],r=[];e.eachRawSeries(function(l){var u=l.name;r.push(u);var c;if(l.legendVisualProvider){var v=l.legendVisualProvider,f=v.getAllNames();e.isSeriesFiltered(l)||(r=r.concat(f)),f.length?t=t.concat(f):c=!0}else c=!0;c&&Wi(l)&&t.push(l.name)}),this._availableNames=r;var n=this.get("data")||t,o=Ge(),s=Z(n,function(l){return(Le(l)||Ut(l))&&(l={name:l}),o.get(l.name)?null:(o.set(l.name,!0),new $i(l,this,this.ecModel))},this);this._data=st(s,function(l){return!!l})},a.prototype.getData=function(){return this._data},a.prototype.select=function(e){var t=this.option.selected,r=this.get("selectedMode");if(r==="single"){var n=this._data;C(n,function(o){t[o.get("name")]=!1})}t[e]=!0},a.prototype.unSelect=function(e){this.get("selectedMode")!=="single"&&(this.option.selected[e]=!1)},a.prototype.toggleSelected=function(e){var t=this.option.selected;t.hasOwnProperty(e)||(t[e]=!0),this[t[e]?"unSelect":"select"](e)},a.prototype.allSelect=function(){var e=this._data,t=this.option.selected;C(e,function(r){t[r.get("name",!0)]=!0})},a.prototype.inverseSelect=function(){var e=this._data,t=this.option.selected;C(e,function(r){var n=r.get("name",!0);t.hasOwnProperty(n)||(t[n]=!0),t[n]=!t[n]})},a.prototype.isSelected=function(e){var t=this.option.selected;return!(t.hasOwnProperty(e)&&!t[e])&&Qe(this._availableNames,e)>=0},a.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},a.type="legend.plain",a.dependencies=["series"],a.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},a}(ut),Ce=oe,Ft=C,Je=ye,Ir=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e.newlineDisabled=!1,e}return a.prototype.init=function(){this.group.add(this._contentGroup=new Je),this.group.add(this._selectorGroup=new Je),this._isFirstRender=!0},a.prototype.getContentGroup=function(){return this._contentGroup},a.prototype.getSelectorGroup=function(){return this._selectorGroup},a.prototype.render=function(e,t,r){var n=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!e.get("show",!0)){var o=e.get("align"),s=e.get("orient");(!o||o==="auto")&&(o=e.get("left")==="right"&&s==="vertical"?"right":"left");var l=e.get("selector",!0),u=e.get("selectorPosition",!0);l&&(!u||u==="auto")&&(u=s==="horizontal"?"end":"start"),this.renderInner(o,e,t,r,l,s,u);var c=e.getBoxLayoutParams(),v={width:r.getWidth(),height:r.getHeight()},f=e.get("padding"),p=Ee(c,v,f),h=this.layoutInner(e,o,p,n,l,u),g=Ee(De({width:h.width,height:h.height},c),v,f);this.group.x=g.x-h.x,this.group.y=g.y-h.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Lo(h,e))}},a.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},a.prototype.renderInner=function(e,t,r,n,o,s,l){var u=this.getContentGroup(),c=Ge(),v=t.get("selectedMode"),f=[];r.eachRawSeries(function(p){!p.get("legendHoverLink")&&f.push(p.id)}),Ft(t.getData(),function(p,h){var g=p.get("name");if(!this.newlineDisabled&&(g===""||g==="\n")){var d=new Je;d.newline=!0,u.add(d);return}var y=r.getSeriesByName(g)[0];if(!c.get(g))if(y){var x=y.getData(),m=x.getVisual("legendLineStyle")||{},b=x.getVisual("legendIcon"),S=x.getVisual("style"),_=this._createItem(y,g,h,p,t,e,m,S,b,v,n);_.on("click",Ce(Va,g,null,n,f)).on("mouseover",Ce(Wt,y.name,null,n,f)).on("mouseout",Ce($t,y.name,null,n,f)),r.ssr&&_.eachChild(function(w){var A=kt(w);A.seriesIndex=y.seriesIndex,A.dataIndex=h,A.ssrType="legend"}),c.set(g,!0)}else r.eachRawSeries(function(w){if(!c.get(g)&&w.legendVisualProvider){var A=w.legendVisualProvider;if(!A.containName(g))return;var L=A.indexOfName(g),M=A.getItemVisual(L,"style"),T=A.getItemVisual(L,"legendIcon"),D=or(M.fill);D&&D[3]===0&&(D[3]=.2,M=J(J({},M),{fill:et(D,"rgba")}));var k=this._createItem(w,g,h,p,t,e,{},M,T,v,n);k.on("click",Ce(Va,null,g,n,f)).on("mouseover",Ce(Wt,null,g,n,f)).on("mouseout",Ce($t,null,g,n,f)),r.ssr&&k.eachChild(function(U){var O=kt(U);O.seriesIndex=w.seriesIndex,O.dataIndex=h,O.ssrType="legend"}),c.set(g,!0)}},this)},this),o&&this._createSelector(o,t,n,s,l)},a.prototype._createSelector=function(e,t,r,n,o){var s=this.getSelectorGroup();Ft(e,function(u){var c=u.type,v=new se({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:c==="all"?"legendAllSelect":"legendInverseSelect",legendId:t.id})}});s.add(v);var f=t.getModel("selectorLabel"),p=t.getModel(["emphasis","selectorLabel"]);Zt(v,{normal:f,emphasis:p},{defaultText:u.title}),fa(v)})},a.prototype._createItem=function(e,t,r,n,o,s,l,u,c,v,f){var p=e.visualDrawType,h=o.get("itemWidth"),g=o.get("itemHeight"),d=o.isSelected(t),y=n.get("symbolRotate"),x=n.get("symbolKeepAspect"),m=n.get("icon");c=m||c||"roundRect";var b=Vo(c,n,l,u,p,d,f),S=new Je,_=n.getModel("textStyle");if(Me(e.getLegendIcon)&&(!m||m==="inherit"))S.add(e.getLegendIcon({itemWidth:h,itemHeight:g,icon:c,iconRotate:y,itemStyle:b.itemStyle,lineStyle:b.lineStyle,symbolKeepAspect:x}));else{var w=m==="inherit"&&e.getData().getVisual("symbol")?y==="inherit"?e.getData().getVisual("symbolRotate"):y:0;S.add(Oo({itemWidth:h,itemHeight:g,icon:c,iconRotate:w,itemStyle:b.itemStyle,symbolKeepAspect:x}))}var A=s==="left"?h+5:-5,L=s,M=o.get("formatter"),T=t;Le(M)&&M?T=M.replace("{name}",t!=null?t:""):Me(M)&&(T=M(t));var D=d?_.getTextColor():n.get("inactiveColor");S.add(new se({style:Be(_,{text:T,x:A,y:g/2,fill:D,align:L,verticalAlign:"middle"},{inheritColor:D})}));var k=new le({shape:S.getBoundingRect(),style:{fill:"transparent"}}),U=n.getModel("tooltip");return U.get("show")&&Ui({el:k,componentModel:o,itemName:t,itemTooltipOption:U.option}),S.add(k),S.eachChild(function(O){O.silent=!0}),k.silent=!v,this.getContentGroup().add(S),fa(S),S.__legendDataIndex=r,S},a.prototype.layoutInner=function(e,t,r,n,o,s){var l=this.getContentGroup(),u=this.getSelectorGroup();we(e.get("orient"),l,e.get("itemGap"),r.width,r.height);var c=l.getBoundingRect(),v=[-c.x,-c.y];if(u.markRedraw(),l.markRedraw(),o){we("horizontal",u,e.get("selectorItemGap",!0));var f=u.getBoundingRect(),p=[-f.x,-f.y],h=e.get("selectorButtonGap",!0),g=e.getOrient().index,d=g===0?"width":"height",y=g===0?"height":"width",x=g===0?"y":"x";s==="end"?p[g]+=c[d]+h:v[g]+=f[d]+h,p[1-g]+=c[y]/2-f[y]/2,u.x=p[0],u.y=p[1],l.x=v[0],l.y=v[1];var m={x:0,y:0};return m[d]=c[d]+h+f[d],m[y]=Math.max(c[y],f[y]),m[x]=Math.min(0,f[x]+p[1-g]),m}else return l.x=v[0],l.y=v[1],this.group.getBoundingRect()},a.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},a.type="legend.plain",a}(Xt);function Vo(i,a,e,t,r,n,o){function s(d,y){d.lineWidth==="auto"&&(d.lineWidth=y.lineWidth>0?2:0),Ft(d,function(x,m){d[m]==="inherit"&&(d[m]=y[m])})}var l=a.getModel("itemStyle"),u=l.getItemStyle(),c=i.lastIndexOf("empty",0)===0?"fill":"stroke",v=l.getShallow("decal");u.decal=!v||v==="inherit"?t.decal:Zi(v,o),u.fill==="inherit"&&(u.fill=t[r]),u.stroke==="inherit"&&(u.stroke=t[c]),u.opacity==="inherit"&&(u.opacity=(r==="fill"?t:e).opacity),s(u,t);var f=a.getModel("lineStyle"),p=f.getLineStyle();if(s(p,e),u.fill==="auto"&&(u.fill=t.fill),u.stroke==="auto"&&(u.stroke=t.fill),p.stroke==="auto"&&(p.stroke=t.fill),!n){var h=a.get("inactiveBorderWidth"),g=u[c];u.lineWidth=h==="auto"?t.lineWidth>0&&g?2:0:u.lineWidth,u.fill=a.get("inactiveColor"),u.stroke=a.get("inactiveBorderColor"),p.stroke=f.get("inactiveColor"),p.lineWidth=f.get("inactiveWidth")}return{itemStyle:u,lineStyle:p}}function Oo(i){var a=i.icon||"roundRect",e=at(a,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return e.setStyle(i.itemStyle),e.rotation=(i.iconRotate||0)*Math.PI/180,e.setOrigin([i.itemWidth/2,i.itemHeight/2]),a.indexOf("empty")>-1&&(e.style.stroke=e.style.fill,e.style.fill="#fff",e.style.lineWidth=2),e}function Va(i,a,e,t){$t(i,a,e,t),e.dispatchAction({type:"legendToggleSelect",name:i!=null?i:a}),Wt(i,a,e,t)}function Tr(i){for(var a=i.getZr().storage.getDisplayList(),e,t=0,r=a.length;t<r&&!(e=a[t].states.emphasis);)t++;return e&&e.hoverLayer}function Wt(i,a,e,t){Tr(e)||e.dispatchAction({type:"highlight",seriesName:i,name:a,excludeSeriesId:t})}function $t(i,a,e,t){Tr(e)||e.dispatchAction({type:"downplay",seriesName:i,name:a,excludeSeriesId:t})}function Ro(i){var a=i.findComponents({mainType:"legend"});a&&a.length&&i.filterSeries(function(e){for(var t=0;t<a.length;t++)if(!a[t].isSelected(e.name))return!1;return!0})}function ke(i,a,e){var t=i==="allSelect"||i==="inverseSelect",r={},n=[];e.eachComponent({mainType:"legend",query:a},function(s){t?s[i]():s[i](a.name),Oa(s,r),n.push(s.componentIndex)});var o={};return e.eachComponent("legend",function(s){C(r,function(l,u){s[l?"select":"unSelect"](u)}),Oa(s,o)}),t?{selected:o,legendIndex:n}:{name:a.name,selected:o}}function Oa(i,a){var e=a||{};return C(i.getData(),function(t){var r=t.get("name");if(!(r==="\n"||r==="")){var n=i.isSelected(r);Xi(e,r)?e[r]=e[r]&&n:e[r]=n}}),e}function ko(i){i.registerAction("legendToggleSelect","legendselectchanged",oe(ke,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",oe(ke,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",oe(ke,"inverseSelect")),i.registerAction("legendSelect","legendselected",oe(ke,"select")),i.registerAction("legendUnSelect","legendunselected",oe(ke,"unSelect"))}function Vr(i){i.registerComponentModel(Ht),i.registerComponentView(Ir),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,Ro),i.registerSubTypeDefaulter("legend",function(){return"plain"}),ko(i)}var zo=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.setScrollDataIndex=function(e){this.option.scrollDataIndex=e},a.prototype.init=function(e,t,r){var n=rr(e);i.prototype.init.call(this,e,t,r),Ra(this,e,n)},a.prototype.mergeOption=function(e,t){i.prototype.mergeOption.call(this,e,t),Ra(this,this.option,e)},a.type="legend.scroll",a.defaultOption=Yt(Ht.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),a}(Ht);function Ra(i,a,e){var t=i.getOrient(),r=[1,1];r[t.index]=0,ir(a,e,{type:"box",ignoreSize:!!r})}var ka=ye,Mt=["width","height"],Lt=["x","y"],Po=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e.newlineDisabled=!0,e._currentIndex=0,e}return a.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new ka),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new ka)},a.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},a.prototype.renderInner=function(e,t,r,n,o,s,l){var u=this;i.prototype.renderInner.call(this,e,t,r,n,o,s,l);var c=this._controllerGroup,v=t.get("pageIconSize",!0),f=H(v)?v:[v,v];h("pagePrev",0);var p=t.getModel("pageTextStyle");c.add(new se({name:"pageText",style:{text:"xx/xx",fill:p.getTextColor(),font:p.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),h("pageNext",1);function h(g,d){var y=g+"DataIndex",x=Yi(t.get("pageIcons",!0)[t.getOrient().name][d],{onclick:K(u._pageGo,u,y,t,n)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});x.name=g,c.add(x)}},a.prototype.layoutInner=function(e,t,r,n,o,s){var l=this.getSelectorGroup(),u=e.getOrient().index,c=Mt[u],v=Lt[u],f=Mt[1-u],p=Lt[1-u];o&&we("horizontal",l,e.get("selectorItemGap",!0));var h=e.get("selectorButtonGap",!0),g=l.getBoundingRect(),d=[-g.x,-g.y],y=Q(r);o&&(y[c]=r[c]-g[c]-h);var x=this._layoutContentAndController(e,n,y,u,c,f,p,v);if(o){if(s==="end")d[u]+=x[c]+h;else{var m=g[c]+h;d[u]-=m,x[v]-=m}x[c]+=g[c]+h,d[1-u]+=x[p]+x[f]/2-g[f]/2,x[f]=Math.max(x[f],g[f]),x[p]=Math.min(x[p],g[p]+d[1-u]),l.x=d[0],l.y=d[1],l.markRedraw()}return x},a.prototype._layoutContentAndController=function(e,t,r,n,o,s,l,u){var c=this.getContentGroup(),v=this._containerGroup,f=this._controllerGroup;we(e.get("orient"),c,e.get("itemGap"),n?r.width:null,n?null:r.height),we("horizontal",f,e.get("pageButtonItemGap",!0));var p=c.getBoundingRect(),h=f.getBoundingRect(),g=this._showController=p[o]>r[o],d=[-p.x,-p.y];t||(d[n]=c[u]);var y=[0,0],x=[-h.x,-h.y],m=It(e.get("pageButtonGap",!0),e.get("itemGap",!0));if(g){var b=e.get("pageButtonPosition",!0);b==="end"?x[n]+=r[o]-h[o]:y[n]+=h[o]+m}x[1-n]+=p[s]/2-h[s]/2,c.setPosition(d),v.setPosition(y),f.setPosition(x);var S={x:0,y:0};if(S[o]=g?r[o]:p[o],S[s]=Math.max(p[s],h[s]),S[l]=Math.min(0,h[l]+x[1-n]),v.__rectSize=r[o],g){var _={x:0,y:0};_[o]=Math.max(r[o]-h[o]-m,0),_[s]=S[s],v.setClipPath(new le({shape:_})),v.__rectSize=_[o]}else f.eachChild(function(A){A.attr({invisible:!0,silent:!0})});var w=this._getPageInfo(e);return w.pageIndex!=null&&Vt(c,{x:w.contentPosition[0],y:w.contentPosition[1]},g?e:null),this._updatePageInfoView(e,w),S},a.prototype._pageGo=function(e,t,r){var n=this._getPageInfo(t)[e];n!=null&&r.dispatchAction({type:"legendScroll",scrollDataIndex:n,legendId:t.id})},a.prototype._updatePageInfoView=function(e,t){var r=this._controllerGroup;C(["pagePrev","pageNext"],function(c){var v=c+"DataIndex",f=t[v]!=null,p=r.childOfName(c);p&&(p.setStyle("fill",f?e.get("pageIconColor",!0):e.get("pageIconInactiveColor",!0)),p.cursor=f?"pointer":"default")});var n=r.childOfName("pageText"),o=e.get("pageFormatter"),s=t.pageIndex,l=s!=null?s+1:0,u=t.pageCount;n&&o&&n.setStyle("text",Le(o)?o.replace("{current}",l==null?"":l+"").replace("{total}",u==null?"":u+""):o({current:l,total:u}))},a.prototype._getPageInfo=function(e){var t=e.get("scrollDataIndex",!0),r=this.getContentGroup(),n=this._containerGroup.__rectSize,o=e.getOrient().index,s=Mt[o],l=Lt[o],u=this._findTargetItemIndex(t),c=r.children(),v=c[u],f=c.length,p=f?1:0,h={contentPosition:[r.x,r.y],pageCount:p,pageIndex:p-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!v)return h;var g=b(v);h.contentPosition[o]=-g.s;for(var d=u+1,y=g,x=g,m=null;d<=f;++d)m=b(c[d]),(!m&&x.e>y.s+n||m&&!S(m,y.s))&&(x.i>y.i?y=x:y=m,y&&(h.pageNextDataIndex==null&&(h.pageNextDataIndex=y.i),++h.pageCount)),x=m;for(var d=u-1,y=g,x=g,m=null;d>=-1;--d)m=b(c[d]),(!m||!S(x,m.s))&&y.i<x.i&&(x=y,h.pagePrevDataIndex==null&&(h.pagePrevDataIndex=y.i),++h.pageCount,++h.pageIndex),y=m;return h;function b(_){if(_){var w=_.getBoundingRect(),A=w[l]+_[l];return{s:A,e:A+w[s],i:_.__legendDataIndex}}}function S(_,w){return _.e>=w&&_.s<=w+n}},a.prototype._findTargetItemIndex=function(e){if(!this._showController)return 0;var t,r=this.getContentGroup(),n;return r.eachChild(function(o,s){var l=o.__legendDataIndex;n==null&&l!=null&&(n=s),l===e&&(t=s)}),t!=null?t:n},a.type="legend.scroll",a}(Ir);function Bo(i){i.registerAction("legendScroll","legendscroll",function(a,e){var t=a.scrollDataIndex;t!=null&&e.eachComponent({mainType:"legend",subType:"scroll",query:a},function(r){r.setScrollDataIndex(t)})})}function Go(i){ue(Vr),i.registerComponentModel(zo),i.registerComponentView(Po),Bo(i)}function Or(i){ue(Vr),ue(Go)}var Rr={get:function(i,a,e){var t=Q((Eo[i]||{})[a]);return e&&H(t)?t[t.length-1]:t}},Eo={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},za=X.mapVisual,No=X.eachVisual,Ho=H,Pa=C,Fo=ur,Wo=ie,nt=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e.stateList=["inRange","outOfRange"],e.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],e.layoutMode={type:"box",ignoreSize:!0},e.dataBound=[-1/0,1/0],e.targetVisuals={},e.controllerVisuals={},e}return a.prototype.init=function(e,t,r){this.mergeDefaultAndTheme(e,r)},a.prototype.optionUpdated=function(e,t){var r=this.option;!t&&Do(r,e,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},a.prototype.resetVisual=function(e){var t=this.stateList;e=K(e,this),this.controllerVisuals=Ta(this.option.controller,t,e),this.targetVisuals=Ta(this.option.target,t,e)},a.prototype.getItemSymbol=function(){return null},a.prototype.getTargetSeriesIndices=function(){var e=this.option.seriesIndex,t=[];return e==null||e==="all"?this.ecModel.eachSeries(function(r,n){t.push(n)}):t=Ki(e),t},a.prototype.eachTargetSeries=function(e,t){C(this.getTargetSeriesIndices(),function(r){var n=this.ecModel.getSeriesByIndex(r);n&&e.call(t,n)},this)},a.prototype.isTargetSeries=function(e){var t=!1;return this.eachTargetSeries(function(r){r===e&&(t=!0)}),t},a.prototype.formatValueText=function(e,t,r){var n=this.option,o=n.precision,s=this.dataBound,l=n.formatter,u;r=r||["<",">"],H(e)&&(e=e.slice(),u=!0);var c=t?e:u?[v(e[0]),v(e[1])]:v(e);if(Le(l))return l.replace("{value}",u?c[0]:c).replace("{value2}",u?c[1]:c);if(Me(l))return u?l(e[0],e[1]):l(e);if(u)return e[0]===s[0]?r[0]+" "+c[1]:e[1]===s[1]?r[1]+" "+c[0]:c[0]+" - "+c[1];return c;function v(f){return f===s[0]?"min":f===s[1]?"max":(+f).toFixed(Math.min(o,20))}},a.prototype.resetExtent=function(){var e=this.option,t=Fo([e.min,e.max]);this._dataExtent=t},a.prototype.getDataDimensionIndex=function(e){var t=this.option.dimension;if(t!=null)return e.getDimensionIndex(t);for(var r=e.dimensions,n=r.length-1;n>=0;n--){var o=r[n],s=e.getDimensionInfo(o);if(!s.isCalculationCoord)return s.storeDimIndex}},a.prototype.getExtent=function(){return this._dataExtent.slice()},a.prototype.completeVisualOption=function(){var e=this.ecModel,t=this.option,r={inRange:t.inRange,outOfRange:t.outOfRange},n=t.target||(t.target={}),o=t.controller||(t.controller={});re(n,r),re(o,r);var s=this.isCategory();l.call(this,n),l.call(this,o),u.call(this,n,"inRange","outOfRange"),c.call(this,o);function l(v){Ho(t.color)&&!v.inRange&&(v.inRange={color:t.color.slice().reverse()}),v.inRange=v.inRange||{color:e.get("gradientColor")}}function u(v,f,p){var h=v[f],g=v[p];h&&!g&&(g=v[p]={},Pa(h,function(d,y){if(X.isValidType(y)){var x=Rr.get(y,"inactive",s);x!=null&&(g[y]=x,y==="color"&&!g.hasOwnProperty("opacity")&&!g.hasOwnProperty("colorAlpha")&&(g.opacity=[0,0]))}}))}function c(v){var f=(v.inRange||{}).symbol||(v.outOfRange||{}).symbol,p=(v.inRange||{}).symbolSize||(v.outOfRange||{}).symbolSize,h=this.get("inactiveColor"),g=this.getItemSymbol(),d=g||"roundRect";Pa(this.stateList,function(y){var x=this.itemSize,m=v[y];m||(m=v[y]={color:s?h:[h]}),m.symbol==null&&(m.symbol=f&&Q(f)||(s?d:[d])),m.symbolSize==null&&(m.symbolSize=p&&Q(p)||(s?x[0]:[x[0],x[0]])),m.symbol=za(m.symbol,function(_){return _==="none"?d:_});var b=m.symbolSize;if(b!=null){var S=-1/0;No(b,function(_){_>S&&(S=_)}),m.symbolSize=za(b,function(_){return Wo(_,[0,S],[0,x[0]],!0)})}},this)}},a.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},a.prototype.isCategory=function(){return!!this.option.categories},a.prototype.setSelected=function(e){},a.prototype.getSelected=function(){return null},a.prototype.getValueState=function(e){return null},a.prototype.getVisualMeta=function(e){return null},a.type="visualMap",a.dependencies=["series"],a.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},a}(ut),Ba=[20,140],$o=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.optionUpdated=function(e,t){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(r){r.mappingMethod="linear",r.dataExtent=this.getExtent()}),this._resetRange()},a.prototype.resetItemSize=function(){i.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(e[0]==null||isNaN(e[0]))&&(e[0]=Ba[0]),(e[1]==null||isNaN(e[1]))&&(e[1]=Ba[1])},a.prototype._resetRange=function(){var e=this.getExtent(),t=this.option.range;!t||t.auto?(e.auto=1,this.option.range=e):H(t)&&(t[0]>t[1]&&t.reverse(),t[0]=Math.max(t[0],e[0]),t[1]=Math.min(t[1],e[1]))},a.prototype.completeVisualOption=function(){i.prototype.completeVisualOption.apply(this,arguments),C(this.stateList,function(e){var t=this.option.controller[e].symbolSize;t&&t[0]!==t[1]&&(t[0]=t[1]/3)},this)},a.prototype.setSelected=function(e){this.option.range=e.slice(),this._resetRange()},a.prototype.getSelected=function(){var e=this.getExtent(),t=ur((this.get("range")||[]).slice());return t[0]>e[1]&&(t[0]=e[1]),t[1]>e[1]&&(t[1]=e[1]),t[0]<e[0]&&(t[0]=e[0]),t[1]<e[0]&&(t[1]=e[0]),t},a.prototype.getValueState=function(e){var t=this.option.range,r=this.getExtent();return(t[0]<=r[0]||t[0]<=e)&&(t[1]>=r[1]||e<=t[1])?"inRange":"outOfRange"},a.prototype.findTargetDataIndices=function(e){var t=[];return this.eachTargetSeries(function(r){var n=[],o=r.getData();o.each(this.getDataDimensionIndex(o),function(s,l){e[0]<=s&&s<=e[1]&&n.push(l)},this),t.push({seriesId:r.id,dataIndex:n})},this),t},a.prototype.getVisualMeta=function(e){var t=Ga(this,"outOfRange",this.getExtent()),r=Ga(this,"inRange",this.option.range.slice()),n=[];function o(p,h){n.push({value:p,color:e(p,h)})}for(var s=0,l=0,u=r.length,c=t.length;l<c&&(!r.length||t[l]<=r[0]);l++)t[l]<r[s]&&o(t[l],"outOfRange");for(var v=1;s<u;s++,v=0)v&&n.length&&o(r[s],"outOfRange"),o(r[s],"inRange");for(var v=1;l<c;l++)(!r.length||r[r.length-1]<t[l])&&(v&&(n.length&&o(n[n.length-1].value,"outOfRange"),v=0),o(t[l],"outOfRange"));var f=n.length;return{stops:n,outerColors:[f?n[0].color:"transparent",f?n[f-1].color:"transparent"]}},a.type="visualMap.continuous",a.defaultOption=Yt(nt.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),a}(nt);function Ga(i,a,e){if(e[0]===e[1])return e.slice();for(var t=200,r=(e[1]-e[0])/t,n=e[0],o=[],s=0;s<=t&&n<e[1];s++)o.push(n),n+=r;return o.push(e[1]),o}var kr=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e.autoPositionValues={left:1,right:1,top:1,bottom:1},e}return a.prototype.init=function(e,t){this.ecModel=e,this.api=t},a.prototype.render=function(e,t,r,n){if(this.visualMapModel=e,e.get("show")===!1){this.group.removeAll();return}this.doRender(e,t,r,n)},a.prototype.renderBackground=function(e){var t=this.visualMapModel,r=lr(t.get("padding")||0),n=e.getBoundingRect();e.add(new le({z2:-1,silent:!0,shape:{x:n.x-r[3],y:n.y-r[0],width:n.width+r[3]+r[1],height:n.height+r[0]+r[2]},style:{fill:t.get("backgroundColor"),stroke:t.get("borderColor"),lineWidth:t.get("borderWidth")}}))},a.prototype.getControllerVisual=function(e,t,r){r=r||{};var n=r.forceState,o=this.visualMapModel,s={};if(t==="color"){var l=o.get("contentColor");s.color=l}function u(p){return s[p]}function c(p,h){s[p]=h}var v=o.controllerVisuals[n||o.getValueState(e)],f=X.prepareVisualTypes(v);return C(f,function(p){var h=v[p];r.convertOpacityToAlpha&&p==="opacity"&&(p="colorAlpha",h=v.__alphaForOpacity),X.dependsOn(p,t)&&h&&h.applyVisual(e,u,c)}),s[t]},a.prototype.positionGroup=function(e){var t=this.visualMapModel,r=this.api;qi(e,t.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})},a.prototype.doRender=function(e,t,r,n){},a.type="visualMap",a}(Xt),Ea=[["left","right","width"],["top","bottom","height"]];function zr(i,a,e){var t=i.option,r=t.align;if(r!=null&&r!=="auto")return r;for(var n={width:a.getWidth(),height:a.getHeight()},o=t.orient==="horizontal"?1:0,s=Ea[o],l=[0,null,10],u={},c=0;c<3;c++)u[Ea[1-o][c]]=l[c],u[s[c]]=c===2?e[0]:t[s[c]];var v=[["x","width",3],["y","height",0]][o],f=Ee(u,n,t.padding);return s[(f.margin[v[2]]||0)+f[v[0]]+f[v[1]]*.5<n[v[1]]*.5?0:1]}function tt(i,a){return C(i||[],function(e){e.dataIndex!=null&&(e.dataIndexInside=e.dataIndex,e.dataIndex=null),e.highlightKey="visualMap"+(a?a.componentIndex:"")}),i}var ee=ie,Uo=C,Na=Math.min,Dt=Math.max,Zo=12,Xo=6,Yo=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e._shapes={},e._dataInterval=[],e._handleEnds=[],e._hoverLinkDataIndices=[],e}return a.prototype.init=function(e,t){i.prototype.init.call(this,e,t),this._hoverLinkFromSeriesMouseOver=K(this._hoverLinkFromSeriesMouseOver,this),this._hideIndicator=K(this._hideIndicator,this)},a.prototype.doRender=function(e,t,r,n){(!n||n.type!=="selectDataRange"||n.from!==this.uid)&&this._buildView()},a.prototype._buildView=function(){this.group.removeAll();var e=this.visualMapModel,t=this.group;this._orient=e.get("orient"),this._useHandle=e.get("calculable"),this._resetInterval(),this._renderBar(t);var r=e.get("text");this._renderEndsText(t,r,0),this._renderEndsText(t,r,1),this._updateView(!0),this.renderBackground(t),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(t)},a.prototype._renderEndsText=function(e,t,r){if(t){var n=t[1-r];n=n!=null?n+"":"";var o=this.visualMapModel,s=o.get("textGap"),l=o.itemSize,u=this._shapes.mainGroup,c=this._applyTransform([l[0]/2,r===0?-s:l[1]+s],u),v=this._applyTransform(r===0?"bottom":"top",u),f=this._orient,p=this.visualMapModel.textStyleModel;this.group.add(new se({style:Be(p,{x:c[0],y:c[1],verticalAlign:f==="horizontal"?"middle":v,align:f==="horizontal"?v:"center",text:n})}))}},a.prototype._renderBar=function(e){var t=this.visualMapModel,r=this._shapes,n=t.itemSize,o=this._orient,s=this._useHandle,l=zr(t,this.api,n),u=r.mainGroup=this._createBarGroup(l),c=new ye;u.add(c),c.add(r.outOfRange=Ha()),c.add(r.inRange=Ha(null,s?Wa(this._orient):null,K(this._dragHandle,this,"all",!1),K(this._dragHandle,this,"all",!0))),c.setClipPath(new le({shape:{x:0,y:0,width:n[0],height:n[1],r:3}}));var v=t.textStyleModel.getTextRect("å›½"),f=Dt(v.width,v.height);s&&(r.handleThumbs=[],r.handleLabels=[],r.handleLabelPoints=[],this._createHandle(t,u,0,n,f,o),this._createHandle(t,u,1,n,f,o)),this._createIndicator(t,u,n,f,o),e.add(u)},a.prototype._createHandle=function(e,t,r,n,o,s){var l=K(this._dragHandle,this,r,!1),u=K(this._dragHandle,this,r,!0),c=Tt(e.get("handleSize"),n[0]),v=at(e.get("handleIcon"),-c/2,-c/2,c,c,null,!0),f=Wa(this._orient);v.attr({cursor:f,draggable:!0,drift:l,ondragend:u,onmousemove:function(y){zt(y.event)}}),v.x=n[0]/2,v.useStyle(e.getModel("handleStyle").getItemStyle()),v.setStyle({strokeNoScale:!0,strokeFirst:!0}),v.style.lineWidth*=2,v.ensureState("emphasis").style=e.getModel(["emphasis","handleStyle"]).getItemStyle(),ji(v,!0),t.add(v);var p=this.visualMapModel.textStyleModel,h=new se({cursor:f,draggable:!0,drift:l,onmousemove:function(y){zt(y.event)},ondragend:u,style:Be(p,{x:0,y:0,text:""})});h.ensureState("blur").style={opacity:.1},h.stateTransition={duration:200},this.group.add(h);var g=[c,0],d=this._shapes;d.handleThumbs[r]=v,d.handleLabelPoints[r]=g,d.handleLabels[r]=h},a.prototype._createIndicator=function(e,t,r,n,o){var s=Tt(e.get("indicatorSize"),r[0]),l=at(e.get("indicatorIcon"),-s/2,-s/2,s,s,null,!0);l.attr({cursor:"move",invisible:!0,silent:!0,x:r[0]/2});var u=e.getModel("indicatorStyle").getItemStyle();if(l instanceof sr){var c=l.style;l.useStyle(J({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},u))}else l.useStyle(u);t.add(l);var v=this.visualMapModel.textStyleModel,f=new se({silent:!0,invisible:!0,style:Be(v,{x:0,y:0,text:""})});this.group.add(f);var p=[(o==="horizontal"?n/2:Xo)+r[0]/2,0],h=this._shapes;h.indicator=l,h.indicatorLabel=f,h.indicatorLabelPoint=p,this._firstShowIndicator=!0},a.prototype._dragHandle=function(e,t,r,n){if(this._useHandle){if(this._dragging=!t,!t){var o=this._applyTransform([r,n],this._shapes.mainGroup,!0);this._updateInterval(e,o[1]),this._hideIndicator(),this._updateView()}t===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),t?!this._hovering&&this._clearHoverLinkToSeries():Fa(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[e],!1)}},a.prototype._resetInterval=function(){var e=this.visualMapModel,t=this._dataInterval=e.getSelected(),r=e.getExtent(),n=[0,e.itemSize[1]];this._handleEnds=[ee(t[0],r,n,!0),ee(t[1],r,n,!0)]},a.prototype._updateInterval=function(e,t){t=t||0;var r=this.visualMapModel,n=this._handleEnds,o=[0,r.itemSize[1]];mo(t,n,o,e,0);var s=r.getExtent();this._dataInterval=[ee(n[0],o,s,!0),ee(n[1],o,s,!0)]},a.prototype._updateView=function(e){var t=this.visualMapModel,r=t.getExtent(),n=this._shapes,o=[0,t.itemSize[1]],s=e?o:this._handleEnds,l=this._createBarVisual(this._dataInterval,r,s,"inRange"),u=this._createBarVisual(r,r,o,"outOfRange");n.inRange.setStyle({fill:l.barColor}).setShape("points",l.barPoints),n.outOfRange.setStyle({fill:u.barColor}).setShape("points",u.barPoints),this._updateHandle(s,l)},a.prototype._createBarVisual=function(e,t,r,n){var o={forceState:n,convertOpacityToAlpha:!0},s=this._makeColorGradient(e,o),l=[this.getControllerVisual(e[0],"symbolSize",o),this.getControllerVisual(e[1],"symbolSize",o)],u=this._createBarPoints(r,l);return{barColor:new Ji(0,0,0,1,s),barPoints:u,handlesColor:[s[0].color,s[s.length-1].color]}},a.prototype._makeColorGradient=function(e,t){var r=100,n=[],o=(e[1]-e[0])/r;n.push({color:this.getControllerVisual(e[0],"color",t),offset:0});for(var s=1;s<r;s++){var l=e[0]+o*s;if(l>e[1])break;n.push({color:this.getControllerVisual(l,"color",t),offset:s/r})}return n.push({color:this.getControllerVisual(e[1],"color",t),offset:1}),n},a.prototype._createBarPoints=function(e,t){var r=this.visualMapModel.itemSize;return[[r[0]-t[0],e[0]],[r[0],e[0]],[r[0],e[1]],[r[0]-t[1],e[1]]]},a.prototype._createBarGroup=function(e){var t=this._orient,r=this.visualMapModel.get("inverse");return new ye(t==="horizontal"&&!r?{scaleX:e==="bottom"?1:-1,rotation:Math.PI/2}:t==="horizontal"&&r?{scaleX:e==="bottom"?-1:1,rotation:-Math.PI/2}:t==="vertical"&&!r?{scaleX:e==="left"?1:-1,scaleY:-1}:{scaleX:e==="left"?1:-1})},a.prototype._updateHandle=function(e,t){if(this._useHandle){var r=this._shapes,n=this.visualMapModel,o=r.handleThumbs,s=r.handleLabels,l=n.itemSize,u=n.getExtent(),c=this._applyTransform("left",r.mainGroup);Uo([0,1],function(v){var f=o[v];f.setStyle("fill",t.handlesColor[v]),f.y=e[v];var p=ee(e[v],[0,l[1]],u,!0),h=this.getControllerVisual(p,"symbolSize");f.scaleX=f.scaleY=h/l[0],f.x=l[0]-h/2;var g=mt(r.handleLabelPoints[v],xt(f,this.group));if(this._orient==="horizontal"){var d=c==="left"||c==="top"?(l[0]-h)/2:(l[0]-h)/-2;g[1]+=d}s[v].setStyle({x:g[0],y:g[1],text:n.formatValueText(this._dataInterval[v]),verticalAlign:"middle",align:this._orient==="vertical"?this._applyTransform("left",r.mainGroup):"center"})},this)}},a.prototype._showIndicator=function(e,t,r,n){var o=this.visualMapModel,s=o.getExtent(),l=o.itemSize,u=[0,l[1]],c=this._shapes,v=c.indicator;if(v){v.attr("invisible",!1);var f={convertOpacityToAlpha:!0},p=this.getControllerVisual(e,"color",f),h=this.getControllerVisual(e,"symbolSize"),g=ee(e,s,u,!0),d=l[0]-h/2,y={x:v.x,y:v.y};v.y=g,v.x=d;var x=mt(c.indicatorLabelPoint,xt(v,this.group)),m=c.indicatorLabel;m.attr("invisible",!1);var b=this._applyTransform("left",c.mainGroup),S=this._orient,_=S==="horizontal";m.setStyle({text:(r||"")+o.formatValueText(t),verticalAlign:_?b:"middle",align:_?"center":b});var w={x:d,y:g,style:{fill:p}},A={style:{x:x[0],y:x[1]}};if(o.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var L={duration:100,easing:"cubicInOut",additive:!0};v.x=y.x,v.y=y.y,v.animateTo(w,L),m.animateTo(A,L)}else v.attr(w),m.attr(A);this._firstShowIndicator=!1;var M=this._shapes.handleLabels;if(M)for(var T=0;T<M.length;T++)this.api.enterBlur(M[T])}},a.prototype._enableHoverLinkToSeries=function(){var e=this;this._shapes.mainGroup.on("mousemove",function(t){if(e._hovering=!0,!e._dragging){var r=e.visualMapModel.itemSize,n=e._applyTransform([t.offsetX,t.offsetY],e._shapes.mainGroup,!0,!0);n[1]=Na(Dt(0,n[1]),r[1]),e._doHoverLinkToSeries(n[1],0<=n[0]&&n[0]<=r[0])}}).on("mouseout",function(){e._hovering=!1,!e._dragging&&e._clearHoverLinkToSeries()})},a.prototype._enableHoverLinkFromSeries=function(){var e=this.api.getZr();this.visualMapModel.option.hoverLink?(e.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),e.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},a.prototype._doHoverLinkToSeries=function(e,t){var r=this.visualMapModel,n=r.itemSize;if(r.option.hoverLink){var o=[0,n[1]],s=r.getExtent();e=Na(Dt(o[0],e),o[1]);var l=Ko(r,s,o),u=[e-l,e+l],c=ee(e,o,s,!0),v=[ee(u[0],o,s,!0),ee(u[1],o,s,!0)];u[0]<o[0]&&(v[0]=-1/0),u[1]>o[1]&&(v[1]=1/0),t&&(v[0]===-1/0?this._showIndicator(c,v[1],"< ",l):v[1]===1/0?this._showIndicator(c,v[0],"> ",l):this._showIndicator(c,c,"â‰ˆ ",l));var f=this._hoverLinkDataIndices,p=[];(t||Fa(r))&&(p=this._hoverLinkDataIndices=r.findTargetDataIndices(v));var h=Qi(f,p);this._dispatchHighDown("downplay",tt(h[0],r)),this._dispatchHighDown("highlight",tt(h[1],r))}},a.prototype._hoverLinkFromSeriesMouseOver=function(e){var t;if(en(e.target,function(l){var u=kt(l);if(u.dataIndex!=null)return t=u,!0},!0),!!t){var r=this.ecModel.getSeriesByIndex(t.seriesIndex),n=this.visualMapModel;if(n.isTargetSeries(r)){var o=r.getData(t.dataType),s=o.getStore().get(n.getDataDimensionIndex(o),t.dataIndex);isNaN(s)||this._showIndicator(s,s)}}},a.prototype._hideIndicator=function(){var e=this._shapes;e.indicator&&e.indicator.attr("invisible",!0),e.indicatorLabel&&e.indicatorLabel.attr("invisible",!0);var t=this._shapes.handleLabels;if(t)for(var r=0;r<t.length;r++)this.api.leaveBlur(t[r])},a.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var e=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",tt(e,this.visualMapModel)),e.length=0},a.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var e=this.api.getZr();e.off("mouseover",this._hoverLinkFromSeriesMouseOver),e.off("mouseout",this._hideIndicator)},a.prototype._applyTransform=function(e,t,r,n){var o=xt(t,n?null:this.group);return H(e)?mt(e,o,r):tn(e,o,r)},a.prototype._dispatchHighDown=function(e,t){t&&t.length&&this.api.dispatchAction({type:e,batch:t})},a.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},a.type="visualMap.continuous",a}(kr);function Ha(i,a,e,t){return new an({shape:{points:i},draggable:!!e,cursor:a,drift:e,onmousemove:function(r){zt(r.event)},ondragend:t})}function Ko(i,a,e){var t=Zo/2,r=i.get("hoverLinkDataSize");return r&&(t=ee(r,a,e,!0)/2),t}function Fa(i){var a=i.get("hoverLinkOnHandle");return!!(a==null?i.get("realtime"):a)}function Wa(i){return i==="vertical"?"ns-resize":"ew-resize"}var qo={type:"selectDataRange",event:"dataRangeSelected",update:"update"},jo=function(i,a){a.eachComponent({mainType:"visualMap",query:i},function(e){e.setSelected(i.selected)})},Jo=[{createOnAllSeries:!0,reset:function(i,a){var e=[];return a.eachComponent("visualMap",function(t){var r=i.pipelineContext;!t.isTargetSeries(i)||r&&r.large||e.push(Io(t.stateList,t.targetVisuals,K(t.getValueState,t),t.getDataDimensionIndex(i.getData())))}),e}},{createOnAllSeries:!0,reset:function(i,a){var e=i.getData(),t=[];a.eachComponent("visualMap",function(r){if(r.isTargetSeries(i)){var n=r.getVisualMeta(K(Qo,null,i,r))||{stops:[],outerColors:[]},o=r.getDataDimensionIndex(e);o>=0&&(n.dimension=o,t.push(n))}}),i.getData().setVisual("visualMeta",t)}}];function Qo(i,a,e,t){for(var r=a.targetVisuals[t],n=X.prepareVisualTypes(r),o={color:rn(i.getData(),"color")},s=0,l=n.length;s<l;s++){var u=n[s],c=r[u==="opacity"?"__alphaForOpacity":u];c&&c.applyVisual(e,v,f)}return o.color;function v(p){return o[p]}function f(p,h){o[p]=h}}var $a=C;function es(i){var a=i&&i.visualMap;H(a)||(a=a?[a]:[]),$a(a,function(e){if(e){Ae(e,"splitList")&&!Ae(e,"pieces")&&(e.pieces=e.splitList,delete e.splitList);var t=e.pieces;t&&H(t)&&$a(t,function(r){he(r)&&(Ae(r,"start")&&!Ae(r,"min")&&(r.min=r.start),Ae(r,"end")&&!Ae(r,"max")&&(r.max=r.end))})}})}function Ae(i,a){return i&&i.hasOwnProperty&&i.hasOwnProperty(a)}var Ua=!1;function Pr(i){Ua||(Ua=!0,i.registerSubTypeDefaulter("visualMap",function(a){return!a.categories&&(!(a.pieces?a.pieces.length>0:a.splitNumber>0)||a.calculable)?"continuous":"piecewise"}),i.registerAction(qo,jo),C(Jo,function(a){i.registerVisual(i.PRIORITY.VISUAL.COMPONENT,a)}),i.registerPreprocessor(es))}function ts(i){i.registerComponentModel($o),i.registerComponentView(Yo),Pr(i)}var as=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e._pieceList=[],e}return a.prototype.optionUpdated=function(e,t){i.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var r=this._mode=this._determineMode();this._pieceList=[],rs[this._mode].call(this,this._pieceList),this._resetSelected(e,t);var n=this.option.categories;this.resetVisual(function(o,s){r==="categories"?(o.mappingMethod="category",o.categories=Q(n)):(o.dataExtent=this.getExtent(),o.mappingMethod="piecewise",o.pieceList=Z(this._pieceList,function(l){return l=Q(l),s!=="inRange"&&(l.visual=null),l}))})},a.prototype.completeVisualOption=function(){var e=this.option,t={},r=X.listVisualTypes(),n=this.isCategory();C(e.pieces,function(s){C(r,function(l){s.hasOwnProperty(l)&&(t[l]=1)})}),C(t,function(s,l){var u=!1;C(this.stateList,function(c){u=u||o(e,c,l)||o(e.target,c,l)},this),!u&&C(this.stateList,function(c){(e[c]||(e[c]={}))[l]=Rr.get(l,c==="inRange"?"active":"inactive",n)})},this);function o(s,l,u){return s&&s[l]&&s[l].hasOwnProperty(u)}i.prototype.completeVisualOption.apply(this,arguments)},a.prototype._resetSelected=function(e,t){var r=this.option,n=this._pieceList,o=(t?r:e).selected||{};if(r.selected=o,C(n,function(l,u){var c=this.getSelectedMapKey(l);o.hasOwnProperty(c)||(o[c]=!0)},this),r.selectedMode==="single"){var s=!1;C(n,function(l,u){var c=this.getSelectedMapKey(l);o[c]&&(s?o[c]=!1:s=!0)},this)}},a.prototype.getItemSymbol=function(){return this.get("itemSymbol")},a.prototype.getSelectedMapKey=function(e){return this._mode==="categories"?e.value+"":e.index+""},a.prototype.getPieceList=function(){return this._pieceList},a.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},a.prototype.setSelected=function(e){this.option.selected=Q(e)},a.prototype.getValueState=function(e){var t=X.findPieceIndex(e,this._pieceList);return t!=null&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},a.prototype.findTargetDataIndices=function(e){var t=[],r=this._pieceList;return this.eachTargetSeries(function(n){var o=[],s=n.getData();s.each(this.getDataDimensionIndex(s),function(l,u){var c=X.findPieceIndex(l,r);c===e&&o.push(u)},this),t.push({seriesId:n.id,dataIndex:o})},this),t},a.prototype.getRepresentValue=function(e){var t;if(this.isCategory())t=e.value;else if(e.value!=null)t=e.value;else{var r=e.interval||[];t=r[0]===-1/0&&r[1]===1/0?0:(r[0]+r[1])/2}return t},a.prototype.getVisualMeta=function(e){if(this.isCategory())return;var t=[],r=["",""],n=this;function o(c,v){var f=n.getRepresentValue({interval:c});v||(v=n.getValueState(f));var p=e(f,v);c[0]===-1/0?r[0]=p:c[1]===1/0?r[1]=p:t.push({value:c[0],color:p},{value:c[1],color:p})}var s=this._pieceList.slice();if(!s.length)s.push({interval:[-1/0,1/0]});else{var l=s[0].interval[0];l!==-1/0&&s.unshift({interval:[-1/0,l]}),l=s[s.length-1].interval[1],l!==1/0&&s.push({interval:[l,1/0]})}var u=-1/0;return C(s,function(c){var v=c.interval;v&&(v[0]>u&&o([u,v[0]],"outOfRange"),o(v.slice()),u=v[1])},this),{stops:t,outerColors:r}},a.type="visualMap.piecewise",a.defaultOption=Yt(nt.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),a}(nt),rs={splitNumber:function(i){var a=this.option,e=Math.min(a.precision,20),t=this.getExtent(),r=a.splitNumber;r=Math.max(parseInt(r,10),1),a.splitNumber=r;for(var n=(t[1]-t[0])/r;+n.toFixed(e)!==n&&e<5;)e++;a.precision=e,n=+n.toFixed(e),a.minOpen&&i.push({interval:[-1/0,t[0]],close:[0,0]});for(var o=0,s=t[0];o<r;s+=n,o++){var l=o===r-1?t[1]:s+n;i.push({interval:[s,l],close:[1,1]})}a.maxOpen&&i.push({interval:[t[1],1/0],close:[0,0]}),ga(i),C(i,function(u,c){u.index=c,u.text=this.formatValueText(u.interval)},this)},categories:function(i){var a=this.option;C(a.categories,function(e){i.push({text:this.formatValueText(e,!0),value:e})},this),Za(a,i)},pieces:function(i){var a=this.option;C(a.pieces,function(e,t){he(e)||(e={value:e});var r={text:"",index:t};if(e.label!=null&&(r.text=e.label),e.hasOwnProperty("value")){var n=r.value=e.value;r.interval=[n,n],r.close=[1,1]}else{for(var o=r.interval=[],s=r.close=[0,0],l=[1,0,1],u=[-1/0,1/0],c=[],v=0;v<2;v++){for(var f=[["gte","gt","min"],["lte","lt","max"]][v],p=0;p<3&&o[v]==null;p++)o[v]=e[f[p]],s[v]=l[p],c[v]=p===2;o[v]==null&&(o[v]=u[v])}c[0]&&o[1]===1/0&&(s[0]=0),c[1]&&o[0]===-1/0&&(s[1]=0),o[0]===o[1]&&s[0]&&s[1]&&(r.value=o[0])}r.visual=X.retrieveVisuals(e),i.push(r)},this),Za(a,i),ga(i),C(i,function(e){var t=e.close,r=[["<","â‰¤"][t[1]],[">","â‰¥"][t[0]]];e.text=e.text||this.formatValueText(e.value!=null?e.value:e.interval,!1,r)},this)}};function Za(i,a){var e=i.inverse;(i.orient==="vertical"?!e:e)&&a.reverse()}var is=function(i){R(a,i);function a(){var e=i!==null&&i.apply(this,arguments)||this;return e.type=a.type,e}return a.prototype.doRender=function(){var e=this.group;e.removeAll();var t=this.visualMapModel,r=t.get("textGap"),n=t.textStyleModel,o=n.getFont(),s=n.getTextColor(),l=this._getItemAlign(),u=t.itemSize,c=this._getViewData(),v=c.endsText,f=nn(t.get("showLabel",!0),!v),p=!t.get("selectedMode");v&&this._renderEndsText(e,v[0],u,f,l),C(c.viewPieceList,function(h){var g=h.piece,d=new ye;d.onclick=K(this._onItemClick,this,g),this._enableHoverLink(d,h.indexInModelPieceList);var y=t.getRepresentValue(g);if(this._createItemSymbol(d,y,[0,0,u[0],u[1]],p),f){var x=this.visualMapModel.getValueState(y);d.add(new se({style:{x:l==="right"?-r:u[0]+r,y:u[1]/2,text:g.text,verticalAlign:"middle",align:l,font:o,fill:s,opacity:x==="outOfRange"?.5:1},silent:p}))}e.add(d)},this),v&&this._renderEndsText(e,v[1],u,f,l),we(t.get("orient"),e,t.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},a.prototype._enableHoverLink=function(e,t){var r=this;e.on("mouseover",function(){return n("highlight")}).on("mouseout",function(){return n("downplay")});var n=function(o){var s=r.visualMapModel;s.option.hoverLink&&r.api.dispatchAction({type:o,batch:tt(s.findTargetDataIndices(t),s)})}},a.prototype._getItemAlign=function(){var e=this.visualMapModel,t=e.option;if(t.orient==="vertical")return zr(e,this.api,e.itemSize);var r=t.align;return(!r||r==="auto")&&(r="left"),r},a.prototype._renderEndsText=function(e,t,r,n,o){if(t){var s=new ye,l=this.visualMapModel.textStyleModel;s.add(new se({style:Be(l,{x:n?o==="right"?r[0]:0:r[0]/2,y:r[1]/2,verticalAlign:"middle",align:n?o:"center",text:t})})),e.add(s)}},a.prototype._getViewData=function(){var e=this.visualMapModel,t=Z(e.getPieceList(),function(s,l){return{piece:s,indexInModelPieceList:l}}),r=e.get("text"),n=e.get("orient"),o=e.get("inverse");return(n==="horizontal"?o:!o)?t.reverse():r&&(r=r.slice().reverse()),{viewPieceList:t,endsText:r}},a.prototype._createItemSymbol=function(e,t,r,n){var o=at(this.getControllerVisual(t,"symbol"),r[0],r[1],r[2],r[3],this.getControllerVisual(t,"color"));o.silent=n,e.add(o)},a.prototype._onItemClick=function(e){var t=this.visualMapModel,r=t.option,n=r.selectedMode;if(n){var o=Q(r.selected),s=t.getSelectedMapKey(e);n==="single"||n===!0?(o[s]=!0,C(o,function(l,u){o[u]=u===s})):o[s]=!o[s],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:o})}},a.type="visualMap.piecewise",a}(kr);function ns(i){i.registerComponentModel(as),i.registerComponentView(is),Pr(i)}function os(i){ue(ts),ue(ns)}const ss={class:"chart-wrapper"},ls={class:"chart-content"},us={__name:"BossParticipationDonut",setup(i){ue([Zn,cr,Or,vr]);const a=["#7BD08D","#A9DBB5","#5AB06C","#3D9A4E","#2C8A3D"],e=q({backgroundColor:"transparent",tooltip:{trigger:"item",backgroundColor:"#002C1B",borderColor:"#7BD08D",borderWidth:1,textStyle:{color:"#A9DBB5"}},legend:{orient:"vertical",left:10,top:"center",textStyle:{color:"#A9DBB5",fontSize:12},itemGap:10,itemWidth:15,itemHeight:15,icon:"circle",formatter:t=>t.length>10?t.slice(0,10)+"...":t},series:[{name:"ParticipaciÃ³n",type:"pie",center:["65%","50%"],radius:["45%","75%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#001B11",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:16,fontWeight:"bold",color:"#FFFFFF"},itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},data:[{value:262,name:"Clan A",itemStyle:{color:a[0]}},{value:184,name:"Clan B",itemStyle:{color:a[1]}},{value:145,name:"Clan C",itemStyle:{color:a[2]}},{value:121,name:"Clan D",itemStyle:{color:a[3]}},{value:75,name:"Otros",itemStyle:{color:a[4]}}]}]});return(t,r)=>(We(),ot("div",ss,[r[0]||(r[0]=I("div",{class:"chart-header"},[I("div",null,[I("h2",{class:"chart-title"},"ParticipaciÃ³n en Boss Semanal"),I("p",{class:"chart-subtitle"},"DistribuciÃ³n de jugadores por clanes")])],-1)),I("div",ls,[F(te(hr),{option:e.value,autoresize:""},null,8,["option"])])]))}},cs=Fe(us,[["__scopeId","data-v-78075d6f"]]),vs={class:"chart-wrapper"},hs={class:"chart-content"},ps={__name:"WeeklyRevenue",setup(i){const a=Er,e=q([{name:"Ingresos (â‚¬)",data:[3e3,3375,2750,3750,4250,4e3,4375]}]),t=q({chart:{toolbar:{show:!1},background:"transparent",fontFamily:"inherit",height:350},plotOptions:{bar:{borderRadius:6,columnWidth:"50%",distributed:!1,dataLabels:{position:"top"}}},dataLabels:{enabled:!0,formatter:r=>"".concat((r/1e3).toFixed(1),"Kâ‚¬"),offsetY:-20,style:{fontSize:"12px",colors:["#A9DBB5"]}},xaxis:{categories:["Semana 1","Semana 2","Semana 3","Semana 4","Semana 5","Semana 6","Semana 7"],labels:{style:{colors:"#A9DBB5",fontSize:"12px"},rotate:-45,offsetY:5},axisBorder:{show:!1},axisTicks:{show:!1}},yaxis:{labels:{formatter:r=>"".concat((r/1e3).toFixed(0),"Kâ‚¬"),style:{colors:"#A9DBB5",fontSize:"12px"}},min:0,max:5e3,tickAmount:5},grid:{borderColor:"rgba(169, 219, 181, 0.1)",strokeDashArray:4,position:"back",padding:{top:20,right:10,bottom:10,left:10}},colors:["#7BD08D"],fill:{type:"gradient",gradient:{shade:"dark",type:"vertical",shadeIntensity:.3,gradientToColors:["#A9DBB5"],inverseColors:!1,opacityFrom:1,opacityTo:.8,stops:[0,100]}},tooltip:{enabled:!0,theme:"dark",style:{fontSize:"12px"},y:{formatter:r=>"".concat(r.toLocaleString(),"â‚¬")}}});return(r,n)=>(We(),ot("div",vs,[n[0]||(n[0]=I("div",{class:"chart-header"},[I("div",null,[I("h2",{class:"chart-title"},"Ingresos Semanales"),I("p",{class:"chart-subtitle"},"Comparativa de ingresos por semana")]),I("div",{class:"chart-badge"},"+9.4%")],-1)),I("div",hs,[F(te(a),{type:"bar",height:"100%",options:t.value,series:e.value},null,8,["options","series"])])]))}},fs=Fe(ps,[["__scopeId","data-v-64de44b6"]]),gs={class:"chart-wrapper"},ds={class:"chart-content"},ys={__name:"WeeklyRetentionHeatmap",setup(i){ue([wo,cr,Mo,Or,os,vr]);const e=q({backgroundColor:"transparent",tooltip:{position:"top",formatter:t=>{const r=["Clan A","Clan B","Clan C","Clan D","Otros"];return"".concat(r[t.value[1]],"<br>").concat(t.name,": ").concat(t.value[2]," dÃ­as")},backgroundColor:"#002C1B",borderColor:"#7BD08D",borderWidth:1,textStyle:{color:"#A9DBB5"}},grid:{height:"65%",top:"10%",left:"10%",right:"5%",bottom:"20%"},xAxis:{type:"category",data:["Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b","Dom"],splitArea:{show:!0},axisLine:{lineStyle:{color:"rgba(169, 219, 181, 0.3)"}},axisLabel:{color:"#A9DBB5",fontSize:10,margin:8,rotate:0},splitArea:{show:!0,areaStyle:{color:["rgba(0, 44, 27, 0.02)","rgba(0, 44, 27, 0.1)"]}}},yAxis:{type:"category",data:["Clan A","Clan B","Clan C","Clan D","Otros"],splitArea:{show:!0},axisLine:{lineStyle:{color:"rgba(169, 219, 181, 0.3)"}},axisLabel:{color:"#A9DBB5",fontSize:10,margin:8},splitArea:{show:!0,areaStyle:{color:["rgba(0, 44, 27, 0.02)","rgba(0, 44, 27, 0.1)"]}}},visualMap:{min:0,max:7,calculable:!0,orient:"horizontal",left:"center",bottom:"5%",itemWidth:12,itemHeight:80,textStyle:{color:"#A9DBB5",fontSize:10},inRange:{color:["#A9DBB5","#7BD08D","#5AB06C","#2C8A3D","#002C1B","#001B11"]}},series:[{name:"DÃ­as activos",type:"heatmap",data:[[0,0,7],[0,1,6],[0,2,5],[0,3,4],[0,4,3],[1,0,7],[1,1,6],[1,2,5],[1,3,4],[1,4,3],[2,0,6],[2,1,5],[2,2,4],[2,3,3],[2,4,2],[3,0,6],[3,1,5],[3,2,4],[3,3,3],[3,4,2],[4,0,7],[4,1,6],[4,2,5],[4,3,4],[4,4,3],[5,0,5],[5,1,4],[5,2,3],[5,3,2],[5,4,1],[6,0,5],[6,1,4],[6,2,3],[6,3,2],[6,4,1]],label:{show:!1},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}},itemStyle:{borderWidth:1,borderColor:"rgba(0, 27, 17, 0.5)"}}]});return(t,r)=>(We(),ot("div",gs,[r[0]||(r[0]=I("div",{class:"chart-header"},[I("div",null,[I("h2",{class:"chart-title"},"RetenciÃ³n Semanal"),I("p",{class:"chart-subtitle"},"DÃ­as activos promedio")])],-1)),I("div",ds,[F(te(hr),{option:e.value,autoresize:"",class:"heatmap-chart"},null,8,["option"])])]))}},ms=Fe(ys,[["__scopeId","data-v-ca742652"]]),xs={class:"dashboard-container"},Ss={class:"kpi-row"},bs={class:"kpi-card"},_s={class:"kpi-card"},Cs={class:"kpi-card"},As={class:"kpi-card"},ws={class:"charts-grid"},Ms={class:"chart-card"},Ls={class:"chart-card"},Ds={class:"chart-card"},Is={class:"chart-card"},Ts=Nr({__name:"NegocioPage",setup(i){const a=q(650),e=q({chart:{id:"rt",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#7BD08D"],fill:{type:"gradient",gradient:{shadeIntensity:1,opacityFrom:.7,opacityTo:.2,stops:[0,90,100],colorStops:[{offset:0,color:"#7BD08D",opacity:.4},{offset:100,color:"#001B11",opacity:0}]}},tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),t=q([{data:[500,520,480,530,a.value]}]),r=q({chart:{id:"inc",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#A9DBB5"],tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),n=q([{data:[12500,13e3,12e3,15750,15e3,16250,16400]}]),o=q({chart:{id:"dau",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#EE9AE5"],tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),s=q([{data:[25,27,26,28,27,29,27]}]),l=q({chart:{id:"boss",type:"area",sparkline:{enabled:!0},dropShadow:{enabled:!0,top:1,left:1,blur:2,opacity:.5}},stroke:{curve:"smooth",width:3},colors:["#F31B4A"],tooltip:{theme:"dark",x:{show:!1},y:{title:{formatter:()=>""}}}}),u=q([{data:[700,750,800,825,795,850,787]}]);let c;Xa(()=>{c=window.setInterval(()=>{const f=Math.floor(Math.random()*100)+650;a.value=f,t.value=[{data:[...t.value[0].data.slice(1),f]}]},3500),v(),window.addEventListener("resize",v)}),Ya(()=>{c!==void 0&&clearInterval(c),window.removeEventListener("resize",v)});function v(){const f=window.innerHeight,p=document.querySelector("ion-header"),h=p?p.clientHeight:56,g=f-h-8,d=document.querySelector(".dashboard-container"),y=document.querySelector(".kpi-row"),x=document.querySelector(".charts-grid");if(d&&y&&x){const m=y.clientHeight,S=g-m-24;S>300&&(x.style.height="".concat(S,"px"))}}return(f,p)=>(We(),Hr(te(Fr),null,{default:fe(()=>[F(te(Wr),{translucent:!0},{default:fe(()=>[F(te($r),{class:"toolbar"},{default:fe(()=>[F(te(Ur),{slot:"start"},{default:fe(()=>[F(te(Zr),{color:"light"})]),_:1}),F(te(Xr),null,{default:fe(()=>p[0]||(p[0]=[Yr("ðŸš€ Dashboard de Negocio")])),_:1})]),_:1})]),_:1}),F(te(Kr),{class:"dashboard-content"},{default:fe(()=>[I("div",xs,[I("div",Ss,[I("div",bs,[F(Xe,{title:"JUGADORES ACTIVOS",value:a.value.toString(),chartOptions:e.value,chartSeries:t.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#7BD08D",iconName:"people-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},{default:fe(()=>p[1]||(p[1]=[I("div",{class:"live-indicator"},[I("span",{class:"pulse-dot"}),I("span",{class:"live-text"},"En vivo")],-1)])),_:1},8,["value","chartOptions","chartSeries"])]),I("div",_s,[F(Xe,{title:"INGRESOS ÃšLTIMO MES",value:"16.4Kâ‚¬",chartOptions:r.value,chartSeries:n.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#A9DBB5",iconName:"cash-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},null,8,["chartOptions","chartSeries"])]),I("div",Cs,[F(Xe,{title:"MAU",value:"27%",chartOptions:o.value,chartSeries:s.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#A9DBB5",iconName:"eye-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},null,8,["chartOptions","chartSeries"])]),I("div",As,[F(Xe,{title:"BOSS PART. ÃšLTIMA SEMANA",value:"787",chartOptions:l.value,chartSeries:u.value,bgColor:"rgba(0,44,27,0.7)",textColor:"#A9DBB5",iconName:"people-outline",padding:"12px",iconSize:"1.5rem",titleFontSize:"0.7rem",valueFontSize:"2rem",detailsGap:"4px",iconTitleGap:"4px"},null,8,["chartOptions","chartSeries"])])]),I("div",ws,[I("div",Ms,[F(un)]),I("div",Ls,[F(fs)]),I("div",Ds,[F(cs)]),I("div",Is,[F(ms)])])])]),_:1})]),_:1}))}}),Rs=Fe(Ts,[["__scopeId","data-v-5f708f0a"]]);export{Rs as default};
